{"version":3,"file":"module.js","mappings":"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","sources":["webpack:///../node_modules/base64-js/index.js","webpack:///../node_modules/buffer/index.js","webpack:///../node_modules/react-medium-image-zoom/dist/styles.css","webpack:///../node_modules/css-loader/dist/runtime/api.js","webpack:///../node_modules/css-loader/dist/runtime/sourceMaps.js","webpack:///../node_modules/file-saver/dist/FileSaver.min.js","webpack:///../node_modules/ieee754/index.js","webpack:///../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///../node_modules/style-loader/dist/runtime/insertBySelector.js","webpack:///../node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack:///../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack:///../node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack:///../node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack:///external amd \"@emotion/css\"","webpack:///external amd \"@grafana/data\"","webpack:///external amd \"@grafana/ui\"","webpack:///external amd \"react\"","webpack:///external amd \"react-dom\"","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/global","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/nonce","webpack:///../node_modules/react-medium-image-zoom/dist/styles.css?4f96","webpack:///../node_modules/js-base64/base64.mjs","webpack:///../node_modules/react-medium-image-zoom/dist/index.js","webpack:///../node_modules/react-zoom-pan-pinch/dist/index.esm.js","webpack:///./types/image.ts","webpack:///./types/toolbar.ts","webpack:///./types/panel.ts","webpack:///./constants/default.ts","webpack:///./constants/image.ts","webpack:///./constants/tests.ts","webpack:///./constants/toolbar.ts","webpack:///./utils.ts","webpack:///./components/ImagePanel/ImagePanel.styles.ts","webpack:///./module.ts","webpack:///./components/ImagePanel/ImagePanel.tsx"],"sourcesContent":["'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nvar K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    var arr = new Uint8Array(1)\n    var proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  var buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  var valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  var b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(\n      value[Symbol.toPrimitive]('string'), encodingOrOffset, length\n    )\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  var length = byteLength(string, encoding) | 0\n  var buf = createBuffer(length)\n\n  var actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  var buf = createBuffer(length)\n  for (var i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    var copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  var buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    var buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        Buffer.from(buf).copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  var len = string.length\n  var mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  var strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (var i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    var len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nvar hexSliceLookupTable = (function () {\n  var alphabet = '0123456789abcdef'\n  var table = new Array(256)\n  for (var i = 0; i < 16; ++i) {\n    var i16 = i * 16\n    for (var j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `[data-rmiz] {\n  position: relative;\n}\n[data-rmiz-ghost] {\n  position: absolute;\n  pointer-events: none;\n}\n[data-rmiz-btn-zoom],\n[data-rmiz-btn-unzoom] {\n  background-color: rgba(0, 0, 0, 0.7);\n  border-radius: 50%;\n  border: none;\n  box-shadow: 0 0 1px rgba(255, 255, 255, 0.5);\n  color: #fff;\n  height: 40px;\n  margin: 0;\n  outline-offset: 2px;\n  padding: 9px;\n  touch-action: manipulation;\n  width: 40px;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\n[data-rmiz-btn-zoom]:not(:focus):not(:active) {\n  position: absolute;\n  clip: rect(0 0 0 0);\n  clip-path: inset(50%);\n  height: 1px;\n  overflow: hidden;\n  pointer-events: none;\n  white-space: nowrap;\n  width: 1px;\n}\n[data-rmiz-btn-zoom] {\n  position: absolute;\n  inset: 10px 10px auto auto;\n  cursor: zoom-in;\n}\n[data-rmiz-btn-unzoom] {\n  position: absolute;\n  inset: 20px 20px auto auto;\n  cursor: zoom-out;\n  z-index: 1;\n}\n[data-rmiz-content=\"found\"] img,\n[data-rmiz-content=\"found\"] svg,\n[data-rmiz-content=\"found\"] [role=\"img\"],\n[data-rmiz-content=\"found\"] [data-zoom] {\n  cursor: zoom-in;\n}\n[data-rmiz-modal]::backdrop {\n  display: none;\n}\n[data-rmiz-modal][open] {\n  position: fixed;\n  width: 100vw;\n  width: 100dvw;\n  height: 100vh;\n  height: 100dvh;\n  max-width: none;\n  max-height: none;\n  margin: 0;\n  padding: 0;\n  border: 0;\n  background: transparent;\n  overflow: hidden;\n}\n[data-rmiz-modal-overlay] {\n  position: absolute;\n  inset: 0;\n  transition: background-color 0.3s;\n}\n[data-rmiz-modal-overlay=\"hidden\"] {\n  background-color: rgba(255, 255, 255, 0);\n}\n[data-rmiz-modal-overlay=\"visible\"] {\n  background-color: rgba(255, 255, 255, 1);\n}\n[data-rmiz-modal-content] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n[data-rmiz-modal-img] {\n  position: absolute;\n  cursor: zoom-out;\n  image-rendering: high-quality;\n  transform-origin: top left;\n  transition: transform 0.3s;\n}\n@media (prefers-reduced-motion: reduce) {\n  [data-rmiz-modal-overlay],\n  [data-rmiz-modal-img] {\n    transition-duration: 0.01ms !important;\n  }\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./../node_modules/react-medium-image-zoom/dist/styles.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,kBAAkB;AACpB;AACA;EACE,kBAAkB;EAClB,oBAAoB;AACtB;AACA;;EAEE,oCAAoC;EACpC,kBAAkB;EAClB,YAAY;EACZ,4CAA4C;EAC5C,WAAW;EACX,YAAY;EACZ,SAAS;EACT,mBAAmB;EACnB,YAAY;EACZ,0BAA0B;EAC1B,WAAW;EACX,wBAAwB;EACxB,qBAAqB;EACrB,gBAAgB;AAClB;AACA;EACE,kBAAkB;EAClB,mBAAmB;EACnB,qBAAqB;EACrB,WAAW;EACX,gBAAgB;EAChB,oBAAoB;EACpB,mBAAmB;EACnB,UAAU;AACZ;AACA;EACE,kBAAkB;EAClB,0BAA0B;EAC1B,eAAe;AACjB;AACA;EACE,kBAAkB;EAClB,0BAA0B;EAC1B,gBAAgB;EAChB,UAAU;AACZ;AACA;;;;EAIE,eAAe;AACjB;AACA;EACE,aAAa;AACf;AACA;EACE,eAAe;EACf,YAAY;EACZ,aAAa;EACb,aAAa;EACb,cAAc;EACd,eAAe;EACf,gBAAgB;EAChB,SAAS;EACT,UAAU;EACV,SAAS;EACT,uBAAuB;EACvB,gBAAgB;AAClB;AACA;EACE,kBAAkB;EAClB,QAAQ;EACR,iCAAiC;AACnC;AACA;EACE,wCAAwC;AAC1C;AACA;EACE,wCAAwC;AAC1C;AACA;EACE,kBAAkB;EAClB,WAAW;EACX,YAAY;AACd;AACA;EACE,kBAAkB;EAClB,gBAAgB;EAChB,6BAA6B;EAC7B,0BAA0B;EAC1B,0BAA0B;AAC5B;AACA;EACE;;IAEE,sCAAsC;EACxC;AACF\",\"sourcesContent\":[\"[data-rmiz] {\\n  position: relative;\\n}\\n[data-rmiz-ghost] {\\n  position: absolute;\\n  pointer-events: none;\\n}\\n[data-rmiz-btn-zoom],\\n[data-rmiz-btn-unzoom] {\\n  background-color: rgba(0, 0, 0, 0.7);\\n  border-radius: 50%;\\n  border: none;\\n  box-shadow: 0 0 1px rgba(255, 255, 255, 0.5);\\n  color: #fff;\\n  height: 40px;\\n  margin: 0;\\n  outline-offset: 2px;\\n  padding: 9px;\\n  touch-action: manipulation;\\n  width: 40px;\\n  -webkit-appearance: none;\\n  -moz-appearance: none;\\n  appearance: none;\\n}\\n[data-rmiz-btn-zoom]:not(:focus):not(:active) {\\n  position: absolute;\\n  clip: rect(0 0 0 0);\\n  clip-path: inset(50%);\\n  height: 1px;\\n  overflow: hidden;\\n  pointer-events: none;\\n  white-space: nowrap;\\n  width: 1px;\\n}\\n[data-rmiz-btn-zoom] {\\n  position: absolute;\\n  inset: 10px 10px auto auto;\\n  cursor: zoom-in;\\n}\\n[data-rmiz-btn-unzoom] {\\n  position: absolute;\\n  inset: 20px 20px auto auto;\\n  cursor: zoom-out;\\n  z-index: 1;\\n}\\n[data-rmiz-content=\\\"found\\\"] img,\\n[data-rmiz-content=\\\"found\\\"] svg,\\n[data-rmiz-content=\\\"found\\\"] [role=\\\"img\\\"],\\n[data-rmiz-content=\\\"found\\\"] [data-zoom] {\\n  cursor: zoom-in;\\n}\\n[data-rmiz-modal]::backdrop {\\n  display: none;\\n}\\n[data-rmiz-modal][open] {\\n  position: fixed;\\n  width: 100vw;\\n  width: 100dvw;\\n  height: 100vh;\\n  height: 100dvh;\\n  max-width: none;\\n  max-height: none;\\n  margin: 0;\\n  padding: 0;\\n  border: 0;\\n  background: transparent;\\n  overflow: hidden;\\n}\\n[data-rmiz-modal-overlay] {\\n  position: absolute;\\n  inset: 0;\\n  transition: background-color 0.3s;\\n}\\n[data-rmiz-modal-overlay=\\\"hidden\\\"] {\\n  background-color: rgba(255, 255, 255, 0);\\n}\\n[data-rmiz-modal-overlay=\\\"visible\\\"] {\\n  background-color: rgba(255, 255, 255, 1);\\n}\\n[data-rmiz-modal-content] {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n}\\n[data-rmiz-modal-img] {\\n  position: absolute;\\n  cursor: zoom-out;\\n  image-rendering: high-quality;\\n  transform-origin: top left;\\n  transition: transform 0.3s;\\n}\\n@media (prefers-reduced-motion: reduce) {\\n  [data-rmiz-modal-overlay],\\n  [data-rmiz-modal-img] {\\n    transition-duration: 0.01ms !important;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open(\"GET\",a),d.responseType=\"blob\",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error(\"could not download file\")},d.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open(\"\",\"_blank\"),g&&(g.document.title=g.document.body.innerText=\"downloading...\"),\"string\"==typeof b)return c(b,d,e);var h=\"application/octet-stream\"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&\"undefined\"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,\"undefined\"!=typeof module&&(module.exports=g)});\n\n//# sourceMappingURL=FileSaver.min.js.map","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","module.exports = __WEBPACK_EXTERNAL_MODULE__89__;","module.exports = __WEBPACK_EXTERNAL_MODULE__781__;","module.exports = __WEBPACK_EXTERNAL_MODULE__7__;","module.exports = __WEBPACK_EXTERNAL_MODULE__959__;","module.exports = __WEBPACK_EXTERNAL_MODULE__398__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nc = undefined;","\n      import API from \"!../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../css-loader/dist/cjs.js!./styles.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../css-loader/dist/cjs.js!./styles.css\";\n       export default content && content.locals ? content.locals : undefined;\n","/**\n *  base64.ts\n *\n *  Licensed under the BSD 3-Clause License.\n *    http://opensource.org/licenses/BSD-3-Clause\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n *\n * @author Dan Kogai (https://github.com/dankogai)\n */\nconst version = '3.7.7';\n/**\n * @deprecated use lowercase `version`.\n */\nconst VERSION = version;\nconst _hasBuffer = typeof Buffer === 'function';\nconst _TD = typeof TextDecoder === 'function' ? new TextDecoder() : undefined;\nconst _TE = typeof TextEncoder === 'function' ? new TextEncoder() : undefined;\nconst b64ch = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\nconst b64chs = Array.prototype.slice.call(b64ch);\nconst b64tab = ((a) => {\n    let tab = {};\n    a.forEach((c, i) => tab[c] = i);\n    return tab;\n})(b64chs);\nconst b64re = /^(?:[A-Za-z\\d+\\/]{4})*?(?:[A-Za-z\\d+\\/]{2}(?:==)?|[A-Za-z\\d+\\/]{3}=?)?$/;\nconst _fromCC = String.fromCharCode.bind(String);\nconst _U8Afrom = typeof Uint8Array.from === 'function'\n    ? Uint8Array.from.bind(Uint8Array)\n    : (it) => new Uint8Array(Array.prototype.slice.call(it, 0));\nconst _mkUriSafe = (src) => src\n    .replace(/=/g, '').replace(/[+\\/]/g, (m0) => m0 == '+' ? '-' : '_');\nconst _tidyB64 = (s) => s.replace(/[^A-Za-z0-9\\+\\/]/g, '');\n/**\n * polyfill version of `btoa`\n */\nconst btoaPolyfill = (bin) => {\n    // console.log('polyfilled');\n    let u32, c0, c1, c2, asc = '';\n    const pad = bin.length % 3;\n    for (let i = 0; i < bin.length;) {\n        if ((c0 = bin.charCodeAt(i++)) > 255 ||\n            (c1 = bin.charCodeAt(i++)) > 255 ||\n            (c2 = bin.charCodeAt(i++)) > 255)\n            throw new TypeError('invalid character found');\n        u32 = (c0 << 16) | (c1 << 8) | c2;\n        asc += b64chs[u32 >> 18 & 63]\n            + b64chs[u32 >> 12 & 63]\n            + b64chs[u32 >> 6 & 63]\n            + b64chs[u32 & 63];\n    }\n    return pad ? asc.slice(0, pad - 3) + \"===\".substring(pad) : asc;\n};\n/**\n * does what `window.btoa` of web browsers do.\n * @param {String} bin binary string\n * @returns {string} Base64-encoded string\n */\nconst _btoa = typeof btoa === 'function' ? (bin) => btoa(bin)\n    : _hasBuffer ? (bin) => Buffer.from(bin, 'binary').toString('base64')\n        : btoaPolyfill;\nconst _fromUint8Array = _hasBuffer\n    ? (u8a) => Buffer.from(u8a).toString('base64')\n    : (u8a) => {\n        // cf. https://stackoverflow.com/questions/12710001/how-to-convert-uint8-array-to-base64-encoded-string/12713326#12713326\n        const maxargs = 0x1000;\n        let strs = [];\n        for (let i = 0, l = u8a.length; i < l; i += maxargs) {\n            strs.push(_fromCC.apply(null, u8a.subarray(i, i + maxargs)));\n        }\n        return _btoa(strs.join(''));\n    };\n/**\n * converts a Uint8Array to a Base64 string.\n * @param {boolean} [urlsafe] URL-and-filename-safe a la RFC4648 §5\n * @returns {string} Base64 string\n */\nconst fromUint8Array = (u8a, urlsafe = false) => urlsafe ? _mkUriSafe(_fromUint8Array(u8a)) : _fromUint8Array(u8a);\n// This trick is found broken https://github.com/dankogai/js-base64/issues/130\n// const utob = (src: string) => unescape(encodeURIComponent(src));\n// reverting good old fationed regexp\nconst cb_utob = (c) => {\n    if (c.length < 2) {\n        var cc = c.charCodeAt(0);\n        return cc < 0x80 ? c\n            : cc < 0x800 ? (_fromCC(0xc0 | (cc >>> 6))\n                + _fromCC(0x80 | (cc & 0x3f)))\n                : (_fromCC(0xe0 | ((cc >>> 12) & 0x0f))\n                    + _fromCC(0x80 | ((cc >>> 6) & 0x3f))\n                    + _fromCC(0x80 | (cc & 0x3f)));\n    }\n    else {\n        var cc = 0x10000\n            + (c.charCodeAt(0) - 0xD800) * 0x400\n            + (c.charCodeAt(1) - 0xDC00);\n        return (_fromCC(0xf0 | ((cc >>> 18) & 0x07))\n            + _fromCC(0x80 | ((cc >>> 12) & 0x3f))\n            + _fromCC(0x80 | ((cc >>> 6) & 0x3f))\n            + _fromCC(0x80 | (cc & 0x3f)));\n    }\n};\nconst re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n/**\n * @deprecated should have been internal use only.\n * @param {string} src UTF-8 string\n * @returns {string} UTF-16 string\n */\nconst utob = (u) => u.replace(re_utob, cb_utob);\n//\nconst _encode = _hasBuffer\n    ? (s) => Buffer.from(s, 'utf8').toString('base64')\n    : _TE\n        ? (s) => _fromUint8Array(_TE.encode(s))\n        : (s) => _btoa(utob(s));\n/**\n * converts a UTF-8-encoded string to a Base64 string.\n * @param {boolean} [urlsafe] if `true` make the result URL-safe\n * @returns {string} Base64 string\n */\nconst encode = (src, urlsafe = false) => urlsafe\n    ? _mkUriSafe(_encode(src))\n    : _encode(src);\n/**\n * converts a UTF-8-encoded string to URL-safe Base64 RFC4648 §5.\n * @returns {string} Base64 string\n */\nconst encodeURI = (src) => encode(src, true);\n// This trick is found broken https://github.com/dankogai/js-base64/issues/130\n// const btou = (src: string) => decodeURIComponent(escape(src));\n// reverting good old fationed regexp\nconst re_btou = /[\\xC0-\\xDF][\\x80-\\xBF]|[\\xE0-\\xEF][\\x80-\\xBF]{2}|[\\xF0-\\xF7][\\x80-\\xBF]{3}/g;\nconst cb_btou = (cccc) => {\n    switch (cccc.length) {\n        case 4:\n            var cp = ((0x07 & cccc.charCodeAt(0)) << 18)\n                | ((0x3f & cccc.charCodeAt(1)) << 12)\n                | ((0x3f & cccc.charCodeAt(2)) << 6)\n                | (0x3f & cccc.charCodeAt(3)), offset = cp - 0x10000;\n            return (_fromCC((offset >>> 10) + 0xD800)\n                + _fromCC((offset & 0x3FF) + 0xDC00));\n        case 3:\n            return _fromCC(((0x0f & cccc.charCodeAt(0)) << 12)\n                | ((0x3f & cccc.charCodeAt(1)) << 6)\n                | (0x3f & cccc.charCodeAt(2)));\n        default:\n            return _fromCC(((0x1f & cccc.charCodeAt(0)) << 6)\n                | (0x3f & cccc.charCodeAt(1)));\n    }\n};\n/**\n * @deprecated should have been internal use only.\n * @param {string} src UTF-16 string\n * @returns {string} UTF-8 string\n */\nconst btou = (b) => b.replace(re_btou, cb_btou);\n/**\n * polyfill version of `atob`\n */\nconst atobPolyfill = (asc) => {\n    // console.log('polyfilled');\n    asc = asc.replace(/\\s+/g, '');\n    if (!b64re.test(asc))\n        throw new TypeError('malformed base64.');\n    asc += '=='.slice(2 - (asc.length & 3));\n    let u24, bin = '', r1, r2;\n    for (let i = 0; i < asc.length;) {\n        u24 = b64tab[asc.charAt(i++)] << 18\n            | b64tab[asc.charAt(i++)] << 12\n            | (r1 = b64tab[asc.charAt(i++)]) << 6\n            | (r2 = b64tab[asc.charAt(i++)]);\n        bin += r1 === 64 ? _fromCC(u24 >> 16 & 255)\n            : r2 === 64 ? _fromCC(u24 >> 16 & 255, u24 >> 8 & 255)\n                : _fromCC(u24 >> 16 & 255, u24 >> 8 & 255, u24 & 255);\n    }\n    return bin;\n};\n/**\n * does what `window.atob` of web browsers do.\n * @param {String} asc Base64-encoded string\n * @returns {string} binary string\n */\nconst _atob = typeof atob === 'function' ? (asc) => atob(_tidyB64(asc))\n    : _hasBuffer ? (asc) => Buffer.from(asc, 'base64').toString('binary')\n        : atobPolyfill;\n//\nconst _toUint8Array = _hasBuffer\n    ? (a) => _U8Afrom(Buffer.from(a, 'base64'))\n    : (a) => _U8Afrom(_atob(a).split('').map(c => c.charCodeAt(0)));\n/**\n * converts a Base64 string to a Uint8Array.\n */\nconst toUint8Array = (a) => _toUint8Array(_unURI(a));\n//\nconst _decode = _hasBuffer\n    ? (a) => Buffer.from(a, 'base64').toString('utf8')\n    : _TD\n        ? (a) => _TD.decode(_toUint8Array(a))\n        : (a) => btou(_atob(a));\nconst _unURI = (a) => _tidyB64(a.replace(/[-_]/g, (m0) => m0 == '-' ? '+' : '/'));\n/**\n * converts a Base64 string to a UTF-8 string.\n * @param {String} src Base64 string.  Both normal and URL-safe are supported\n * @returns {string} UTF-8 string\n */\nconst decode = (src) => _decode(_unURI(src));\n/**\n * check if a value is a valid Base64 string\n * @param {String} src a value to check\n  */\nconst isValid = (src) => {\n    if (typeof src !== 'string')\n        return false;\n    const s = src.replace(/\\s+/g, '').replace(/={0,2}$/, '');\n    return !/[^\\s0-9a-zA-Z\\+/]/.test(s) || !/[^\\s0-9a-zA-Z\\-_]/.test(s);\n};\n//\nconst _noEnum = (v) => {\n    return {\n        value: v, enumerable: false, writable: true, configurable: true\n    };\n};\n/**\n * extend String.prototype with relevant methods\n */\nconst extendString = function () {\n    const _add = (name, body) => Object.defineProperty(String.prototype, name, _noEnum(body));\n    _add('fromBase64', function () { return decode(this); });\n    _add('toBase64', function (urlsafe) { return encode(this, urlsafe); });\n    _add('toBase64URI', function () { return encode(this, true); });\n    _add('toBase64URL', function () { return encode(this, true); });\n    _add('toUint8Array', function () { return toUint8Array(this); });\n};\n/**\n * extend Uint8Array.prototype with relevant methods\n */\nconst extendUint8Array = function () {\n    const _add = (name, body) => Object.defineProperty(Uint8Array.prototype, name, _noEnum(body));\n    _add('toBase64', function (urlsafe) { return fromUint8Array(this, urlsafe); });\n    _add('toBase64URI', function () { return fromUint8Array(this, true); });\n    _add('toBase64URL', function () { return fromUint8Array(this, true); });\n};\n/**\n * extend Builtin prototypes with relevant methods\n */\nconst extendBuiltins = () => {\n    extendString();\n    extendUint8Array();\n};\nconst gBase64 = {\n    version: version,\n    VERSION: VERSION,\n    atob: _atob,\n    atobPolyfill: atobPolyfill,\n    btoa: _btoa,\n    btoaPolyfill: btoaPolyfill,\n    fromBase64: decode,\n    toBase64: encode,\n    encode: encode,\n    encodeURI: encodeURI,\n    encodeURL: encodeURI,\n    utob: utob,\n    btou: btou,\n    decode: decode,\n    isValid: isValid,\n    fromUint8Array: fromUint8Array,\n    toUint8Array: toUint8Array,\n    extendString: extendString,\n    extendUint8Array: extendUint8Array,\n    extendBuiltins: extendBuiltins\n};\n// makecjs:CUT //\nexport { version };\nexport { VERSION };\nexport { _atob as atob };\nexport { atobPolyfill };\nexport { _btoa as btoa };\nexport { btoaPolyfill };\nexport { decode as fromBase64 };\nexport { encode as toBase64 };\nexport { utob };\nexport { encode };\nexport { encodeURI };\nexport { encodeURI as encodeURL };\nexport { btou };\nexport { decode };\nexport { isValid };\nexport { fromUint8Array };\nexport { toUint8Array };\nexport { extendString };\nexport { extendUint8Array };\nexport { extendBuiltins };\n// and finally,\nexport { gBase64 as Base64 };\n","import React, { Component, createRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\n\nfunction ICompress() {\n    return (React.createElement(\"svg\", { \"aria-hidden\": \"true\", \"data-rmiz-btn-unzoom-icon\": true, fill: \"currentColor\", focusable: \"false\", viewBox: \"0 0 16 16\", xmlns: \"http://www.w3.org/2000/svg\" },\n        React.createElement(\"path\", { d: \"M 14.144531 1.148438 L 9 6.292969 L 9 3 L 8 3 L 8 8 L 13 8 L 13 7 L 9.707031 7 L 14.855469 1.851563 Z M 8 8 L 3 8 L 3 9 L 6.292969 9 L 1.148438 14.144531 L 1.851563 14.855469 L 7 9.707031 L 7 13 L 8 13 Z\" })));\n}\nfunction IEnlarge() {\n    return (React.createElement(\"svg\", { \"aria-hidden\": \"true\", \"data-rmiz-btn-zoom-icon\": true, fill: \"currentColor\", focusable: \"false\", viewBox: \"0 0 16 16\", xmlns: \"http://www.w3.org/2000/svg\" },\n        React.createElement(\"path\", { d: \"M 9 1 L 9 2 L 12.292969 2 L 2 12.292969 L 2 9 L 1 9 L 1 14 L 6 14 L 6 13 L 2.707031 13 L 13 2.707031 L 13 6 L 14 6 L 14 1 Z\" })));\n}\n\nconst testElType = (type, el) => type === el?.tagName?.toUpperCase?.();\nconst testDiv = (el) => testElType('DIV', el) || testElType('SPAN', el);\nconst testImg = (el) => testElType('IMG', el);\nconst testImgLoaded = (el) => el.complete && el.naturalHeight !== 0;\nconst testSvg = (el) => testElType('SVG', el);\nconst getScaleToWindow = ({ height, offset, width }) => {\n    return Math.min((window.innerWidth - offset * 2) / width, (window.innerHeight - offset * 2) / height);\n};\nconst getScaleToWindowMax = ({ containerHeight, containerWidth, offset, targetHeight, targetWidth, }) => {\n    const scale = getScaleToWindow({\n        height: targetHeight,\n        offset,\n        width: targetWidth,\n    });\n    const ratio = targetWidth > targetHeight\n        ? targetWidth / containerWidth\n        : targetHeight / containerHeight;\n    return scale > 1 ? ratio : scale * ratio;\n};\nconst getScale = ({ containerHeight, containerWidth, hasScalableSrc, offset, targetHeight, targetWidth, }) => {\n    if (!containerHeight || !containerWidth) {\n        return 1;\n    }\n    return !hasScalableSrc && targetHeight && targetWidth\n        ? getScaleToWindowMax({\n            containerHeight,\n            containerWidth,\n            offset,\n            targetHeight,\n            targetWidth,\n        })\n        : getScaleToWindow({\n            height: containerHeight,\n            offset,\n            width: containerWidth,\n        });\n};\nconst URL_REGEX = /url(?:\\(['\"]?)(.*?)(?:['\"]?\\))/;\nconst getImgSrc = (imgEl) => {\n    if (imgEl) {\n        if (testImg(imgEl)) {\n            return imgEl.currentSrc;\n        }\n        else if (testDiv(imgEl)) {\n            const bgImg = window.getComputedStyle(imgEl).backgroundImage;\n            if (bgImg) {\n                return URL_REGEX.exec(bgImg)?.[1];\n            }\n        }\n    }\n};\nconst getImgAlt = (imgEl) => {\n    if (imgEl) {\n        if (testImg(imgEl)) {\n            return imgEl.alt ?? undefined;\n        }\n        else {\n            return imgEl.getAttribute('aria-label') ?? undefined;\n        }\n    }\n};\nconst getImgRegularStyle = ({ containerHeight, containerLeft, containerTop, containerWidth, hasScalableSrc, offset, targetHeight, targetWidth, }) => {\n    const scale = getScale({\n        containerHeight,\n        containerWidth,\n        hasScalableSrc,\n        offset,\n        targetHeight,\n        targetWidth,\n    });\n    return {\n        top: containerTop,\n        left: containerLeft,\n        width: containerWidth * scale,\n        height: containerHeight * scale,\n        transform: `translate(0,0) scale(${1 / scale})`,\n    };\n};\nconst parsePosition = ({ position, relativeNum }) => {\n    const positionNum = parseFloat(position);\n    return position.endsWith('%')\n        ? relativeNum * positionNum / 100\n        : positionNum;\n};\nconst getImgObjectFitStyle = ({ containerHeight, containerLeft, containerTop, containerWidth, hasScalableSrc, objectFit, objectPosition, offset, targetHeight, targetWidth, }) => {\n    if (objectFit === 'scale-down') {\n        if (targetWidth <= containerWidth && targetHeight <= containerHeight) {\n            objectFit = 'none';\n        }\n        else {\n            objectFit = 'contain';\n        }\n    }\n    if (objectFit === 'cover' || objectFit === 'contain') {\n        const widthRatio = containerWidth / targetWidth;\n        const heightRatio = containerHeight / targetHeight;\n        const ratio = objectFit === 'cover'\n            ? Math.max(widthRatio, heightRatio)\n            : Math.min(widthRatio, heightRatio);\n        const [posLeft = '50%', posTop = '50%'] = objectPosition.split(' ');\n        const posX = parsePosition({ position: posLeft, relativeNum: containerWidth - targetWidth * ratio });\n        const posY = parsePosition({ position: posTop, relativeNum: containerHeight - targetHeight * ratio });\n        const scale = getScale({\n            containerHeight: targetHeight * ratio,\n            containerWidth: targetWidth * ratio,\n            hasScalableSrc,\n            offset,\n            targetHeight,\n            targetWidth,\n        });\n        return {\n            top: containerTop + posY,\n            left: containerLeft + posX,\n            width: targetWidth * ratio * scale,\n            height: targetHeight * ratio * scale,\n            transform: `translate(0,0) scale(${1 / scale})`,\n        };\n    }\n    else if (objectFit === 'none') {\n        const [posLeft = '50%', posTop = '50%'] = objectPosition.split(' ');\n        const posX = parsePosition({ position: posLeft, relativeNum: containerWidth - targetWidth });\n        const posY = parsePosition({ position: posTop, relativeNum: containerHeight - targetHeight });\n        const scale = getScale({\n            containerHeight: targetHeight,\n            containerWidth: targetWidth,\n            hasScalableSrc,\n            offset,\n            targetHeight,\n            targetWidth,\n        });\n        return {\n            top: containerTop + posY,\n            left: containerLeft + posX,\n            width: targetWidth * scale,\n            height: targetHeight * scale,\n            transform: `translate(0,0) scale(${1 / scale})`,\n        };\n    }\n    else if (objectFit === 'fill') {\n        const widthRatio = containerWidth / targetWidth;\n        const heightRatio = containerHeight / targetHeight;\n        const ratio = Math.max(widthRatio, heightRatio);\n        const scale = getScale({\n            containerHeight: targetHeight * ratio,\n            containerWidth: targetWidth * ratio,\n            hasScalableSrc,\n            offset,\n            targetHeight,\n            targetWidth,\n        });\n        return {\n            width: containerWidth * scale,\n            height: containerHeight * scale,\n            transform: `translate(0,0) scale(${1 / scale})`,\n        };\n    }\n    else {\n        return {};\n    }\n};\nconst getDivImgStyle = ({ backgroundPosition, backgroundSize, containerHeight, containerLeft, containerTop, containerWidth, hasScalableSrc, offset, targetHeight, targetWidth, }) => {\n    if (backgroundSize === 'cover' || backgroundSize === 'contain') {\n        const widthRatio = containerWidth / targetWidth;\n        const heightRatio = containerHeight / targetHeight;\n        const ratio = backgroundSize === 'cover'\n            ? Math.max(widthRatio, heightRatio)\n            : Math.min(widthRatio, heightRatio);\n        const [posLeft = '50%', posTop = '50%'] = backgroundPosition.split(' ');\n        const posX = parsePosition({ position: posLeft, relativeNum: containerWidth - targetWidth * ratio });\n        const posY = parsePosition({ position: posTop, relativeNum: containerHeight - targetHeight * ratio });\n        const scale = getScale({\n            containerHeight: targetHeight * ratio,\n            containerWidth: targetWidth * ratio,\n            hasScalableSrc,\n            offset,\n            targetHeight,\n            targetWidth,\n        });\n        return {\n            top: containerTop + posY,\n            left: containerLeft + posX,\n            width: targetWidth * ratio * scale,\n            height: targetHeight * ratio * scale,\n            transform: `translate(0,0) scale(${1 / scale})`,\n        };\n    }\n    else if (backgroundSize === 'auto') {\n        const [posLeft = '50%', posTop = '50%'] = backgroundPosition.split(' ');\n        const posX = parsePosition({ position: posLeft, relativeNum: containerWidth - targetWidth });\n        const posY = parsePosition({ position: posTop, relativeNum: containerHeight - targetHeight });\n        const scale = getScale({\n            containerHeight: targetHeight,\n            containerWidth: targetWidth,\n            hasScalableSrc,\n            offset,\n            targetHeight,\n            targetWidth,\n        });\n        return {\n            top: containerTop + posY,\n            left: containerLeft + posX,\n            width: targetWidth * scale,\n            height: targetHeight * scale,\n            transform: `translate(0,0) scale(${1 / scale})`,\n        };\n    }\n    else {\n        const [sizeW = '50%', sizeH = '50%'] = backgroundSize.split(' ');\n        const sizeWidth = parsePosition({ position: sizeW, relativeNum: containerWidth });\n        const sizeHeight = parsePosition({ position: sizeH, relativeNum: containerHeight });\n        const widthRatio = sizeWidth / targetWidth;\n        const heightRatio = sizeHeight / targetHeight;\n        const ratio = Math.min(widthRatio, heightRatio);\n        const [posLeft = '50%', posTop = '50%'] = backgroundPosition.split(' ');\n        const posX = parsePosition({ position: posLeft, relativeNum: containerWidth - targetWidth * ratio });\n        const posY = parsePosition({ position: posTop, relativeNum: containerHeight - targetHeight * ratio });\n        const scale = getScale({\n            containerHeight: targetHeight * ratio,\n            containerWidth: targetWidth * ratio,\n            hasScalableSrc,\n            offset,\n            targetHeight,\n            targetWidth,\n        });\n        return {\n            top: containerTop + posY,\n            left: containerLeft + posX,\n            width: targetWidth * ratio * scale,\n            height: targetHeight * ratio * scale,\n            transform: `translate(0,0) scale(${1 / scale})`,\n        };\n    }\n};\nconst SRC_SVG_REGEX = /\\.svg$/i;\nconst getStyleModalImg = ({ hasZoomImg, imgSrc, isSvg, isZoomed, loadedImgEl, offset, shouldRefresh, targetEl, }) => {\n    const hasScalableSrc = isSvg ||\n        imgSrc?.slice?.(0, 18) === 'data:image/svg+xml' ||\n        hasZoomImg ||\n        !!(imgSrc && SRC_SVG_REGEX.test(imgSrc));\n    const imgRect = targetEl.getBoundingClientRect();\n    const targetElComputedStyle = window.getComputedStyle(targetEl);\n    const isDivImg = loadedImgEl != null && testDiv(targetEl);\n    const isImgObjectFit = loadedImgEl != null && !isDivImg;\n    const styleImgRegular = getImgRegularStyle({\n        containerHeight: imgRect.height,\n        containerLeft: imgRect.left,\n        containerTop: imgRect.top,\n        containerWidth: imgRect.width,\n        hasScalableSrc,\n        offset,\n        targetHeight: loadedImgEl?.naturalHeight ?? imgRect.height,\n        targetWidth: loadedImgEl?.naturalWidth ?? imgRect.width,\n    });\n    const styleImgObjectFit = isImgObjectFit\n        ? getImgObjectFitStyle({\n            containerHeight: imgRect.height,\n            containerLeft: imgRect.left,\n            containerTop: imgRect.top,\n            containerWidth: imgRect.width,\n            hasScalableSrc,\n            objectFit: targetElComputedStyle.objectFit,\n            objectPosition: targetElComputedStyle.objectPosition,\n            offset,\n            targetHeight: loadedImgEl.naturalHeight,\n            targetWidth: loadedImgEl.naturalWidth,\n        })\n        : undefined;\n    const styleDivImg = isDivImg\n        ? getDivImgStyle({\n            backgroundPosition: targetElComputedStyle.backgroundPosition,\n            backgroundSize: targetElComputedStyle.backgroundSize,\n            containerHeight: imgRect.height,\n            containerLeft: imgRect.left,\n            containerTop: imgRect.top,\n            containerWidth: imgRect.width,\n            hasScalableSrc,\n            offset,\n            targetHeight: loadedImgEl.naturalHeight,\n            targetWidth: loadedImgEl.naturalWidth,\n        })\n        : undefined;\n    const style = Object.assign({}, styleImgRegular, styleImgObjectFit, styleDivImg);\n    if (isZoomed) {\n        const viewportX = window.innerWidth / 2;\n        const viewportY = window.innerHeight / 2;\n        const childCenterX = parseFloat(String(style.left || 0)) + (parseFloat(String(style.width || 0)) / 2);\n        const childCenterY = parseFloat(String(style.top || 0)) + (parseFloat(String(style.height || 0)) / 2);\n        const translateX = viewportX - childCenterX;\n        const translateY = viewportY - childCenterY;\n        if (shouldRefresh) {\n            style.transitionDuration = '0.01ms';\n        }\n        style.transform = `translate(${translateX}px,${translateY}px) scale(1)`;\n    }\n    return style;\n};\nconst getStyleGhost = (imgEl) => {\n    if (!imgEl) {\n        return {};\n    }\n    if (testSvg(imgEl)) {\n        const parentEl = imgEl.parentElement;\n        const rect = imgEl.getBoundingClientRect();\n        if (parentEl) {\n            const parentRect = parentEl.getBoundingClientRect();\n            return {\n                height: rect.height,\n                left: parentRect.left - rect.left,\n                top: parentRect.top - rect.top,\n                width: rect.width,\n            };\n        }\n        else {\n            return {\n                height: rect.height,\n                left: rect.left,\n                width: rect.width,\n                top: rect.top,\n            };\n        }\n    }\n    else {\n        return {\n            height: imgEl.offsetHeight,\n            left: imgEl.offsetLeft,\n            width: imgEl.offsetWidth,\n            top: imgEl.offsetTop,\n        };\n    }\n};\n\nconst IMAGE_QUERY = ['img', 'svg', '[role=\"img\"]', '[data-zoom]']\n    .map(x => `${x}:not([aria-hidden=\"true\"])`)\n    .join(',');\nconst defaultBodyAttrs = {\n    overflow: '',\n    width: '',\n};\nfunction Controlled(props) {\n    return React.createElement(ControlledBase, { ...props });\n}\nclass ControlledBase extends Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            id: '',\n            isZoomImgLoaded: false,\n            loadedImgEl: undefined,\n            modalState: \"UNLOADED\",\n            shouldRefresh: false,\n        };\n        this.refContent = createRef();\n        this.refDialog = createRef();\n        this.refModalContent = createRef();\n        this.refModalImg = createRef();\n        this.refWrap = createRef();\n        this.imgEl = null;\n        this.prevBodyAttrs = defaultBodyAttrs;\n        this.styleModalImg = {};\n        this.getDialogContainer = () => {\n            let el = document.querySelector('[data-rmiz-portal]');\n            if (el == null) {\n                el = document.createElement('div');\n                el.setAttribute('data-rmiz-portal', '');\n                document.body.appendChild(el);\n            }\n            return el;\n        };\n        this.setId = () => {\n            const gen4 = () => Math.random().toString(16).slice(-4);\n            this.setState({ id: gen4() + gen4() + gen4() });\n        };\n        this.setAndTrackImg = () => {\n            const contentEl = this.refContent.current;\n            if (!contentEl)\n                return;\n            this.imgEl = contentEl.querySelector(IMAGE_QUERY);\n            if (this.imgEl) {\n                this.changeObserver?.disconnect?.();\n                this.imgEl?.addEventListener?.('load', this.handleImgLoad);\n                this.imgEl?.addEventListener?.('click', this.handleZoom);\n                if (!this.state.loadedImgEl) {\n                    this.handleImgLoad();\n                }\n                this.imgElObserver = new ResizeObserver(entries => {\n                    const entry = entries[0];\n                    if (entry?.target) {\n                        this.imgEl = entry.target;\n                        this.setState({});\n                    }\n                });\n                this.imgElObserver.observe(this.imgEl);\n            }\n            else if (!this.changeObserver) {\n                this.changeObserver = new MutationObserver(this.setAndTrackImg);\n                this.changeObserver.observe(contentEl, { childList: true, subtree: true });\n            }\n        };\n        this.handleIfZoomChanged = (prevIsZoomed) => {\n            const { isZoomed } = this.props;\n            if (!prevIsZoomed && isZoomed) {\n                this.zoom();\n            }\n            else if (prevIsZoomed && !isZoomed) {\n                this.unzoom();\n            }\n        };\n        this.handleImgLoad = () => {\n            const { imgEl } = this;\n            const imgSrc = getImgSrc(imgEl);\n            if (!imgSrc)\n                return;\n            const img = new Image();\n            if (testImg(imgEl)) {\n                img.sizes = imgEl.sizes;\n                img.srcset = imgEl.srcset;\n            }\n            img.src = imgSrc;\n            const setLoaded = () => {\n                this.setState({ loadedImgEl: img });\n            };\n            img\n                .decode()\n                .then(setLoaded)\n                .catch(() => {\n                if (testImgLoaded(img)) {\n                    setLoaded();\n                    return;\n                }\n                img.onload = setLoaded;\n            });\n        };\n        this.handleZoom = () => {\n            this.props.onZoomChange?.(true);\n        };\n        this.handleUnzoom = () => {\n            this.props.onZoomChange?.(false);\n        };\n        this.handleDialogCancel = (e) => {\n            e.preventDefault();\n        };\n        this.handleDialogClick = (e) => {\n            if (e.target === this.refModalContent.current || e.target === this.refModalImg.current) {\n                this.handleUnzoom();\n            }\n        };\n        this.handleKeyDown = (e) => {\n            if (e.key === 'Escape' || e.keyCode === 27) {\n                e.preventDefault();\n                e.stopPropagation();\n                this.handleUnzoom();\n            }\n        };\n        this.handleWheel = (e) => {\n            if (e.ctrlKey)\n                return;\n            e.stopPropagation();\n            queueMicrotask(() => {\n                this.handleUnzoom();\n            });\n        };\n        this.handleTouchStart = (e) => {\n            if (e.changedTouches.length === 1 && e.changedTouches[0]) {\n                this.touchYStart = e.changedTouches[0].screenY;\n            }\n        };\n        this.handleTouchMove = (e) => {\n            if (this.touchYStart != null && e.changedTouches[0]) {\n                this.touchYEnd = e.changedTouches[0].screenY;\n                const max = Math.max(this.touchYStart, this.touchYEnd);\n                const min = Math.min(this.touchYStart, this.touchYEnd);\n                const delta = Math.abs(max - min);\n                const threshold = 10;\n                if (delta > threshold) {\n                    this.touchYStart = undefined;\n                    this.touchYEnd = undefined;\n                    this.handleUnzoom();\n                }\n            }\n        };\n        this.handleTouchCancel = () => {\n            this.touchYStart = undefined;\n            this.touchYEnd = undefined;\n        };\n        this.handleResize = () => {\n            this.setState({ shouldRefresh: true });\n        };\n        this.zoom = () => {\n            this.bodyScrollDisable();\n            this.refDialog.current?.showModal?.();\n            this.setState({ modalState: \"LOADING\" });\n            this.loadZoomImg();\n            window.addEventListener('wheel', this.handleWheel, { passive: true });\n            window.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n            window.addEventListener('touchmove', this.handleTouchMove, { passive: true });\n            window.addEventListener('touchcancel', this.handleTouchCancel, { passive: true });\n            document.addEventListener('keydown', this.handleKeyDown, true);\n            this.refModalImg.current?.addEventListener?.('transitionend', this.handleZoomEnd, { once: true });\n        };\n        this.handleZoomEnd = () => {\n            setTimeout(() => {\n                this.setState({ modalState: \"LOADED\" });\n                window.addEventListener('resize', this.handleResize, { passive: true });\n            }, 0);\n        };\n        this.unzoom = () => {\n            this.setState({ modalState: \"UNLOADING\" });\n            window.removeEventListener('wheel', this.handleWheel);\n            window.removeEventListener('touchstart', this.handleTouchStart);\n            window.removeEventListener('touchmove', this.handleTouchMove);\n            window.removeEventListener('touchcancel', this.handleTouchCancel);\n            document.removeEventListener('keydown', this.handleKeyDown, true);\n            this.refModalImg.current?.addEventListener?.('transitionend', this.handleUnzoomEnd, { once: true });\n        };\n        this.handleUnzoomEnd = () => {\n            setTimeout(() => {\n                window.removeEventListener('resize', this.handleResize);\n                this.setState({\n                    shouldRefresh: false,\n                    modalState: \"UNLOADED\",\n                });\n                this.refDialog.current?.close?.();\n                this.bodyScrollEnable();\n            }, 0);\n        };\n        this.bodyScrollDisable = () => {\n            this.prevBodyAttrs = {\n                overflow: document.body.style.overflow,\n                width: document.body.style.width,\n            };\n            const clientWidth = document.body.clientWidth;\n            document.body.style.overflow = 'hidden';\n            document.body.style.width = `${clientWidth}px`;\n        };\n        this.bodyScrollEnable = () => {\n            document.body.style.width = this.prevBodyAttrs.width;\n            document.body.style.overflow = this.prevBodyAttrs.overflow;\n            this.prevBodyAttrs = defaultBodyAttrs;\n        };\n        this.loadZoomImg = () => {\n            const { props: { zoomImg } } = this;\n            const zoomImgSrc = zoomImg?.src;\n            if (zoomImgSrc) {\n                const img = new Image();\n                img.sizes = zoomImg?.sizes ?? '';\n                img.srcset = zoomImg?.srcSet ?? '';\n                img.src = zoomImgSrc;\n                const setLoaded = () => {\n                    this.setState({ isZoomImgLoaded: true });\n                };\n                img\n                    .decode()\n                    .then(setLoaded)\n                    .catch(() => {\n                    if (testImgLoaded(img)) {\n                        setLoaded();\n                        return;\n                    }\n                    img.onload = setLoaded;\n                });\n            }\n        };\n        this.UNSAFE_handleSvg = () => {\n            const { imgEl, refModalImg, styleModalImg } = this;\n            if (testSvg(imgEl)) {\n                const tmp = document.createElement('div');\n                tmp.innerHTML = imgEl.outerHTML;\n                tmp.querySelectorAll('mask[id]').forEach(maskEl => {\n                    const newId = maskEl.id + '-zoom';\n                    tmp.querySelectorAll(`[mask=\"url(#${maskEl.id})\"]`).forEach(maskedEl => {\n                        maskedEl.setAttribute('mask', `url(#${newId})`);\n                    });\n                    maskEl.id = newId;\n                });\n                const svg = tmp.firstChild;\n                svg.style.width = `${styleModalImg.width || 0}px`;\n                svg.style.height = `${styleModalImg.height || 0}px`;\n                svg.addEventListener('click', this.handleUnzoom);\n                refModalImg.current?.firstChild?.remove?.();\n                refModalImg.current?.appendChild?.(svg);\n            }\n        };\n    }\n    render() {\n        const { handleDialogCancel, handleDialogClick, handleUnzoom, handleZoom, imgEl, props: { a11yNameButtonUnzoom, a11yNameButtonZoom, children, classDialog, IconUnzoom, IconZoom, isZoomed, wrapElement: WrapElement, ZoomContent, zoomImg, zoomMargin, }, refContent, refDialog, refModalContent, refModalImg, refWrap, state: { id, isZoomImgLoaded, loadedImgEl, modalState, shouldRefresh, }, } = this;\n        const idModal = `rmiz-modal-${id}`;\n        const idModalImg = `rmiz-modal-img-${id}`;\n        const isDiv = testDiv(imgEl);\n        const isImg = testImg(imgEl);\n        const isSvg = testSvg(imgEl);\n        const imgAlt = getImgAlt(imgEl);\n        const imgSrc = getImgSrc(imgEl);\n        const imgSizes = isImg ? imgEl.sizes : undefined;\n        const imgSrcSet = isImg ? imgEl.srcset : undefined;\n        const hasZoomImg = !!zoomImg?.src;\n        const hasImage = imgEl &&\n            (loadedImgEl || isSvg) &&\n            window.getComputedStyle(imgEl).display !== 'none';\n        const labelBtnZoom = imgAlt\n            ? `${a11yNameButtonZoom}: ${imgAlt}`\n            : a11yNameButtonZoom;\n        const isModalActive = modalState === \"LOADING\" ||\n            modalState === \"LOADED\";\n        const dataContentState = hasImage ? 'found' : 'not-found';\n        const dataOverlayState = modalState === \"UNLOADED\" || modalState === \"UNLOADING\"\n            ? 'hidden'\n            : 'visible';\n        const styleContent = {\n            visibility: modalState === \"UNLOADED\" ? 'visible' : 'hidden',\n        };\n        const styleGhost = getStyleGhost(imgEl);\n        this.styleModalImg = hasImage\n            ? getStyleModalImg({\n                hasZoomImg,\n                imgSrc,\n                isSvg,\n                isZoomed: isZoomed && isModalActive,\n                loadedImgEl,\n                offset: zoomMargin,\n                shouldRefresh,\n                targetEl: imgEl,\n            })\n            : {};\n        let modalContent = null;\n        if (hasImage) {\n            const modalImg = isImg || isDiv\n                ? React.createElement(\"img\", { alt: imgAlt, sizes: imgSizes, src: imgSrc, srcSet: imgSrcSet, ...isZoomImgLoaded && modalState === \"LOADED\" ? zoomImg : {}, \"data-rmiz-modal-img\": \"\", height: this.styleModalImg.height || undefined, id: idModalImg, ref: refModalImg, style: this.styleModalImg, width: this.styleModalImg.width || undefined })\n                : isSvg\n                    ? React.createElement(\"div\", { \"data-rmiz-modal-img\": true, ref: refModalImg, style: this.styleModalImg })\n                    : null;\n            const modalBtnUnzoom = React.createElement(\"button\", { \"aria-label\": a11yNameButtonUnzoom, \"data-rmiz-btn-unzoom\": \"\", onClick: handleUnzoom, type: \"button\" },\n                React.createElement(IconUnzoom, null));\n            modalContent = ZoomContent\n                ? React.createElement(ZoomContent, { buttonUnzoom: modalBtnUnzoom, modalState: modalState, img: modalImg, onUnzoom: handleUnzoom })\n                : React.createElement(React.Fragment, null,\n                    modalImg,\n                    modalBtnUnzoom);\n        }\n        return (React.createElement(WrapElement, { \"aria-owns\": idModal, \"data-rmiz\": \"\", ref: refWrap },\n            React.createElement(WrapElement, { \"data-rmiz-content\": dataContentState, ref: refContent, style: styleContent }, children),\n            hasImage && React.createElement(WrapElement, { \"data-rmiz-ghost\": \"\", style: styleGhost },\n                React.createElement(\"button\", { \"aria-label\": labelBtnZoom, \"data-rmiz-btn-zoom\": \"\", onClick: handleZoom, type: \"button\" },\n                    React.createElement(IconZoom, null))),\n            hasImage && createPortal(React.createElement(\"dialog\", { \"aria-labelledby\": idModalImg, \"aria-modal\": \"true\", className: classDialog, \"data-rmiz-modal\": \"\", id: idModal, onClick: handleDialogClick, onClose: handleUnzoom, onCancel: handleDialogCancel, ref: refDialog, role: \"dialog\" },\n                React.createElement(\"div\", { \"data-rmiz-modal-overlay\": dataOverlayState }),\n                React.createElement(\"div\", { \"data-rmiz-modal-content\": \"\", ref: refModalContent }, modalContent)), this.getDialogContainer())));\n    }\n    componentDidMount() {\n        this.setId();\n        this.setAndTrackImg();\n        this.handleImgLoad();\n        this.UNSAFE_handleSvg();\n    }\n    componentWillUnmount() {\n        if (this.state.modalState !== \"UNLOADED\") {\n            this.bodyScrollEnable();\n        }\n        this.changeObserver?.disconnect?.();\n        this.imgElObserver?.disconnect?.();\n        this.imgEl?.removeEventListener?.('load', this.handleImgLoad);\n        this.imgEl?.removeEventListener?.('click', this.handleZoom);\n        this.refModalImg.current?.removeEventListener?.('transitionend', this.handleZoomEnd);\n        this.refModalImg.current?.removeEventListener?.('transitionend', this.handleUnzoomEnd);\n        window.removeEventListener('wheel', this.handleWheel);\n        window.removeEventListener('touchstart', this.handleTouchStart);\n        window.removeEventListener('touchmove', this.handleTouchMove);\n        window.removeEventListener('touchcancel', this.handleTouchCancel);\n        window.removeEventListener('resize', this.handleResize);\n        document.removeEventListener('keydown', this.handleKeyDown, true);\n    }\n    componentDidUpdate(prevProps) {\n        this.UNSAFE_handleSvg();\n        this.handleIfZoomChanged(prevProps.isZoomed);\n    }\n}\nControlledBase.defaultProps = {\n    a11yNameButtonUnzoom: 'Minimize image',\n    a11yNameButtonZoom: 'Expand image',\n    IconUnzoom: ICompress,\n    IconZoom: IEnlarge,\n    wrapElement: 'div',\n    zoomMargin: 0,\n};\n\nfunction Uncontrolled(props) {\n    const [isZoomed, setIsZoomed] = useState(false);\n    return React.createElement(Controlled, { ...props, isZoomed: isZoomed, onZoomChange: setIsZoomed });\n}\n\nexport { Controlled, Uncontrolled as default };\n","import React, { useRef, useImperativeHandle, useEffect, useContext, useLayoutEffect, useState, useCallback, useMemo } from 'react';\n\n/**\n * Rounds number to given decimal\n * eg. roundNumber(2.34343, 1) => 2.3\n */\nvar roundNumber = function (num, decimal) {\n    return Number(num.toFixed(decimal));\n};\n/**\n * Checks if value is number, if not it returns default value\n * 1# eg. checkIsNumber(2, 30) => 2\n * 2# eg. checkIsNumber(null, 30) => 30\n */\nvar checkIsNumber = function (num, defaultValue) {\n    return typeof num === \"number\" ? num : defaultValue;\n};\n\nvar handleCallback = function (context, event, callback) {\n    if (callback && typeof callback === \"function\") {\n        callback(context, event);\n    }\n};\n\n/* eslint-disable no-plusplus */\n/* eslint-disable no-param-reassign */\n/**\n * Functions should return denominator of the target value, which is the next animation step.\n * t is a value from 0 to 1, reflecting the percentage of animation status.\n */\nvar easeOut = function (t) {\n    return -Math.cos(t * Math.PI) / 2 + 0.5;\n};\n// linear\nvar linear = function (t) {\n    return t;\n};\n// accelerating from zero velocity\nvar easeInQuad = function (t) {\n    return t * t;\n};\n// decelerating to zero velocity\nvar easeOutQuad = function (t) {\n    return t * (2 - t);\n};\n// acceleration until halfway, then deceleration\nvar easeInOutQuad = function (t) {\n    return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n};\n// accelerating from zero velocity\nvar easeInCubic = function (t) {\n    return t * t * t;\n};\n// decelerating to zero velocity\nvar easeOutCubic = function (t) {\n    return --t * t * t + 1;\n};\n// acceleration until halfway, then deceleration\nvar easeInOutCubic = function (t) {\n    return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n};\n// accelerating from zero velocity\nvar easeInQuart = function (t) {\n    return t * t * t * t;\n};\n// decelerating to zero velocity\nvar easeOutQuart = function (t) {\n    return 1 - --t * t * t * t;\n};\n// acceleration until halfway, then deceleration\nvar easeInOutQuart = function (t) {\n    return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;\n};\n// accelerating from zero velocity\nvar easeInQuint = function (t) {\n    return t * t * t * t * t;\n};\n// decelerating to zero velocity\nvar easeOutQuint = function (t) {\n    return 1 + --t * t * t * t * t;\n};\n// acceleration until halfway, then deceleration\nvar easeInOutQuint = function (t) {\n    return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\n};\nvar animations = {\n    easeOut: easeOut,\n    linear: linear,\n    easeInQuad: easeInQuad,\n    easeOutQuad: easeOutQuad,\n    easeInOutQuad: easeInOutQuad,\n    easeInCubic: easeInCubic,\n    easeOutCubic: easeOutCubic,\n    easeInOutCubic: easeInOutCubic,\n    easeInQuart: easeInQuart,\n    easeOutQuart: easeOutQuart,\n    easeInOutQuart: easeInOutQuart,\n    easeInQuint: easeInQuint,\n    easeOutQuint: easeOutQuint,\n    easeInOutQuint: easeInOutQuint,\n};\n\n/* eslint-disable no-param-reassign */\nvar handleCancelAnimationFrame = function (animation) {\n    if (typeof animation === \"number\") {\n        cancelAnimationFrame(animation);\n    }\n};\nvar handleCancelAnimation = function (contextInstance) {\n    if (!contextInstance.mounted)\n        return;\n    handleCancelAnimationFrame(contextInstance.animation);\n    // Clear animation state\n    contextInstance.animate = false;\n    contextInstance.animation = null;\n    contextInstance.velocity = null;\n};\nfunction handleSetupAnimation(contextInstance, animationName, animationTime, callback) {\n    if (!contextInstance.mounted)\n        return;\n    var startTime = new Date().getTime();\n    var lastStep = 1;\n    // if another animation is active\n    handleCancelAnimation(contextInstance);\n    // new animation\n    contextInstance.animation = function () {\n        if (!contextInstance.mounted) {\n            return handleCancelAnimationFrame(contextInstance.animation);\n        }\n        var frameTime = new Date().getTime() - startTime;\n        var animationProgress = frameTime / animationTime;\n        var animationType = animations[animationName];\n        var step = animationType(animationProgress);\n        if (frameTime >= animationTime) {\n            callback(lastStep);\n            contextInstance.animation = null;\n        }\n        else if (contextInstance.animation) {\n            callback(step);\n            requestAnimationFrame(contextInstance.animation);\n        }\n    };\n    requestAnimationFrame(contextInstance.animation);\n}\nfunction isValidTargetState(targetState) {\n    var scale = targetState.scale, positionX = targetState.positionX, positionY = targetState.positionY;\n    if (Number.isNaN(scale) ||\n        Number.isNaN(positionX) ||\n        Number.isNaN(positionY)) {\n        return false;\n    }\n    return true;\n}\nfunction animate(contextInstance, targetState, animationTime, animationName) {\n    var isValid = isValidTargetState(targetState);\n    if (!contextInstance.mounted || !isValid)\n        return;\n    var setTransformState = contextInstance.setTransformState;\n    var _a = contextInstance.transformState, scale = _a.scale, positionX = _a.positionX, positionY = _a.positionY;\n    var scaleDiff = targetState.scale - scale;\n    var positionXDiff = targetState.positionX - positionX;\n    var positionYDiff = targetState.positionY - positionY;\n    if (animationTime === 0) {\n        setTransformState(targetState.scale, targetState.positionX, targetState.positionY);\n    }\n    else {\n        // animation start timestamp\n        handleSetupAnimation(contextInstance, animationName, animationTime, function (step) {\n            var newScale = scale + scaleDiff * step;\n            var newPositionX = positionX + positionXDiff * step;\n            var newPositionY = positionY + positionYDiff * step;\n            setTransformState(newScale, newPositionX, newPositionY);\n        });\n    }\n}\n\n/* eslint-disable no-param-reassign */\nfunction getComponentsSizes(wrapperComponent, contentComponent, newScale) {\n    var wrapperWidth = wrapperComponent.offsetWidth;\n    var wrapperHeight = wrapperComponent.offsetHeight;\n    var contentWidth = contentComponent.offsetWidth;\n    var contentHeight = contentComponent.offsetHeight;\n    var newContentWidth = contentWidth * newScale;\n    var newContentHeight = contentHeight * newScale;\n    var newDiffWidth = wrapperWidth - newContentWidth;\n    var newDiffHeight = wrapperHeight - newContentHeight;\n    return {\n        wrapperWidth: wrapperWidth,\n        wrapperHeight: wrapperHeight,\n        newContentWidth: newContentWidth,\n        newDiffWidth: newDiffWidth,\n        newContentHeight: newContentHeight,\n        newDiffHeight: newDiffHeight,\n    };\n}\nvar getBounds = function (wrapperWidth, newContentWidth, diffWidth, wrapperHeight, newContentHeight, diffHeight, centerZoomedOut) {\n    var scaleWidthFactor = wrapperWidth > newContentWidth\n        ? diffWidth * (centerZoomedOut ? 1 : 0.5)\n        : 0;\n    var scaleHeightFactor = wrapperHeight > newContentHeight\n        ? diffHeight * (centerZoomedOut ? 1 : 0.5)\n        : 0;\n    var minPositionX = wrapperWidth - newContentWidth - scaleWidthFactor;\n    var maxPositionX = scaleWidthFactor;\n    var minPositionY = wrapperHeight - newContentHeight - scaleHeightFactor;\n    var maxPositionY = scaleHeightFactor;\n    return { minPositionX: minPositionX, maxPositionX: maxPositionX, minPositionY: minPositionY, maxPositionY: maxPositionY };\n};\nvar calculateBounds = function (contextInstance, newScale) {\n    var wrapperComponent = contextInstance.wrapperComponent, contentComponent = contextInstance.contentComponent;\n    var centerZoomedOut = contextInstance.setup.centerZoomedOut;\n    if (!wrapperComponent || !contentComponent) {\n        throw new Error(\"Components are not mounted\");\n    }\n    var _a = getComponentsSizes(wrapperComponent, contentComponent, newScale), wrapperWidth = _a.wrapperWidth, wrapperHeight = _a.wrapperHeight, newContentWidth = _a.newContentWidth, newDiffWidth = _a.newDiffWidth, newContentHeight = _a.newContentHeight, newDiffHeight = _a.newDiffHeight;\n    var bounds = getBounds(wrapperWidth, newContentWidth, newDiffWidth, wrapperHeight, newContentHeight, newDiffHeight, Boolean(centerZoomedOut));\n    return bounds;\n};\n/**\n * Keeps value between given bounds, used for limiting view to given boundaries\n * 1# eg. boundLimiter(2, 0, 3, true) => 2\n * 2# eg. boundLimiter(4, 0, 3, true) => 3\n * 3# eg. boundLimiter(-2, 0, 3, true) => 0\n * 4# eg. boundLimiter(10, 0, 3, false) => 10\n */\nvar boundLimiter = function (value, minBound, maxBound, isActive) {\n    if (!isActive)\n        return roundNumber(value, 2);\n    if (value < minBound)\n        return roundNumber(minBound, 2);\n    if (value > maxBound)\n        return roundNumber(maxBound, 2);\n    return roundNumber(value, 2);\n};\nvar handleCalculateBounds = function (contextInstance, newScale) {\n    var bounds = calculateBounds(contextInstance, newScale);\n    // Save bounds\n    contextInstance.bounds = bounds;\n    return bounds;\n};\nfunction getMouseBoundedPosition(positionX, positionY, bounds, limitToBounds, paddingValueX, paddingValueY, wrapperComponent) {\n    var minPositionX = bounds.minPositionX, minPositionY = bounds.minPositionY, maxPositionX = bounds.maxPositionX, maxPositionY = bounds.maxPositionY;\n    var paddingX = 0;\n    var paddingY = 0;\n    if (wrapperComponent) {\n        paddingX = paddingValueX;\n        paddingY = paddingValueY;\n    }\n    var x = boundLimiter(positionX, minPositionX - paddingX, maxPositionX + paddingX, limitToBounds);\n    var y = boundLimiter(positionY, minPositionY - paddingY, maxPositionY + paddingY, limitToBounds);\n    return { x: x, y: y };\n}\n\nfunction handleCalculateZoomPositions(contextInstance, mouseX, mouseY, newScale, bounds, limitToBounds) {\n    var _a = contextInstance.transformState, scale = _a.scale, positionX = _a.positionX, positionY = _a.positionY;\n    var scaleDifference = newScale - scale;\n    if (typeof mouseX !== \"number\" || typeof mouseY !== \"number\") {\n        console.error(\"Mouse X and Y position were not provided!\");\n        return { x: positionX, y: positionY };\n    }\n    var calculatedPositionX = positionX - mouseX * scaleDifference;\n    var calculatedPositionY = positionY - mouseY * scaleDifference;\n    // do not limit to bounds when there is padding animation,\n    // it causes animation strange behaviour\n    var newPositions = getMouseBoundedPosition(calculatedPositionX, calculatedPositionY, bounds, limitToBounds, 0, 0, null);\n    return newPositions;\n}\nfunction checkZoomBounds(zoom, minScale, maxScale, zoomPadding, enablePadding) {\n    var scalePadding = enablePadding ? zoomPadding : 0;\n    var minScaleWithPadding = minScale - scalePadding;\n    if (!Number.isNaN(maxScale) && zoom >= maxScale)\n        return maxScale;\n    if (!Number.isNaN(minScale) && zoom <= minScaleWithPadding)\n        return minScaleWithPadding;\n    return zoom;\n}\n\nvar isPanningStartAllowed = function (contextInstance, event) {\n    var excluded = contextInstance.setup.panning.excluded;\n    var isInitialized = contextInstance.isInitialized, wrapperComponent = contextInstance.wrapperComponent;\n    var target = event.target;\n    var targetIsShadowDom = \"shadowRoot\" in target && \"composedPath\" in event;\n    var isWrapperChild = targetIsShadowDom\n        ? event.composedPath().some(function (el) {\n            if (!(el instanceof Element)) {\n                return false;\n            }\n            return wrapperComponent === null || wrapperComponent === void 0 ? void 0 : wrapperComponent.contains(el);\n        })\n        : wrapperComponent === null || wrapperComponent === void 0 ? void 0 : wrapperComponent.contains(target);\n    var isAllowed = isInitialized && target && isWrapperChild;\n    if (!isAllowed)\n        return false;\n    var isExcluded = isExcludedNode(target, excluded);\n    if (isExcluded)\n        return false;\n    return true;\n};\nvar isPanningAllowed = function (contextInstance) {\n    var isInitialized = contextInstance.isInitialized, isPanning = contextInstance.isPanning, setup = contextInstance.setup;\n    var disabled = setup.panning.disabled;\n    var isAllowed = isInitialized && isPanning && !disabled;\n    if (!isAllowed)\n        return false;\n    return true;\n};\nvar handlePanningSetup = function (contextInstance, event) {\n    var _a = contextInstance.transformState, positionX = _a.positionX, positionY = _a.positionY;\n    contextInstance.isPanning = true;\n    // Panning with mouse\n    var x = event.clientX;\n    var y = event.clientY;\n    contextInstance.startCoords = { x: x - positionX, y: y - positionY };\n};\nvar handleTouchPanningSetup = function (contextInstance, event) {\n    var touches = event.touches;\n    var _a = contextInstance.transformState, positionX = _a.positionX, positionY = _a.positionY;\n    contextInstance.isPanning = true;\n    // Panning with touch\n    var oneFingerTouch = touches.length === 1;\n    if (oneFingerTouch) {\n        var x = touches[0].clientX;\n        var y = touches[0].clientY;\n        contextInstance.startCoords = { x: x - positionX, y: y - positionY };\n    }\n};\nfunction handlePanToBounds(contextInstance) {\n    var _a = contextInstance.transformState, positionX = _a.positionX, positionY = _a.positionY, scale = _a.scale;\n    var _b = contextInstance.setup, disabled = _b.disabled, limitToBounds = _b.limitToBounds, centerZoomedOut = _b.centerZoomedOut;\n    var wrapperComponent = contextInstance.wrapperComponent;\n    if (disabled || !wrapperComponent || !contextInstance.bounds)\n        return;\n    var _c = contextInstance.bounds, maxPositionX = _c.maxPositionX, minPositionX = _c.minPositionX, maxPositionY = _c.maxPositionY, minPositionY = _c.minPositionY;\n    var xChanged = positionX > maxPositionX || positionX < minPositionX;\n    var yChanged = positionY > maxPositionY || positionY < minPositionY;\n    var mousePosX = positionX > maxPositionX\n        ? wrapperComponent.offsetWidth\n        : contextInstance.setup.minPositionX || 0;\n    var mousePosY = positionY > maxPositionY\n        ? wrapperComponent.offsetHeight\n        : contextInstance.setup.minPositionY || 0;\n    var _d = handleCalculateZoomPositions(contextInstance, mousePosX, mousePosY, scale, contextInstance.bounds, limitToBounds || centerZoomedOut), x = _d.x, y = _d.y;\n    return {\n        scale: scale,\n        positionX: xChanged ? x : positionX,\n        positionY: yChanged ? y : positionY,\n    };\n}\nfunction handleNewPosition(contextInstance, newPositionX, newPositionY, paddingValueX, paddingValueY) {\n    var limitToBounds = contextInstance.setup.limitToBounds;\n    var wrapperComponent = contextInstance.wrapperComponent, bounds = contextInstance.bounds;\n    var _a = contextInstance.transformState, scale = _a.scale, positionX = _a.positionX, positionY = _a.positionY;\n    if (wrapperComponent === null ||\n        bounds === null ||\n        (newPositionX === positionX && newPositionY === positionY)) {\n        return;\n    }\n    var _b = getMouseBoundedPosition(newPositionX, newPositionY, bounds, limitToBounds, paddingValueX, paddingValueY, wrapperComponent), x = _b.x, y = _b.y;\n    contextInstance.setTransformState(scale, x, y);\n}\nvar getPanningClientPosition = function (contextInstance, clientX, clientY) {\n    var startCoords = contextInstance.startCoords, transformState = contextInstance.transformState;\n    var panning = contextInstance.setup.panning;\n    var lockAxisX = panning.lockAxisX, lockAxisY = panning.lockAxisY;\n    var positionX = transformState.positionX, positionY = transformState.positionY;\n    if (!startCoords) {\n        return { x: positionX, y: positionY };\n    }\n    var mouseX = clientX - startCoords.x;\n    var mouseY = clientY - startCoords.y;\n    var newPositionX = lockAxisX ? positionX : mouseX;\n    var newPositionY = lockAxisY ? positionY : mouseY;\n    return { x: newPositionX, y: newPositionY };\n};\nvar getPaddingValue = function (contextInstance, size) {\n    var setup = contextInstance.setup, transformState = contextInstance.transformState;\n    var scale = transformState.scale;\n    var minScale = setup.minScale, disablePadding = setup.disablePadding;\n    if (size > 0 && scale >= minScale && !disablePadding) {\n        return size;\n    }\n    return 0;\n};\n\nvar isVelocityCalculationAllowed = function (contextInstance) {\n    var mounted = contextInstance.mounted;\n    var _a = contextInstance.setup, disabled = _a.disabled, velocityAnimation = _a.velocityAnimation;\n    var scale = contextInstance.transformState.scale;\n    var disabledVelocity = velocityAnimation.disabled;\n    var isAllowed = !disabledVelocity || scale > 1 || !disabled || mounted;\n    if (!isAllowed)\n        return false;\n    return true;\n};\nvar isVelocityAllowed = function (contextInstance) {\n    var mounted = contextInstance.mounted, velocity = contextInstance.velocity, bounds = contextInstance.bounds;\n    var _a = contextInstance.setup, disabled = _a.disabled, velocityAnimation = _a.velocityAnimation;\n    var scale = contextInstance.transformState.scale;\n    var disabledVelocity = velocityAnimation.disabled;\n    var isAllowed = !disabledVelocity || scale > 1 || !disabled || mounted;\n    if (!isAllowed)\n        return false;\n    if (!velocity || !bounds)\n        return false;\n    return true;\n};\nfunction getVelocityMoveTime(contextInstance, velocity) {\n    var velocityAnimation = contextInstance.setup.velocityAnimation;\n    var equalToMove = velocityAnimation.equalToMove, animationTime = velocityAnimation.animationTime, sensitivity = velocityAnimation.sensitivity;\n    if (equalToMove) {\n        return animationTime * velocity * sensitivity;\n    }\n    return animationTime;\n}\nfunction getVelocityPosition(newPosition, startPosition, currentPosition, isLocked, limitToBounds, minPosition, maxPosition, minTarget, maxTarget, step) {\n    if (limitToBounds) {\n        if (startPosition > maxPosition && currentPosition > maxPosition) {\n            var calculatedPosition = maxPosition + (newPosition - maxPosition) * step;\n            if (calculatedPosition > maxTarget)\n                return maxTarget;\n            if (calculatedPosition < maxPosition)\n                return maxPosition;\n            return calculatedPosition;\n        }\n        if (startPosition < minPosition && currentPosition < minPosition) {\n            var calculatedPosition = minPosition + (newPosition - minPosition) * step;\n            if (calculatedPosition < minTarget)\n                return minTarget;\n            if (calculatedPosition > minPosition)\n                return minPosition;\n            return calculatedPosition;\n        }\n    }\n    if (isLocked)\n        return startPosition;\n    return boundLimiter(newPosition, minPosition, maxPosition, limitToBounds);\n}\n\nfunction getSizeMultiplier(wrapperComponent, equalToMove) {\n    var defaultMultiplier = 1;\n    if (equalToMove) {\n        return Math.min(defaultMultiplier, wrapperComponent.offsetWidth / window.innerWidth);\n    }\n    return defaultMultiplier;\n}\nfunction handleCalculateVelocity(contextInstance, position) {\n    var isAllowed = isVelocityCalculationAllowed(contextInstance);\n    if (!isAllowed) {\n        return;\n    }\n    var lastMousePosition = contextInstance.lastMousePosition, velocityTime = contextInstance.velocityTime, setup = contextInstance.setup;\n    var wrapperComponent = contextInstance.wrapperComponent;\n    var equalToMove = setup.velocityAnimation.equalToMove;\n    var now = Date.now();\n    if (lastMousePosition && velocityTime && wrapperComponent) {\n        var sizeMultiplier = getSizeMultiplier(wrapperComponent, equalToMove);\n        var distanceX = position.x - lastMousePosition.x;\n        var distanceY = position.y - lastMousePosition.y;\n        var velocityX = distanceX / sizeMultiplier;\n        var velocityY = distanceY / sizeMultiplier;\n        var interval = now - velocityTime;\n        var speed = distanceX * distanceX + distanceY * distanceY;\n        var velocity = Math.sqrt(speed) / interval;\n        contextInstance.velocity = { velocityX: velocityX, velocityY: velocityY, total: velocity };\n    }\n    contextInstance.lastMousePosition = position;\n    contextInstance.velocityTime = now;\n}\nfunction handleVelocityPanning(contextInstance) {\n    var velocity = contextInstance.velocity, bounds = contextInstance.bounds, setup = contextInstance.setup, wrapperComponent = contextInstance.wrapperComponent;\n    var isAllowed = isVelocityAllowed(contextInstance);\n    if (!isAllowed || !velocity || !bounds || !wrapperComponent) {\n        return;\n    }\n    var velocityX = velocity.velocityX, velocityY = velocity.velocityY, total = velocity.total;\n    var maxPositionX = bounds.maxPositionX, minPositionX = bounds.minPositionX, maxPositionY = bounds.maxPositionY, minPositionY = bounds.minPositionY;\n    var limitToBounds = setup.limitToBounds, alignmentAnimation = setup.alignmentAnimation;\n    var zoomAnimation = setup.zoomAnimation, panning = setup.panning;\n    var lockAxisY = panning.lockAxisY, lockAxisX = panning.lockAxisX;\n    var animationType = zoomAnimation.animationType;\n    var sizeX = alignmentAnimation.sizeX, sizeY = alignmentAnimation.sizeY, velocityAlignmentTime = alignmentAnimation.velocityAlignmentTime;\n    var alignAnimationTime = velocityAlignmentTime;\n    var moveAnimationTime = getVelocityMoveTime(contextInstance, total);\n    var finalAnimationTime = Math.max(moveAnimationTime, alignAnimationTime);\n    var paddingValueX = getPaddingValue(contextInstance, sizeX);\n    var paddingValueY = getPaddingValue(contextInstance, sizeY);\n    var paddingX = (paddingValueX * wrapperComponent.offsetWidth) / 100;\n    var paddingY = (paddingValueY * wrapperComponent.offsetHeight) / 100;\n    var maxTargetX = maxPositionX + paddingX;\n    var minTargetX = minPositionX - paddingX;\n    var maxTargetY = maxPositionY + paddingY;\n    var minTargetY = minPositionY - paddingY;\n    var startState = contextInstance.transformState;\n    var startTime = new Date().getTime();\n    handleSetupAnimation(contextInstance, animationType, finalAnimationTime, function (step) {\n        var _a = contextInstance.transformState, scale = _a.scale, positionX = _a.positionX, positionY = _a.positionY;\n        var frameTime = new Date().getTime() - startTime;\n        var animationProgress = frameTime / alignAnimationTime;\n        var alignAnimation = animations[alignmentAnimation.animationType];\n        var alignStep = 1 - alignAnimation(Math.min(1, animationProgress));\n        var customStep = 1 - step;\n        var newPositionX = positionX + velocityX * customStep;\n        var newPositionY = positionY + velocityY * customStep;\n        var currentPositionX = getVelocityPosition(newPositionX, startState.positionX, positionX, lockAxisX, limitToBounds, minPositionX, maxPositionX, minTargetX, maxTargetX, alignStep);\n        var currentPositionY = getVelocityPosition(newPositionY, startState.positionY, positionY, lockAxisY, limitToBounds, minPositionY, maxPositionY, minTargetY, maxTargetY, alignStep);\n        if (positionX !== newPositionX || positionY !== newPositionY) {\n            contextInstance.setTransformState(scale, currentPositionX, currentPositionY);\n        }\n    });\n}\n\nfunction handlePanningStart(contextInstance, event) {\n    var scale = contextInstance.transformState.scale;\n    handleCancelAnimation(contextInstance);\n    handleCalculateBounds(contextInstance, scale);\n    if (window.TouchEvent !== undefined && event instanceof TouchEvent) {\n        handleTouchPanningSetup(contextInstance, event);\n    }\n    else {\n        handlePanningSetup(contextInstance, event);\n    }\n}\nfunction handleAlignToBounds(contextInstance) {\n    var scale = contextInstance.transformState.scale;\n    var _a = contextInstance.setup, minScale = _a.minScale, alignmentAnimation = _a.alignmentAnimation;\n    var disabled = alignmentAnimation.disabled, sizeX = alignmentAnimation.sizeX, sizeY = alignmentAnimation.sizeY, animationTime = alignmentAnimation.animationTime, animationType = alignmentAnimation.animationType;\n    var isDisabled = disabled || scale < minScale || (!sizeX && !sizeY);\n    if (isDisabled)\n        return;\n    var targetState = handlePanToBounds(contextInstance);\n    if (targetState) {\n        animate(contextInstance, targetState, animationTime, animationType);\n    }\n}\nfunction handlePanning(contextInstance, clientX, clientY) {\n    var startCoords = contextInstance.startCoords, setup = contextInstance.setup;\n    var _a = setup.alignmentAnimation, sizeX = _a.sizeX, sizeY = _a.sizeY;\n    if (!startCoords)\n        return;\n    var _b = getPanningClientPosition(contextInstance, clientX, clientY), x = _b.x, y = _b.y;\n    var paddingValueX = getPaddingValue(contextInstance, sizeX);\n    var paddingValueY = getPaddingValue(contextInstance, sizeY);\n    handleCalculateVelocity(contextInstance, { x: x, y: y });\n    handleNewPosition(contextInstance, x, y, paddingValueX, paddingValueY);\n}\nfunction handlePanningEnd(contextInstance) {\n    if (contextInstance.isPanning) {\n        var velocityDisabled = contextInstance.setup.panning.velocityDisabled;\n        var velocity = contextInstance.velocity, wrapperComponent = contextInstance.wrapperComponent, contentComponent = contextInstance.contentComponent;\n        contextInstance.isPanning = false;\n        contextInstance.animate = false;\n        contextInstance.animation = null;\n        var wrapperRect = wrapperComponent === null || wrapperComponent === void 0 ? void 0 : wrapperComponent.getBoundingClientRect();\n        var contentRect = contentComponent === null || contentComponent === void 0 ? void 0 : contentComponent.getBoundingClientRect();\n        var wrapperWidth = (wrapperRect === null || wrapperRect === void 0 ? void 0 : wrapperRect.width) || 0;\n        var wrapperHeight = (wrapperRect === null || wrapperRect === void 0 ? void 0 : wrapperRect.height) || 0;\n        var contentWidth = (contentRect === null || contentRect === void 0 ? void 0 : contentRect.width) || 0;\n        var contentHeight = (contentRect === null || contentRect === void 0 ? void 0 : contentRect.height) || 0;\n        var isZoomed = wrapperWidth < contentWidth || wrapperHeight < contentHeight;\n        var shouldAnimate = !velocityDisabled && velocity && (velocity === null || velocity === void 0 ? void 0 : velocity.total) > 0.1 && isZoomed;\n        if (shouldAnimate) {\n            handleVelocityPanning(contextInstance);\n        }\n        else {\n            handleAlignToBounds(contextInstance);\n        }\n    }\n}\n\nfunction handleZoomToPoint(contextInstance, scale, mouseX, mouseY) {\n    var _a = contextInstance.setup, minScale = _a.minScale, maxScale = _a.maxScale, limitToBounds = _a.limitToBounds;\n    var newScale = checkZoomBounds(roundNumber(scale, 2), minScale, maxScale, 0, false);\n    var bounds = handleCalculateBounds(contextInstance, newScale);\n    var _b = handleCalculateZoomPositions(contextInstance, mouseX, mouseY, newScale, bounds, limitToBounds), x = _b.x, y = _b.y;\n    return { scale: newScale, positionX: x, positionY: y };\n}\nfunction handleAlignToScaleBounds(contextInstance, mousePositionX, mousePositionY) {\n    var scale = contextInstance.transformState.scale;\n    var wrapperComponent = contextInstance.wrapperComponent;\n    var _a = contextInstance.setup, minScale = _a.minScale, limitToBounds = _a.limitToBounds, zoomAnimation = _a.zoomAnimation;\n    var disabled = zoomAnimation.disabled, animationTime = zoomAnimation.animationTime, animationType = zoomAnimation.animationType;\n    var isDisabled = disabled || scale >= minScale;\n    if (scale >= 1 || limitToBounds) {\n        // fire fit to bounds animation\n        handleAlignToBounds(contextInstance);\n    }\n    if (isDisabled || !wrapperComponent || !contextInstance.mounted)\n        return;\n    var mouseX = mousePositionX || wrapperComponent.offsetWidth / 2;\n    var mouseY = mousePositionY || wrapperComponent.offsetHeight / 2;\n    var targetState = handleZoomToPoint(contextInstance, minScale, mouseX, mouseY);\n    if (targetState) {\n        animate(contextInstance, targetState, animationTime, animationType);\n    }\n}\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\n\nvar initialState = {\n    previousScale: 1,\n    scale: 1,\n    positionX: 0,\n    positionY: 0,\n};\nvar initialSetup = {\n    disabled: false,\n    minPositionX: null,\n    maxPositionX: null,\n    minPositionY: null,\n    maxPositionY: null,\n    minScale: 1,\n    maxScale: 8,\n    limitToBounds: true,\n    centerZoomedOut: false,\n    centerOnInit: false,\n    disablePadding: false,\n    smooth: true,\n    wheel: {\n        step: 0.2,\n        disabled: false,\n        smoothStep: 0.001,\n        wheelDisabled: false,\n        touchPadDisabled: false,\n        activationKeys: [],\n        excluded: [],\n    },\n    panning: {\n        disabled: false,\n        velocityDisabled: false,\n        lockAxisX: false,\n        lockAxisY: false,\n        allowLeftClickPan: true,\n        allowMiddleClickPan: true,\n        allowRightClickPan: true,\n        wheelPanning: false,\n        activationKeys: [],\n        excluded: [],\n    },\n    pinch: {\n        step: 5,\n        disabled: false,\n        excluded: [],\n    },\n    doubleClick: {\n        disabled: false,\n        step: 0.7,\n        mode: \"zoomIn\",\n        animationType: \"easeOut\",\n        animationTime: 200,\n        excluded: [],\n    },\n    zoomAnimation: {\n        disabled: false,\n        size: 0.4,\n        animationTime: 200,\n        animationType: \"easeOut\",\n    },\n    alignmentAnimation: {\n        disabled: false,\n        sizeX: 100,\n        sizeY: 100,\n        animationTime: 200,\n        velocityAlignmentTime: 400,\n        animationType: \"easeOut\",\n    },\n    velocityAnimation: {\n        disabled: false,\n        sensitivity: 1,\n        animationTime: 400,\n        animationType: \"easeOut\",\n        equalToMove: true,\n    },\n};\n\nvar createState = function (props) {\n    var _a, _b, _c, _d;\n    return {\n        previousScale: (_a = props.initialScale) !== null && _a !== void 0 ? _a : initialState.scale,\n        scale: (_b = props.initialScale) !== null && _b !== void 0 ? _b : initialState.scale,\n        positionX: (_c = props.initialPositionX) !== null && _c !== void 0 ? _c : initialState.positionX,\n        positionY: (_d = props.initialPositionY) !== null && _d !== void 0 ? _d : initialState.positionY,\n    };\n};\nvar createSetup = function (props) {\n    var newSetup = __assign({}, initialSetup);\n    Object.keys(props).forEach(function (key) {\n        var validValue = typeof props[key] !== \"undefined\";\n        var validParameter = typeof initialSetup[key] !== \"undefined\";\n        if (validParameter && validValue) {\n            var dataType = Object.prototype.toString.call(initialSetup[key]);\n            var isObject = dataType === \"[object Object]\";\n            var isArray = dataType === \"[object Array]\";\n            if (isObject) {\n                newSetup[key] = __assign(__assign({}, initialSetup[key]), props[key]);\n            }\n            else if (isArray) {\n                newSetup[key] = __spreadArray(__spreadArray([], initialSetup[key], true), props[key], true);\n            }\n            else {\n                newSetup[key] = props[key];\n            }\n        }\n    });\n    return newSetup;\n};\n\nvar handleCalculateButtonZoom = function (contextInstance, delta, step) {\n    var scale = contextInstance.transformState.scale;\n    var wrapperComponent = contextInstance.wrapperComponent, setup = contextInstance.setup;\n    var maxScale = setup.maxScale, minScale = setup.minScale, zoomAnimation = setup.zoomAnimation, smooth = setup.smooth;\n    var size = zoomAnimation.size;\n    if (!wrapperComponent) {\n        throw new Error(\"Wrapper is not mounted\");\n    }\n    var targetScale = smooth\n        ? scale * Math.exp(delta * step)\n        : scale + delta * step;\n    var newScale = checkZoomBounds(roundNumber(targetScale, 3), minScale, maxScale, size, false);\n    return newScale;\n};\nfunction handleZoomToViewCenter(contextInstance, delta, step, animationTime, animationType) {\n    var wrapperComponent = contextInstance.wrapperComponent;\n    var _a = contextInstance.transformState, scale = _a.scale, positionX = _a.positionX, positionY = _a.positionY;\n    if (!wrapperComponent)\n        return console.error(\"No WrapperComponent found\");\n    var wrapperWidth = wrapperComponent.offsetWidth;\n    var wrapperHeight = wrapperComponent.offsetHeight;\n    var mouseX = (wrapperWidth / 2 - positionX) / scale;\n    var mouseY = (wrapperHeight / 2 - positionY) / scale;\n    var newScale = handleCalculateButtonZoom(contextInstance, delta, step);\n    var targetState = handleZoomToPoint(contextInstance, newScale, mouseX, mouseY);\n    if (!targetState) {\n        return console.error(\"Error during zoom event. New transformation state was not calculated.\");\n    }\n    animate(contextInstance, targetState, animationTime, animationType);\n}\nfunction resetTransformations(contextInstance, animationTime, animationType, onResetTransformation) {\n    var setup = contextInstance.setup, wrapperComponent = contextInstance.wrapperComponent;\n    var limitToBounds = setup.limitToBounds;\n    var initialTransformation = createState(contextInstance.props);\n    var _a = contextInstance.transformState, scale = _a.scale, positionX = _a.positionX, positionY = _a.positionY;\n    if (!wrapperComponent)\n        return;\n    var newBounds = calculateBounds(contextInstance, initialTransformation.scale);\n    var boundedPositions = getMouseBoundedPosition(initialTransformation.positionX, initialTransformation.positionY, newBounds, limitToBounds, 0, 0, wrapperComponent);\n    var newState = {\n        scale: initialTransformation.scale,\n        positionX: boundedPositions.x,\n        positionY: boundedPositions.y,\n    };\n    if (scale === initialTransformation.scale &&\n        positionX === initialTransformation.positionX &&\n        positionY === initialTransformation.positionY) {\n        return;\n    }\n    onResetTransformation === null || onResetTransformation === void 0 ? void 0 : onResetTransformation();\n    animate(contextInstance, newState, animationTime, animationType);\n}\nfunction getOffset(element, wrapper, content, state) {\n    var offset = element.getBoundingClientRect();\n    var wrapperOffset = wrapper.getBoundingClientRect();\n    var contentOffset = content.getBoundingClientRect();\n    var xOff = wrapperOffset.x * state.scale;\n    var yOff = wrapperOffset.y * state.scale;\n    return {\n        x: (offset.x - contentOffset.x + xOff) / state.scale,\n        y: (offset.y - contentOffset.y + yOff) / state.scale,\n    };\n}\nfunction calculateZoomToNode(contextInstance, node, customZoom) {\n    var wrapperComponent = contextInstance.wrapperComponent, contentComponent = contextInstance.contentComponent, transformState = contextInstance.transformState;\n    var _a = contextInstance.setup, limitToBounds = _a.limitToBounds, minScale = _a.minScale, maxScale = _a.maxScale;\n    if (!wrapperComponent || !contentComponent)\n        return transformState;\n    var wrapperRect = wrapperComponent.getBoundingClientRect();\n    var nodeRect = node.getBoundingClientRect();\n    var nodeOffset = getOffset(node, wrapperComponent, contentComponent, transformState);\n    var nodeLeft = nodeOffset.x;\n    var nodeTop = nodeOffset.y;\n    var nodeWidth = nodeRect.width / transformState.scale;\n    var nodeHeight = nodeRect.height / transformState.scale;\n    var scaleX = wrapperComponent.offsetWidth / nodeWidth;\n    var scaleY = wrapperComponent.offsetHeight / nodeHeight;\n    var newScale = checkZoomBounds(customZoom || Math.min(scaleX, scaleY), minScale, maxScale, 0, false);\n    var offsetX = (wrapperRect.width - nodeWidth * newScale) / 2;\n    var offsetY = (wrapperRect.height - nodeHeight * newScale) / 2;\n    var newPositionX = (wrapperRect.left - nodeLeft) * newScale + offsetX;\n    var newPositionY = (wrapperRect.top - nodeTop) * newScale + offsetY;\n    var bounds = calculateBounds(contextInstance, newScale);\n    var _b = getMouseBoundedPosition(newPositionX, newPositionY, bounds, limitToBounds, 0, 0, wrapperComponent), x = _b.x, y = _b.y;\n    return { positionX: x, positionY: y, scale: newScale };\n}\n\nvar zoomIn = function (contextInstance) {\n    return function (step, animationTime, animationType) {\n        if (step === void 0) { step = 0.5; }\n        if (animationTime === void 0) { animationTime = 300; }\n        if (animationType === void 0) { animationType = \"easeOut\"; }\n        handleZoomToViewCenter(contextInstance, 1, step, animationTime, animationType);\n    };\n};\nvar zoomOut = function (contextInstance) {\n    return function (step, animationTime, animationType) {\n        if (step === void 0) { step = 0.5; }\n        if (animationTime === void 0) { animationTime = 300; }\n        if (animationType === void 0) { animationType = \"easeOut\"; }\n        handleZoomToViewCenter(contextInstance, -1, step, animationTime, animationType);\n    };\n};\nvar setTransform = function (contextInstance) {\n    return function (newPositionX, newPositionY, newScale, animationTime, animationType) {\n        if (animationTime === void 0) { animationTime = 300; }\n        if (animationType === void 0) { animationType = \"easeOut\"; }\n        var _a = contextInstance.transformState, positionX = _a.positionX, positionY = _a.positionY, scale = _a.scale;\n        var wrapperComponent = contextInstance.wrapperComponent, contentComponent = contextInstance.contentComponent;\n        var disabled = contextInstance.setup.disabled;\n        if (disabled || !wrapperComponent || !contentComponent)\n            return;\n        var targetState = {\n            positionX: Number.isNaN(newPositionX) ? positionX : newPositionX,\n            positionY: Number.isNaN(newPositionY) ? positionY : newPositionY,\n            scale: Number.isNaN(newScale) ? scale : newScale,\n        };\n        animate(contextInstance, targetState, animationTime, animationType);\n    };\n};\nvar resetTransform = function (contextInstance) {\n    return function (animationTime, animationType) {\n        if (animationTime === void 0) { animationTime = 200; }\n        if (animationType === void 0) { animationType = \"easeOut\"; }\n        resetTransformations(contextInstance, animationTime, animationType);\n    };\n};\nvar centerView = function (contextInstance) {\n    return function (scale, animationTime, animationType) {\n        if (animationTime === void 0) { animationTime = 200; }\n        if (animationType === void 0) { animationType = \"easeOut\"; }\n        var transformState = contextInstance.transformState, wrapperComponent = contextInstance.wrapperComponent, contentComponent = contextInstance.contentComponent;\n        if (wrapperComponent && contentComponent) {\n            var targetState = getCenterPosition(scale || transformState.scale, wrapperComponent, contentComponent);\n            animate(contextInstance, targetState, animationTime, animationType);\n        }\n    };\n};\nvar zoomToElement = function (contextInstance) {\n    return function (node, scale, animationTime, animationType) {\n        if (animationTime === void 0) { animationTime = 600; }\n        if (animationType === void 0) { animationType = \"easeOut\"; }\n        handleCancelAnimation(contextInstance);\n        var wrapperComponent = contextInstance.wrapperComponent;\n        var target = typeof node === \"string\" ? document.getElementById(node) : node;\n        if (wrapperComponent && target && wrapperComponent.contains(target)) {\n            var targetState = calculateZoomToNode(contextInstance, target, scale);\n            animate(contextInstance, targetState, animationTime, animationType);\n        }\n    };\n};\n\nvar getControls = function (contextInstance) {\n    return {\n        instance: contextInstance,\n        zoomIn: zoomIn(contextInstance),\n        zoomOut: zoomOut(contextInstance),\n        setTransform: setTransform(contextInstance),\n        resetTransform: resetTransform(contextInstance),\n        centerView: centerView(contextInstance),\n        zoomToElement: zoomToElement(contextInstance),\n    };\n};\nvar getState = function (contextInstance) {\n    return {\n        instance: contextInstance,\n        state: contextInstance.transformState,\n    };\n};\nvar getContext = function (contextInstance) {\n    var ref = {};\n    Object.assign(ref, getState(contextInstance));\n    Object.assign(ref, getControls(contextInstance));\n    return ref;\n};\n\n// We want to make event listeners non-passive, and to do so have to check\n// that browsers support EventListenerOptions in the first place.\n// https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\nvar passiveSupported = false;\nfunction makePassiveEventOption() {\n    try {\n        var options = {\n            get passive() {\n                // This function will be called when the browser\n                //   attempts to access the passive property.\n                passiveSupported = true;\n                return false;\n            },\n        };\n        return options;\n    }\n    catch (err) {\n        passiveSupported = false;\n        return passiveSupported;\n    }\n}\n\nvar isExcludedNode = function (node, excluded) {\n    return excluded.some(function (exclude) {\n        return node.matches(\"\".concat(exclude, \", .\").concat(exclude, \", \").concat(exclude, \" *, .\").concat(exclude, \" *\"));\n    });\n};\nvar cancelTimeout = function (timeout) {\n    if (timeout) {\n        clearTimeout(timeout);\n    }\n};\n\nvar getTransformStyles = function (x, y, scale) {\n    // Standard translate prevents blurry svg on the safari\n    return \"translate(\".concat(x, \"px, \").concat(y, \"px) scale(\").concat(scale, \")\");\n};\nvar getMatrixTransformStyles = function (x, y, scale) {\n    // The shorthand for matrix does not work for Safari hence the need to explicitly use matrix3d\n    // Refer to https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/matrix\n    var a = scale;\n    var b = 0;\n    var c = 0;\n    var d = scale;\n    var tx = x;\n    var ty = y;\n    return \"matrix3d(\".concat(a, \", \").concat(b, \", 0, 0, \").concat(c, \", \").concat(d, \", 0, 0, 0, 0, 1, 0, \").concat(tx, \", \").concat(ty, \", 0, 1)\");\n};\nvar getCenterPosition = function (scale, wrapperComponent, contentComponent) {\n    var contentWidth = contentComponent.offsetWidth * scale;\n    var contentHeight = contentComponent.offsetHeight * scale;\n    var centerPositionX = (wrapperComponent.offsetWidth - contentWidth) / 2;\n    var centerPositionY = (wrapperComponent.offsetHeight - contentHeight) / 2;\n    return {\n        scale: scale,\n        positionX: centerPositionX,\n        positionY: centerPositionY,\n    };\n};\n\nfunction mergeRefs(refs) {\n    return function (value) {\n        refs.forEach(function (ref) {\n            if (typeof ref === \"function\") {\n                ref(value);\n            }\n            else if (ref != null) {\n                ref.current = value;\n            }\n        });\n    };\n}\n\nvar isWheelAllowed = function (contextInstance, event) {\n    var _a = contextInstance.setup.wheel, disabled = _a.disabled, wheelDisabled = _a.wheelDisabled, touchPadDisabled = _a.touchPadDisabled, excluded = _a.excluded;\n    var isInitialized = contextInstance.isInitialized, isPanning = contextInstance.isPanning;\n    var target = event.target;\n    var isAllowed = isInitialized && !isPanning && !disabled && target;\n    if (!isAllowed)\n        return false;\n    // Event ctrlKey detects if touchpad action is executing wheel or pinch gesture\n    if (wheelDisabled && !event.ctrlKey)\n        return false;\n    if (touchPadDisabled && event.ctrlKey)\n        return false;\n    var isExcluded = isExcludedNode(target, excluded);\n    if (isExcluded)\n        return false;\n    return true;\n};\nvar getDeltaY = function (event) {\n    if (event) {\n        return event.deltaY < 0 ? 1 : -1;\n    }\n    return 0;\n};\nfunction getDelta(event, customDelta) {\n    var deltaY = getDeltaY(event);\n    var delta = checkIsNumber(customDelta, deltaY);\n    return delta;\n}\nfunction getMousePosition(event, contentComponent, scale) {\n    var contentRect = contentComponent.getBoundingClientRect();\n    var mouseX = 0;\n    var mouseY = 0;\n    if (\"clientX\" in event) {\n        // mouse position x, y over wrapper component\n        mouseX = (event.clientX - contentRect.left) / scale;\n        mouseY = (event.clientY - contentRect.top) / scale;\n    }\n    else {\n        var touch = event.touches[0];\n        mouseX = (touch.clientX - contentRect.left) / scale;\n        mouseY = (touch.clientY - contentRect.top) / scale;\n    }\n    if (Number.isNaN(mouseX) || Number.isNaN(mouseY))\n        console.error(\"No mouse or touch offset found\");\n    return {\n        x: mouseX,\n        y: mouseY,\n    };\n}\nvar handleCalculateWheelZoom = function (contextInstance, delta, step, disable, getTarget) {\n    var scale = contextInstance.transformState.scale;\n    var wrapperComponent = contextInstance.wrapperComponent, setup = contextInstance.setup;\n    var maxScale = setup.maxScale, minScale = setup.minScale, zoomAnimation = setup.zoomAnimation, disablePadding = setup.disablePadding;\n    var size = zoomAnimation.size, disabled = zoomAnimation.disabled;\n    if (!wrapperComponent) {\n        throw new Error(\"Wrapper is not mounted\");\n    }\n    var targetScale = scale + delta * step;\n    if (getTarget)\n        return targetScale;\n    var paddingEnabled = disable ? false : !disabled;\n    var newScale = checkZoomBounds(roundNumber(targetScale, 3), minScale, maxScale, size, paddingEnabled && !disablePadding);\n    return newScale;\n};\nvar handleWheelZoomStop = function (contextInstance, event) {\n    var previousWheelEvent = contextInstance.previousWheelEvent;\n    var scale = contextInstance.transformState.scale;\n    var _a = contextInstance.setup, maxScale = _a.maxScale, minScale = _a.minScale;\n    if (!previousWheelEvent)\n        return false;\n    if (scale < maxScale || scale > minScale)\n        return true;\n    if (Math.sign(previousWheelEvent.deltaY) !== Math.sign(event.deltaY))\n        return true;\n    if (previousWheelEvent.deltaY > 0 && previousWheelEvent.deltaY < event.deltaY)\n        return true;\n    if (previousWheelEvent.deltaY < 0 && previousWheelEvent.deltaY > event.deltaY)\n        return true;\n    if (Math.sign(previousWheelEvent.deltaY) !== Math.sign(event.deltaY))\n        return true;\n    return false;\n};\n\nvar isPinchStartAllowed = function (contextInstance, event) {\n    var _a = contextInstance.setup.pinch, disabled = _a.disabled, excluded = _a.excluded;\n    var isInitialized = contextInstance.isInitialized;\n    var target = event.target;\n    var isAllowed = isInitialized && !disabled && target;\n    if (!isAllowed)\n        return false;\n    var isExcluded = isExcludedNode(target, excluded);\n    if (isExcluded)\n        return false;\n    return true;\n};\nvar isPinchAllowed = function (contextInstance) {\n    var disabled = contextInstance.setup.pinch.disabled;\n    var isInitialized = contextInstance.isInitialized, pinchStartDistance = contextInstance.pinchStartDistance;\n    var isAllowed = isInitialized && !disabled && pinchStartDistance;\n    if (!isAllowed)\n        return false;\n    return true;\n};\nvar calculateTouchMidPoint = function (event, scale, contentComponent) {\n    var contentRect = contentComponent.getBoundingClientRect();\n    var touches = event.touches;\n    var firstPointX = roundNumber(touches[0].clientX - contentRect.left, 5);\n    var firstPointY = roundNumber(touches[0].clientY - contentRect.top, 5);\n    var secondPointX = roundNumber(touches[1].clientX - contentRect.left, 5);\n    var secondPointY = roundNumber(touches[1].clientY - contentRect.top, 5);\n    return {\n        x: (firstPointX + secondPointX) / 2 / scale,\n        y: (firstPointY + secondPointY) / 2 / scale,\n    };\n};\nvar getTouchDistance = function (event) {\n    return Math.sqrt(Math.pow((event.touches[0].pageX - event.touches[1].pageX), 2) +\n        Math.pow((event.touches[0].pageY - event.touches[1].pageY), 2));\n};\nvar calculatePinchZoom = function (contextInstance, currentDistance) {\n    var pinchStartScale = contextInstance.pinchStartScale, pinchStartDistance = contextInstance.pinchStartDistance, setup = contextInstance.setup;\n    var maxScale = setup.maxScale, minScale = setup.minScale, zoomAnimation = setup.zoomAnimation, disablePadding = setup.disablePadding;\n    var size = zoomAnimation.size, disabled = zoomAnimation.disabled;\n    if (!pinchStartScale || pinchStartDistance === null || !currentDistance) {\n        throw new Error(\"Pinch touches distance was not provided\");\n    }\n    if (currentDistance < 0) {\n        return contextInstance.transformState.scale;\n    }\n    var touchProportion = currentDistance / pinchStartDistance;\n    var scaleDifference = touchProportion * pinchStartScale;\n    return checkZoomBounds(roundNumber(scaleDifference, 2), minScale, maxScale, size, !disabled && !disablePadding);\n};\n\nvar wheelStopEventTime = 160;\nvar wheelAnimationTime = 100;\nvar handleWheelStart = function (contextInstance, event) {\n    var _a = contextInstance.props, onWheelStart = _a.onWheelStart, onZoomStart = _a.onZoomStart;\n    if (!contextInstance.wheelStopEventTimer) {\n        handleCancelAnimation(contextInstance);\n        handleCallback(getContext(contextInstance), event, onWheelStart);\n        handleCallback(getContext(contextInstance), event, onZoomStart);\n    }\n};\nvar handleWheelZoom = function (contextInstance, event) {\n    var _a = contextInstance.props, onWheel = _a.onWheel, onZoom = _a.onZoom;\n    var contentComponent = contextInstance.contentComponent, setup = contextInstance.setup, transformState = contextInstance.transformState;\n    var scale = transformState.scale;\n    var limitToBounds = setup.limitToBounds, centerZoomedOut = setup.centerZoomedOut, zoomAnimation = setup.zoomAnimation, wheel = setup.wheel, disablePadding = setup.disablePadding, smooth = setup.smooth;\n    var size = zoomAnimation.size, disabled = zoomAnimation.disabled;\n    var step = wheel.step, smoothStep = wheel.smoothStep;\n    if (!contentComponent) {\n        throw new Error(\"Component not mounted\");\n    }\n    event.preventDefault();\n    event.stopPropagation();\n    var delta = getDelta(event, null);\n    var zoomStep = smooth ? smoothStep * Math.abs(event.deltaY) : step;\n    var newScale = handleCalculateWheelZoom(contextInstance, delta, zoomStep, !event.ctrlKey);\n    // if scale not change\n    if (scale === newScale)\n        return;\n    var bounds = handleCalculateBounds(contextInstance, newScale);\n    var mousePosition = getMousePosition(event, contentComponent, scale);\n    var isPaddingDisabled = disabled || size === 0 || centerZoomedOut || disablePadding;\n    var isLimitedToBounds = limitToBounds && isPaddingDisabled;\n    var _b = handleCalculateZoomPositions(contextInstance, mousePosition.x, mousePosition.y, newScale, bounds, isLimitedToBounds), x = _b.x, y = _b.y;\n    contextInstance.previousWheelEvent = event;\n    contextInstance.setTransformState(newScale, x, y);\n    handleCallback(getContext(contextInstance), event, onWheel);\n    handleCallback(getContext(contextInstance), event, onZoom);\n};\nvar handleWheelStop = function (contextInstance, event) {\n    var _a = contextInstance.props, onWheelStop = _a.onWheelStop, onZoomStop = _a.onZoomStop;\n    // fire animation\n    cancelTimeout(contextInstance.wheelAnimationTimer);\n    contextInstance.wheelAnimationTimer = setTimeout(function () {\n        if (!contextInstance.mounted)\n            return;\n        handleAlignToScaleBounds(contextInstance, event.x, event.y);\n        contextInstance.wheelAnimationTimer = null;\n    }, wheelAnimationTime);\n    // Wheel stop event\n    var hasStoppedZooming = handleWheelZoomStop(contextInstance, event);\n    if (hasStoppedZooming) {\n        cancelTimeout(contextInstance.wheelStopEventTimer);\n        contextInstance.wheelStopEventTimer = setTimeout(function () {\n            if (!contextInstance.mounted)\n                return;\n            contextInstance.wheelStopEventTimer = null;\n            handleCallback(getContext(contextInstance), event, onWheelStop);\n            handleCallback(getContext(contextInstance), event, onZoomStop);\n        }, wheelStopEventTime);\n    }\n};\n\nvar handlePinchStart = function (contextInstance, event) {\n    var distance = getTouchDistance(event);\n    contextInstance.pinchStartDistance = distance;\n    contextInstance.lastDistance = distance;\n    contextInstance.pinchStartScale = contextInstance.transformState.scale;\n    contextInstance.isPanning = false;\n    handleCancelAnimation(contextInstance);\n};\nvar handlePinchZoom = function (contextInstance, event) {\n    var contentComponent = contextInstance.contentComponent, pinchStartDistance = contextInstance.pinchStartDistance;\n    var scale = contextInstance.transformState.scale;\n    var _a = contextInstance.setup, limitToBounds = _a.limitToBounds, centerZoomedOut = _a.centerZoomedOut, zoomAnimation = _a.zoomAnimation;\n    var disabled = zoomAnimation.disabled, size = zoomAnimation.size;\n    // if one finger starts from outside of wrapper\n    if (pinchStartDistance === null || !contentComponent)\n        return;\n    var midPoint = calculateTouchMidPoint(event, scale, contentComponent);\n    // if touches goes off of the wrapper element\n    if (!Number.isFinite(midPoint.x) || !Number.isFinite(midPoint.y))\n        return;\n    var currentDistance = getTouchDistance(event);\n    var newScale = calculatePinchZoom(contextInstance, currentDistance);\n    if (newScale === scale)\n        return;\n    var bounds = handleCalculateBounds(contextInstance, newScale);\n    var isPaddingDisabled = disabled || size === 0 || centerZoomedOut;\n    var isLimitedToBounds = limitToBounds && isPaddingDisabled;\n    var _b = handleCalculateZoomPositions(contextInstance, midPoint.x, midPoint.y, newScale, bounds, isLimitedToBounds), x = _b.x, y = _b.y;\n    contextInstance.pinchMidpoint = midPoint;\n    contextInstance.lastDistance = currentDistance;\n    contextInstance.setTransformState(newScale, x, y);\n};\nvar handlePinchStop = function (contextInstance) {\n    var pinchMidpoint = contextInstance.pinchMidpoint;\n    contextInstance.velocity = null;\n    contextInstance.lastDistance = null;\n    contextInstance.pinchMidpoint = null;\n    contextInstance.pinchStartScale = null;\n    contextInstance.pinchStartDistance = null;\n    handleAlignToScaleBounds(contextInstance, pinchMidpoint === null || pinchMidpoint === void 0 ? void 0 : pinchMidpoint.x, pinchMidpoint === null || pinchMidpoint === void 0 ? void 0 : pinchMidpoint.y);\n};\n\nvar handleDoubleClickStop = function (contextInstance, event) {\n    var onZoomStop = contextInstance.props.onZoomStop;\n    var animationTime = contextInstance.setup.doubleClick.animationTime;\n    cancelTimeout(contextInstance.doubleClickStopEventTimer);\n    contextInstance.doubleClickStopEventTimer = setTimeout(function () {\n        contextInstance.doubleClickStopEventTimer = null;\n        handleCallback(getContext(contextInstance), event, onZoomStop);\n    }, animationTime);\n};\nvar handleDoubleClickResetMode = function (contextInstance, event) {\n    var _a = contextInstance.props, onZoomStart = _a.onZoomStart, onZoom = _a.onZoom;\n    var _b = contextInstance.setup.doubleClick, animationTime = _b.animationTime, animationType = _b.animationType;\n    handleCallback(getContext(contextInstance), event, onZoomStart);\n    resetTransformations(contextInstance, animationTime, animationType, function () {\n        return handleCallback(getContext(contextInstance), event, onZoom);\n    });\n    handleDoubleClickStop(contextInstance, event);\n};\nfunction getDoubleClickScale(mode, scale) {\n    if (mode === \"toggle\") {\n        return scale === 1 ? 1 : -1;\n    }\n    return mode === \"zoomOut\" ? -1 : 1;\n}\nfunction handleDoubleClick(contextInstance, event) {\n    var setup = contextInstance.setup, doubleClickStopEventTimer = contextInstance.doubleClickStopEventTimer, transformState = contextInstance.transformState, contentComponent = contextInstance.contentComponent;\n    var scale = transformState.scale;\n    var _a = contextInstance.props, onZoomStart = _a.onZoomStart, onZoom = _a.onZoom;\n    var _b = setup.doubleClick, disabled = _b.disabled, mode = _b.mode, step = _b.step, animationTime = _b.animationTime, animationType = _b.animationType;\n    if (disabled)\n        return;\n    if (doubleClickStopEventTimer)\n        return;\n    if (mode === \"reset\") {\n        return handleDoubleClickResetMode(contextInstance, event);\n    }\n    if (!contentComponent)\n        return console.error(\"No ContentComponent found\");\n    var delta = getDoubleClickScale(mode, contextInstance.transformState.scale);\n    var newScale = handleCalculateButtonZoom(contextInstance, delta, step);\n    // stop execution when scale didn't change\n    if (scale === newScale)\n        return;\n    handleCallback(getContext(contextInstance), event, onZoomStart);\n    var mousePosition = getMousePosition(event, contentComponent, scale);\n    var targetState = handleZoomToPoint(contextInstance, newScale, mousePosition.x, mousePosition.y);\n    if (!targetState) {\n        return console.error(\"Error during zoom event. New transformation state was not calculated.\");\n    }\n    handleCallback(getContext(contextInstance), event, onZoom);\n    animate(contextInstance, targetState, animationTime, animationType);\n    handleDoubleClickStop(contextInstance, event);\n}\nvar isDoubleClickAllowed = function (contextInstance, event) {\n    var isInitialized = contextInstance.isInitialized, setup = contextInstance.setup, wrapperComponent = contextInstance.wrapperComponent;\n    var _a = setup.doubleClick, disabled = _a.disabled, excluded = _a.excluded;\n    var target = event.target;\n    var isWrapperChild = wrapperComponent === null || wrapperComponent === void 0 ? void 0 : wrapperComponent.contains(target);\n    var isAllowed = isInitialized && target && isWrapperChild && !disabled;\n    if (!isAllowed)\n        return false;\n    var isExcluded = isExcludedNode(target, excluded);\n    if (isExcluded)\n        return false;\n    return true;\n};\n\nvar ZoomPanPinch = /** @class */ (function () {\n    function ZoomPanPinch(props) {\n        var _this = this;\n        this.mounted = true;\n        this.onChangeCallbacks = new Set();\n        this.onInitCallbacks = new Set();\n        // Components\n        this.wrapperComponent = null;\n        this.contentComponent = null;\n        // Initialization\n        this.isInitialized = false;\n        this.bounds = null;\n        // wheel helpers\n        this.previousWheelEvent = null;\n        this.wheelStopEventTimer = null;\n        this.wheelAnimationTimer = null;\n        // panning helpers\n        this.isPanning = false;\n        this.isWheelPanning = false;\n        this.startCoords = null;\n        this.lastTouch = null;\n        // pinch helpers\n        this.distance = null;\n        this.lastDistance = null;\n        this.pinchStartDistance = null;\n        this.pinchStartScale = null;\n        this.pinchMidpoint = null;\n        // double click helpers\n        this.doubleClickStopEventTimer = null;\n        // velocity helpers\n        this.velocity = null;\n        this.velocityTime = null;\n        this.lastMousePosition = null;\n        // animations helpers\n        this.animate = false;\n        this.animation = null;\n        this.maxBounds = null;\n        // key press\n        this.pressedKeys = {};\n        this.mount = function () {\n            _this.initializeWindowEvents();\n        };\n        this.unmount = function () {\n            _this.cleanupWindowEvents();\n        };\n        this.update = function (newProps) {\n            _this.props = newProps;\n            handleCalculateBounds(_this, _this.transformState.scale);\n            _this.setup = createSetup(newProps);\n        };\n        this.initializeWindowEvents = function () {\n            var _a, _b;\n            var passive = makePassiveEventOption();\n            var currentDocument = (_a = _this.wrapperComponent) === null || _a === void 0 ? void 0 : _a.ownerDocument;\n            var currentWindow = currentDocument === null || currentDocument === void 0 ? void 0 : currentDocument.defaultView;\n            (_b = _this.wrapperComponent) === null || _b === void 0 ? void 0 : _b.addEventListener(\"wheel\", _this.onWheelPanning, passive);\n            // Panning on window to allow panning when mouse is out of component wrapper\n            currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.addEventListener(\"mousedown\", _this.onPanningStart, passive);\n            currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.addEventListener(\"mousemove\", _this.onPanning, passive);\n            currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.addEventListener(\"mouseup\", _this.onPanningStop, passive);\n            currentDocument === null || currentDocument === void 0 ? void 0 : currentDocument.addEventListener(\"mouseleave\", _this.clearPanning, passive);\n            currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.addEventListener(\"keyup\", _this.setKeyUnPressed, passive);\n            currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.addEventListener(\"keydown\", _this.setKeyPressed, passive);\n        };\n        this.cleanupWindowEvents = function () {\n            var _a, _b;\n            var passive = makePassiveEventOption();\n            var currentDocument = (_a = _this.wrapperComponent) === null || _a === void 0 ? void 0 : _a.ownerDocument;\n            var currentWindow = currentDocument === null || currentDocument === void 0 ? void 0 : currentDocument.defaultView;\n            currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.removeEventListener(\"mousedown\", _this.onPanningStart, passive);\n            currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.removeEventListener(\"mousemove\", _this.onPanning, passive);\n            currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.removeEventListener(\"mouseup\", _this.onPanningStop, passive);\n            currentDocument === null || currentDocument === void 0 ? void 0 : currentDocument.removeEventListener(\"mouseleave\", _this.clearPanning, passive);\n            currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.removeEventListener(\"keyup\", _this.setKeyUnPressed, passive);\n            currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.removeEventListener(\"keydown\", _this.setKeyPressed, passive);\n            document.removeEventListener(\"mouseleave\", _this.clearPanning, passive);\n            handleCancelAnimation(_this);\n            (_b = _this.observer) === null || _b === void 0 ? void 0 : _b.disconnect();\n        };\n        this.handleInitializeWrapperEvents = function (wrapper) {\n            // Zooming events on wrapper\n            var passive = makePassiveEventOption();\n            wrapper.addEventListener(\"wheel\", _this.onWheelZoom, passive);\n            wrapper.addEventListener(\"dblclick\", _this.onDoubleClick, passive);\n            wrapper.addEventListener(\"touchstart\", _this.onTouchPanningStart, passive);\n            wrapper.addEventListener(\"touchmove\", _this.onTouchPanning, passive);\n            wrapper.addEventListener(\"touchend\", _this.onTouchPanningStop, passive);\n        };\n        this.handleInitialize = function (contentComponent) {\n            var centerOnInit = _this.setup.centerOnInit;\n            _this.applyTransformation();\n            _this.onInitCallbacks.forEach(function (callback) { return callback(getContext(_this)); });\n            if (centerOnInit) {\n                _this.setCenter();\n                _this.observer = new ResizeObserver(function () {\n                    var _a;\n                    _this.onInitCallbacks.forEach(function (callback) { return callback(getContext(_this)); });\n                    _this.setCenter();\n                    (_a = _this.observer) === null || _a === void 0 ? void 0 : _a.disconnect();\n                });\n                // Start observing the target node for configured mutations\n                _this.observer.observe(contentComponent);\n            }\n        };\n        /// ///////\n        // Zoom\n        /// ///////\n        this.onWheelZoom = function (event) {\n            var disabled = _this.setup.disabled;\n            if (disabled)\n                return;\n            var isAllowed = isWheelAllowed(_this, event);\n            if (!isAllowed)\n                return;\n            var keysPressed = _this.isPressingKeys(_this.setup.wheel.activationKeys);\n            if (!keysPressed)\n                return;\n            handleWheelStart(_this, event);\n            handleWheelZoom(_this, event);\n            handleWheelStop(_this, event);\n        };\n        /// ///////\n        // Pan\n        /// ///////\n        this.onWheelPanning = function (event) {\n            var _a = _this.setup, disabled = _a.disabled, wheel = _a.wheel, panning = _a.panning;\n            if (!_this.wrapperComponent ||\n                !_this.contentComponent ||\n                disabled ||\n                !wheel.wheelDisabled ||\n                panning.disabled ||\n                !panning.wheelPanning ||\n                event.ctrlKey) {\n                return;\n            }\n            event.preventDefault();\n            event.stopPropagation();\n            var _b = _this.transformState, positionX = _b.positionX, positionY = _b.positionY;\n            var mouseX = positionX - event.deltaX;\n            var mouseY = positionY - event.deltaY;\n            var newPositionX = panning.lockAxisX ? positionX : mouseX;\n            var newPositionY = panning.lockAxisY ? positionY : mouseY;\n            var _c = _this.setup.alignmentAnimation, sizeX = _c.sizeX, sizeY = _c.sizeY;\n            var paddingValueX = getPaddingValue(_this, sizeX);\n            var paddingValueY = getPaddingValue(_this, sizeY);\n            if (newPositionX === positionX && newPositionY === positionY)\n                return;\n            handleNewPosition(_this, newPositionX, newPositionY, paddingValueX, paddingValueY);\n        };\n        this.onPanningStart = function (event) {\n            var disabled = _this.setup.disabled;\n            var onPanningStart = _this.props.onPanningStart;\n            if (disabled)\n                return;\n            var isAllowed = isPanningStartAllowed(_this, event);\n            if (!isAllowed)\n                return;\n            var keysPressed = _this.isPressingKeys(_this.setup.panning.activationKeys);\n            if (!keysPressed)\n                return;\n            if (event.button === 0 && !_this.setup.panning.allowLeftClickPan)\n                return;\n            if (event.button === 1 && !_this.setup.panning.allowMiddleClickPan)\n                return;\n            if (event.button === 2 && !_this.setup.panning.allowRightClickPan)\n                return;\n            event.preventDefault();\n            event.stopPropagation();\n            handleCancelAnimation(_this);\n            handlePanningStart(_this, event);\n            handleCallback(getContext(_this), event, onPanningStart);\n        };\n        this.onPanning = function (event) {\n            var disabled = _this.setup.disabled;\n            var onPanning = _this.props.onPanning;\n            if (disabled)\n                return;\n            var isAllowed = isPanningAllowed(_this);\n            if (!isAllowed)\n                return;\n            var keysPressed = _this.isPressingKeys(_this.setup.panning.activationKeys);\n            if (!keysPressed)\n                return;\n            event.preventDefault();\n            event.stopPropagation();\n            handlePanning(_this, event.clientX, event.clientY);\n            handleCallback(getContext(_this), event, onPanning);\n        };\n        this.onPanningStop = function (event) {\n            var onPanningStop = _this.props.onPanningStop;\n            if (_this.isPanning) {\n                handlePanningEnd(_this);\n                handleCallback(getContext(_this), event, onPanningStop);\n            }\n        };\n        /// ///////\n        // Pinch\n        /// ///////\n        this.onPinchStart = function (event) {\n            var disabled = _this.setup.disabled;\n            var _a = _this.props, onPinchingStart = _a.onPinchingStart, onZoomStart = _a.onZoomStart;\n            if (disabled)\n                return;\n            var isAllowed = isPinchStartAllowed(_this, event);\n            if (!isAllowed)\n                return;\n            handlePinchStart(_this, event);\n            handleCancelAnimation(_this);\n            handleCallback(getContext(_this), event, onPinchingStart);\n            handleCallback(getContext(_this), event, onZoomStart);\n        };\n        this.onPinch = function (event) {\n            var disabled = _this.setup.disabled;\n            var _a = _this.props, onPinching = _a.onPinching, onZoom = _a.onZoom;\n            if (disabled)\n                return;\n            var isAllowed = isPinchAllowed(_this);\n            if (!isAllowed)\n                return;\n            event.preventDefault();\n            event.stopPropagation();\n            handlePinchZoom(_this, event);\n            handleCallback(getContext(_this), event, onPinching);\n            handleCallback(getContext(_this), event, onZoom);\n        };\n        this.onPinchStop = function (event) {\n            var _a = _this.props, onPinchingStop = _a.onPinchingStop, onZoomStop = _a.onZoomStop;\n            if (_this.pinchStartScale) {\n                handlePinchStop(_this);\n                handleCallback(getContext(_this), event, onPinchingStop);\n                handleCallback(getContext(_this), event, onZoomStop);\n            }\n        };\n        /// ///////\n        // Touch\n        /// ///////\n        this.onTouchPanningStart = function (event) {\n            var disabled = _this.setup.disabled;\n            var onPanningStart = _this.props.onPanningStart;\n            if (disabled)\n                return;\n            var isAllowed = isPanningStartAllowed(_this, event);\n            if (!isAllowed)\n                return;\n            var isDoubleTap = _this.lastTouch && +new Date() - _this.lastTouch < 200;\n            if (isDoubleTap && event.touches.length === 1) {\n                _this.onDoubleClick(event);\n            }\n            else {\n                _this.lastTouch = +new Date();\n                handleCancelAnimation(_this);\n                var touches = event.touches;\n                var isPanningAction = touches.length === 1;\n                var isPinchAction = touches.length === 2;\n                if (isPanningAction) {\n                    handleCancelAnimation(_this);\n                    handlePanningStart(_this, event);\n                    handleCallback(getContext(_this), event, onPanningStart);\n                }\n                if (isPinchAction) {\n                    _this.onPinchStart(event);\n                }\n            }\n        };\n        this.onTouchPanning = function (event) {\n            var disabled = _this.setup.disabled;\n            var onPanning = _this.props.onPanning;\n            if (_this.isPanning && event.touches.length === 1) {\n                if (disabled)\n                    return;\n                var isAllowed = isPanningAllowed(_this);\n                if (!isAllowed)\n                    return;\n                event.preventDefault();\n                event.stopPropagation();\n                var touch = event.touches[0];\n                handlePanning(_this, touch.clientX, touch.clientY);\n                handleCallback(getContext(_this), event, onPanning);\n            }\n            else if (event.touches.length > 1) {\n                _this.onPinch(event);\n            }\n        };\n        this.onTouchPanningStop = function (event) {\n            _this.onPanningStop(event);\n            _this.onPinchStop(event);\n        };\n        /// ///////\n        // Double Click\n        /// ///////\n        this.onDoubleClick = function (event) {\n            var disabled = _this.setup.disabled;\n            if (disabled)\n                return;\n            var isAllowed = isDoubleClickAllowed(_this, event);\n            if (!isAllowed)\n                return;\n            handleDoubleClick(_this, event);\n        };\n        /// ///////\n        // Helpers\n        /// ///////\n        this.clearPanning = function (event) {\n            if (_this.isPanning) {\n                _this.onPanningStop(event);\n            }\n        };\n        this.setKeyPressed = function (e) {\n            _this.pressedKeys[e.key] = true;\n        };\n        this.setKeyUnPressed = function (e) {\n            _this.pressedKeys[e.key] = false;\n        };\n        this.isPressingKeys = function (keys) {\n            if (!keys.length) {\n                return true;\n            }\n            return Boolean(keys.find(function (key) { return _this.pressedKeys[key]; }));\n        };\n        this.setTransformState = function (scale, positionX, positionY) {\n            var onTransformed = _this.props.onTransformed;\n            if (!Number.isNaN(scale) &&\n                !Number.isNaN(positionX) &&\n                !Number.isNaN(positionY)) {\n                if (scale !== _this.transformState.scale) {\n                    _this.transformState.previousScale = _this.transformState.scale;\n                    _this.transformState.scale = scale;\n                }\n                _this.transformState.positionX = positionX;\n                _this.transformState.positionY = positionY;\n                _this.applyTransformation();\n                var ctx_1 = getContext(_this);\n                _this.onChangeCallbacks.forEach(function (callback) { return callback(ctx_1); });\n                handleCallback(ctx_1, { scale: scale, positionX: positionX, positionY: positionY }, onTransformed);\n            }\n            else {\n                console.error(\"Detected NaN set state values\");\n            }\n        };\n        this.setCenter = function () {\n            if (_this.wrapperComponent && _this.contentComponent) {\n                var targetState = getCenterPosition(_this.transformState.scale, _this.wrapperComponent, _this.contentComponent);\n                _this.setTransformState(targetState.scale, targetState.positionX, targetState.positionY);\n            }\n        };\n        this.handleTransformStyles = function (x, y, scale) {\n            if (_this.props.customTransform) {\n                return _this.props.customTransform(x, y, scale);\n            }\n            return getTransformStyles(x, y, scale);\n        };\n        this.applyTransformation = function () {\n            if (!_this.mounted || !_this.contentComponent)\n                return;\n            var _a = _this.transformState, scale = _a.scale, positionX = _a.positionX, positionY = _a.positionY;\n            var transform = _this.handleTransformStyles(positionX, positionY, scale);\n            _this.contentComponent.style.transform = transform;\n        };\n        this.getContext = function () {\n            return getContext(_this);\n        };\n        /**\n         * Hooks\n         */\n        this.onChange = function (callback) {\n            if (!_this.onChangeCallbacks.has(callback)) {\n                _this.onChangeCallbacks.add(callback);\n            }\n            return function () {\n                _this.onChangeCallbacks.delete(callback);\n            };\n        };\n        this.onInit = function (callback) {\n            if (!_this.onInitCallbacks.has(callback)) {\n                _this.onInitCallbacks.add(callback);\n            }\n            return function () {\n                _this.onInitCallbacks.delete(callback);\n            };\n        };\n        /**\n         * Initialization\n         */\n        this.init = function (wrapperComponent, contentComponent) {\n            _this.cleanupWindowEvents();\n            _this.wrapperComponent = wrapperComponent;\n            _this.contentComponent = contentComponent;\n            handleCalculateBounds(_this, _this.transformState.scale);\n            _this.handleInitializeWrapperEvents(wrapperComponent);\n            _this.handleInitialize(contentComponent);\n            _this.initializeWindowEvents();\n            _this.isInitialized = true;\n            var ctx = getContext(_this);\n            handleCallback(ctx, undefined, _this.props.onInit);\n        };\n        this.props = props;\n        this.setup = createSetup(this.props);\n        this.transformState = createState(this.props);\n    }\n    return ZoomPanPinch;\n}());\n\nvar Context = React.createContext(null);\nvar getContent = function (children, ctx) {\n    if (typeof children === \"function\") {\n        return children(ctx);\n    }\n    return children;\n};\nvar TransformWrapper = React.forwardRef(function (props, ref) {\n    var instance = useRef(new ZoomPanPinch(props)).current;\n    var content = getContent(props.children, getControls(instance));\n    useImperativeHandle(ref, function () { return getControls(instance); }, [instance]);\n    useEffect(function () {\n        instance.update(props);\n    }, [instance, props]);\n    return React.createElement(Context.Provider, { value: instance }, content);\n});\n\nvar KeepScale = React.forwardRef(function (props, ref) {\n    var localRef = useRef(null);\n    var instance = useContext(Context);\n    useEffect(function () {\n        return instance.onChange(function (ctx) {\n            if (localRef.current) {\n                var positionX = 0;\n                var positionY = 0;\n                localRef.current.style.transform = instance.handleTransformStyles(positionX, positionY, 1 / ctx.instance.transformState.scale);\n            }\n        });\n    }, [instance]);\n    return React.createElement(\"div\", __assign({}, props, { ref: mergeRefs([localRef, ref]) }));\n});\n\nvar initialElementRect = {\n    width: 0,\n    height: 0,\n    y: 0,\n    x: 0,\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n};\nvar useResize = function (ref, onResize, dependencies) {\n    var resizeObserverRef = useRef();\n    var rectRef = useRef(initialElementRect);\n    var didUnmount = useRef(false);\n    useLayoutEffect(function () {\n        var _a;\n        didUnmount.current = false;\n        if (ref) {\n            resizeObserverRef.current = new ResizeObserver(function (entries) {\n                var newSize = ref.getBoundingClientRect();\n                if (!Array.isArray(entries) ||\n                    !entries.length ||\n                    didUnmount.current ||\n                    (newSize.width === rectRef.current.width &&\n                        newSize.height === rectRef.current.height))\n                    return;\n                onResize(newSize, ref);\n                rectRef.current = newSize;\n            });\n            (_a = resizeObserverRef.current) === null || _a === void 0 ? void 0 : _a.observe(ref);\n        }\n        return function () {\n            var _a;\n            didUnmount.current = true;\n            if (ref) {\n                (_a = resizeObserverRef.current) === null || _a === void 0 ? void 0 : _a.unobserve(ref);\n            }\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, __spreadArray([onResize, ref], dependencies, true));\n};\n\nvar previewStyles = {\n    position: \"absolute\",\n    zIndex: 2,\n    top: \"0px\",\n    left: \"0px\",\n    boxSizing: \"border-box\",\n    border: \"3px solid red\",\n    transformOrigin: \"0% 0%\",\n    boxShadow: \"rgba(0,0,0,0.2) 0 0 0 10000000px\",\n};\nvar MiniMap = function (_a) {\n    var _b = _a.width, width = _b === void 0 ? 200 : _b, _c = _a.height, height = _c === void 0 ? 200 : _c, _d = _a.borderColor, borderColor = _d === void 0 ? \"red\" : _d, children = _a.children, rest = __rest(_a, [\"width\", \"height\", \"borderColor\", \"children\"]);\n    var _e = useState(false), initialized = _e[0], setInitialized = _e[1];\n    var instance = useTransformContext();\n    var miniMapInstance = useRef(null);\n    var mainRef = useRef(null);\n    var wrapperRef = useRef(null);\n    var previewRef = useRef(null);\n    var getContentSize = useCallback(function () {\n        if (instance.contentComponent) {\n            var rect = instance.contentComponent.getBoundingClientRect();\n            return {\n                width: rect.width / instance.transformState.scale,\n                height: rect.height / instance.transformState.scale,\n            };\n        }\n        return {\n            width: 0,\n            height: 0,\n        };\n    }, [instance.contentComponent, instance.transformState.scale]);\n    var computeMiniMapScale = useCallback(function () {\n        var contentSize = getContentSize();\n        var scaleX = width / contentSize.width;\n        var scaleY = height / contentSize.height;\n        var scale = scaleY > scaleX ? scaleX : scaleY;\n        return scale;\n    }, [getContentSize, height, width]);\n    var computeMiniMapSize = function () {\n        var contentSize = getContentSize();\n        var scaleX = width / contentSize.width;\n        var scaleY = height / contentSize.height;\n        if (scaleY > scaleX) {\n            return { width: width, height: contentSize.height * scaleX };\n        }\n        return { width: contentSize.width * scaleY, height: height };\n    };\n    var computeMiniMapStyle = function () {\n        var scale = computeMiniMapScale();\n        var style = {\n            transform: \"scale(\".concat(scale || 1, \")\"),\n            transformOrigin: \"0% 0%\",\n            position: \"absolute\",\n            boxSizing: \"border-box\",\n            zIndex: 1,\n            overflow: \"hidden\",\n        };\n        Object.keys(style).forEach(function (key) {\n            if (wrapperRef.current) {\n                wrapperRef.current.style[key] = style[key];\n            }\n        });\n    };\n    var transformMiniMap = function () {\n        computeMiniMapStyle();\n        var miniSize = computeMiniMapSize();\n        var wrapSize = getContentSize();\n        if (wrapperRef.current) {\n            wrapperRef.current.style.width = \"\".concat(wrapSize.width, \"px\");\n            wrapperRef.current.style.height = \"\".concat(wrapSize.height, \"px\");\n        }\n        if (mainRef.current) {\n            mainRef.current.style.width = \"\".concat(miniSize.width, \"px\");\n            mainRef.current.style.height = \"\".concat(miniSize.height, \"px\");\n        }\n        if (previewRef.current) {\n            var size = getContentSize();\n            var scale = computeMiniMapScale();\n            var previewScale = scale * (1 / instance.transformState.scale);\n            var transform = instance.handleTransformStyles(-instance.transformState.positionX * previewScale, -instance.transformState.positionY * previewScale, 1);\n            previewRef.current.style.transform = transform;\n            previewRef.current.style.width = \"\".concat(size.width * previewScale, \"px\");\n            previewRef.current.style.height = \"\".concat(size.height * previewScale, \"px\");\n        }\n    };\n    var initialize = function () {\n        transformMiniMap();\n    };\n    useTransformEffect(function () {\n        transformMiniMap();\n    });\n    useTransformInit(function () {\n        initialize();\n        setInitialized(true);\n    });\n    useResize(instance.contentComponent, initialize, [initialized]);\n    useEffect(function () {\n        return instance.onChange(function (zpp) {\n            var scale = computeMiniMapScale();\n            if (miniMapInstance.current) {\n                miniMapInstance.current.instance.transformState.scale =\n                    zpp.instance.transformState.scale;\n                miniMapInstance.current.instance.transformState.positionX =\n                    zpp.instance.transformState.positionX * scale;\n                miniMapInstance.current.instance.transformState.positionY =\n                    zpp.instance.transformState.positionY * scale;\n            }\n        });\n    }, [computeMiniMapScale, instance, miniMapInstance]);\n    var wrapperStyle = useMemo(function () {\n        return {\n            position: \"relative\",\n            zIndex: 2,\n            overflow: \"hidden\",\n        };\n    }, []);\n    return (React.createElement(\"div\", __assign({}, rest, { ref: mainRef, style: wrapperStyle, className: \"rzpp-mini-map \".concat(rest.className || \"\") }),\n        React.createElement(\"div\", __assign({}, rest, { ref: wrapperRef, className: \"rzpp-wrapper\" }), children),\n        React.createElement(\"div\", { className: \"rzpp-preview\", ref: previewRef, style: __assign(__assign({}, previewStyles), { borderColor: borderColor }) })));\n};\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".transform-component-module_wrapper__SPB86 {\\n  position: relative;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  height: -moz-fit-content;\\n  height: fit-content;\\n  overflow: hidden;\\n  -webkit-touch-callout: none; /* iOS Safari */\\n  -webkit-user-select: none; /* Safari */\\n  -khtml-user-select: none; /* Konqueror HTML */\\n  -moz-user-select: none; /* Firefox */\\n  -ms-user-select: none; /* Internet Explorer/Edge */\\n  user-select: none;\\n  margin: 0;\\n  padding: 0;\\n}\\n.transform-component-module_content__FBWxo {\\n  display: flex;\\n  flex-wrap: wrap;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  height: -moz-fit-content;\\n  height: fit-content;\\n  margin: 0;\\n  padding: 0;\\n  transform-origin: 0% 0%;\\n}\\n.transform-component-module_content__FBWxo img {\\n  pointer-events: none;\\n}\\n\";\nvar styles = {\"wrapper\":\"transform-component-module_wrapper__SPB86\",\"content\":\"transform-component-module_content__FBWxo\"};\nstyleInject(css_248z);\n\nvar TransformComponent = function (_a) {\n    var children = _a.children, _b = _a.wrapperClass, wrapperClass = _b === void 0 ? \"\" : _b, _c = _a.contentClass, contentClass = _c === void 0 ? \"\" : _c, wrapperStyle = _a.wrapperStyle, contentStyle = _a.contentStyle, _d = _a.wrapperProps, wrapperProps = _d === void 0 ? {} : _d, _e = _a.contentProps, contentProps = _e === void 0 ? {} : _e;\n    var _f = useContext(Context), init = _f.init, cleanupWindowEvents = _f.cleanupWindowEvents;\n    var wrapperRef = useRef(null);\n    var contentRef = useRef(null);\n    useEffect(function () {\n        var wrapper = wrapperRef.current;\n        var content = contentRef.current;\n        if (wrapper !== null && content !== null && init) {\n            init === null || init === void 0 ? void 0 : init(wrapper, content);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        return function () {\n            cleanupWindowEvents === null || cleanupWindowEvents === void 0 ? void 0 : cleanupWindowEvents();\n        };\n    }, []);\n    return (React.createElement(\"div\", __assign({}, wrapperProps, { ref: wrapperRef, className: \"react-transform-wrapper \".concat(styles.wrapper, \" \").concat(wrapperClass), style: wrapperStyle }),\n        React.createElement(\"div\", __assign({}, contentProps, { ref: contentRef, className: \"react-transform-component \".concat(styles.content, \" \").concat(contentClass), style: contentStyle }), children)));\n};\n\nvar useTransformContext = function () {\n    var libraryContext = useContext(Context);\n    if (!libraryContext) {\n        throw new Error(\"Transform context must be placed inside TransformWrapper\");\n    }\n    return libraryContext;\n};\n\nvar useControls = function () {\n    var libraryContext = useTransformContext();\n    return getControls(libraryContext);\n};\n\nvar useTransformInit = function (callback) {\n    var libraryContext = useTransformContext();\n    useEffect(function () {\n        var unmountCallback;\n        var unmount;\n        if (libraryContext.contentComponent && libraryContext.wrapperComponent) {\n            unmountCallback = callback(getState(libraryContext));\n        }\n        else {\n            unmount = libraryContext.onInit(function (ref) {\n                unmountCallback = callback(getState(ref.instance));\n            });\n        }\n        return function () {\n            unmount === null || unmount === void 0 ? void 0 : unmount();\n            unmountCallback === null || unmountCallback === void 0 ? void 0 : unmountCallback();\n        };\n    }, []);\n};\n\nvar useTransformEffect = function (callback) {\n    var libraryContext = useTransformContext();\n    useEffect(function () {\n        var unmountCallback;\n        var unmount = libraryContext.onChange(function (ref) {\n            unmountCallback = callback(getState(ref.instance));\n        });\n        return function () {\n            unmount();\n            unmountCallback === null || unmountCallback === void 0 ? void 0 : unmountCallback();\n        };\n    }, [callback, libraryContext]);\n};\n\nexport { Context, KeepScale, MiniMap, TransformComponent, TransformWrapper, getCenterPosition, getMatrixTransformStyles, getTransformStyles, useControls, useTransformContext, useTransformEffect, useTransformInit };\n//# sourceMappingURL=index.esm.js.map\n","/**\n * Supported File Type\n */\nexport enum SupportedFileType {\n  JPEG = 'image/jpeg',\n  GIF = 'image/gif',\n  PNG = 'image/png',\n  PDF = 'application/pdf',\n  HEIC = 'image/heic',\n  MP4 = 'video/mp4',\n  WEBM = 'video/webm',\n  OGG = 'audio/ogg',\n  MP3 = 'audio/mp3',\n}\n\n/**\n * Field names\n */\nexport enum ImageField {\n  IMG = 'img',\n  HEIGHT = 'height',\n  WIDTH = 'width',\n}\n\n/**\n * Size Modes\n */\nexport enum ImageSizeMode {\n  AUTO = 'auto',\n  ORIGINAL = 'original',\n  CUSTOM = 'custom',\n}\n","/**\n * Button Types\n */\nexport enum ButtonType {\n  DOWNLOAD = 'download',\n  NAVIGATION = 'navigation',\n  ZOOM = 'zoom',\n}\n\n/**\n * Zoom Types\n */\nexport enum ZoomType {\n  DEFAULT = 'default',\n  PANPINCH = 'panpinch',\n}\n","import { ImageSizeMode } from './image';\nimport { ButtonType, ZoomType } from './toolbar';\n\n/**\n * Image Scale\n */\nexport enum ImageScale {\n  AUTO = 'auto',\n  CRISP_EDGES = 'crisp-edges',\n  PIXELATED = 'pixelated',\n}\n\n/**\n * Options\n */\nexport interface PanelOptions {\n  /**\n   * Field name\n   *\n   * @type {string}\n   */\n  name: string;\n\n  /**\n   * Field description\n   *\n   * @type {string}\n   */\n  description: string;\n\n  /**\n   * Image width mode\n   *\n   * @type {string}\n   */\n  widthMode: ImageSizeMode;\n\n  /**\n   * Image height mode\n   *\n   * @type {string}\n   */\n  heightMode: ImageSizeMode;\n\n  /**\n   * Field name for image width\n   *\n   * @type {string}\n   */\n  widthName: string;\n\n  /**\n   * Field name for image height\n   *\n   * @type {string}\n   */\n  heightName: string;\n\n  /**\n   * Image width\n   *\n   * @type {number}\n   */\n  width: number;\n\n  /**\n   * Image height\n   *\n   * @type {number}\n   */\n  height: number;\n\n  /**\n   * URL\n   *\n   * @type {string}\n   */\n  url: string;\n\n  /**\n   * Title for URL\n   *\n   * @type {string}\n   */\n  title: string;\n\n  /**\n   * Controls\n   *\n   * @type {boolean}\n   */\n  controls: boolean;\n\n  /**\n   * Auto Play\n   *\n   * @type {boolean}\n   */\n  autoPlay: boolean;\n\n  /**\n   * Infinity Play\n   *\n   * @type {boolean}\n   */\n  infinityPlay: boolean;\n\n  /**\n   * Toolbar\n   *\n   * @type {boolean}\n   */\n  toolbar: boolean;\n\n  /**\n   * Buttons to Display on Toolbar\n   *\n   * @type {ButtonType[]}\n   */\n  buttons: ButtonType[];\n\n  /**\n   * Zoom type\n   *\n   * @type {ZoomType}\n   */\n  zoomType: ZoomType;\n\n  /**\n   * Scale\n   *\n   * @type {ImageScale}\n   */\n  scale: ImageScale;\n}\n","import { ImageScale, ImageSizeMode, PanelOptions, ZoomType } from '../types';\n\n/**\n * Default Options\n */\nexport const DEFAULT_OPTIONS: PanelOptions = {\n  autoPlay: true,\n  infinityPlay: false,\n  buttons: [],\n  controls: true,\n  description: '',\n  height: 0,\n  heightMode: ImageSizeMode.AUTO,\n  heightName: '',\n  name: '',\n  title: '',\n  toolbar: true,\n  url: '',\n  width: 0,\n  widthMode: ImageSizeMode.AUTO,\n  widthName: '',\n  zoomType: ZoomType.DEFAULT,\n  scale: ImageScale.AUTO,\n};\n","import { ImageScale, ImageSizeMode, SupportedFileType } from '../types';\n\n/**\n * Base64 symbols for Image Types\n */\nexport const IMAGE_TYPES_SYMBOLS: { [id: string]: string } = {\n  '/': SupportedFileType.JPEG,\n  R: SupportedFileType.GIF,\n  i: SupportedFileType.PNG,\n  J: SupportedFileType.PDF,\n  A: SupportedFileType.HEIC,\n};\n\n/**\n * Width and Height Mode Options\n */\nexport const SIZE_MODE_OPTIONS = [\n  { value: ImageSizeMode.AUTO, label: 'Panel', description: 'Based on panel size' },\n  { value: ImageSizeMode.ORIGINAL, label: 'Original' },\n  { value: ImageSizeMode.CUSTOM, label: 'Custom' },\n];\n\n/**\n * Image Scale Options\n */\nexport const IMAGE_SCALE_OPTIONS = [\n  { value: ImageScale.AUTO, label: 'Auto' },\n  {\n    value: ImageScale.CRISP_EDGES,\n    label: 'Crisp Edges',\n    description:\n      'The image is scaled with an algorithm that preserves contrast and edges in the image. Generally intended for images such as pixel art or line drawings, no blurring or color smoothing occurs.',\n  },\n  {\n    value: ImageScale.PIXELATED,\n    label: 'Pixelated',\n    description:\n      'The image is scaled with the \"nearest neighbor\" or similar algorithm, preserving a \"pixelated\" look as the image changes in size.',\n  },\n];\n","/**\n * Tests Identifiers\n */\nexport const TEST_IDS = {\n  panel: {\n    audio: 'data-testid panel audio',\n    buttonDownload: 'data-testid panel button-download',\n    buttonNext: 'data-testid panel button-next',\n    buttonPrevious: 'data-testid panel button-previous',\n    buttonZoom: 'data-testid panel button-zoom',\n    buttonZoomPanPinchIn: 'data-testid panel button-zoom-pan-pinch-in',\n    buttonZoomPanPinchOut: 'data-testid panel button-zoom-pan-pinch-out',\n    buttonZoomPanPinchReset: 'data-testid panel button-zoom-pan-pinch-reset',\n    iframe: 'data-testid panel iframe',\n    image: 'data-testid panel image',\n    imageLink: 'data-testid panel image-link',\n    root: 'data-testid panel',\n    video: 'data-testid panel video',\n    warning: 'data-testid panel warning',\n    zoomedImage: 'data-testid panel zoomed-image',\n  },\n};\n","import { ButtonType, ZoomType } from '../types';\n\n/**\n * Buttons Options\n */\nexport const BUTTONS_OPTIONS = [\n  { value: ButtonType.DOWNLOAD, label: 'Download' },\n  { value: ButtonType.NAVIGATION, label: 'Navigation' },\n  { value: ButtonType.ZOOM, label: 'Zoom' },\n];\n\n/**\n * Zoom Options\n */\nexport const ZOOM_OPTIONS = [\n  { value: ZoomType.DEFAULT, label: 'Full Screen' },\n  { value: ZoomType.PANPINCH, label: 'Pan and Pinch' },\n];\n","/**\n * Convert Base64 to Blob\n */\nexport const base64toBlob = (data: string, contentType: string, sliceSize = 512) => {\n  data = data.replace(/^[^,]+,/, '').replace(/\\s/g, '');\n\n  const byteCharacters = Buffer.from(data, 'base64').toString('binary');\n  const byteArrays = [];\n\n  for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n    const slice = byteCharacters.slice(offset, offset + sliceSize);\n\n    const byteNumbers = new Array(slice.length);\n    for (let i = 0; i < slice.length; i++) {\n      byteNumbers[i] = slice.charCodeAt(i);\n    }\n\n    byteArrays.push(new Uint8Array(byteNumbers));\n  }\n\n  return new Blob(byteArrays, { type: contentType });\n};\n","import { css } from '@emotion/css';\nimport { GrafanaTheme2 } from '@grafana/data';\n\n/**\n * Styles\n */\nexport const getStyles = (theme: GrafanaTheme2) => {\n  return {\n    wrapper: css`\n      position: relative;\n    `,\n    url: css`\n      display: block;\n    `,\n    zoom: css`\n      [data-rmiz-modal-overlay='visible'] {\n        background-color: ${theme.colors.background.primary};\n    `,\n    description: css`\n      text-align: center;\n      padding: ${theme.spacing(0.5)};\n    `,\n  };\n};\n","import { Field, FieldType, PanelPlugin } from '@grafana/data';\n\nimport { ImagePanel } from './components';\nimport { BUTTONS_OPTIONS, DEFAULT_OPTIONS, IMAGE_SCALE_OPTIONS, SIZE_MODE_OPTIONS, ZOOM_OPTIONS } from './constants';\nimport { ButtonType, ImageSizeMode, PanelOptions } from './types';\n\n/**\n * Panel Plugin\n */\nexport const plugin = new PanelPlugin<PanelOptions>(ImagePanel).setNoPadding().setPanelOptions((builder) => {\n  builder\n    .addFieldNamePicker({\n      path: 'name',\n      name: 'Field name',\n      description:\n        'Name of the field with encoded image, video, audio or PDF. If not specified, first field will be taken.',\n      settings: {\n        filter: (f: Field) => f.type === FieldType.string,\n        noFieldsMessage: 'No strings fields found',\n      },\n    })\n    .addFieldNamePicker({\n      path: 'description',\n      name: 'Field description',\n      description: `Name of the field with file description. If not specified, the description won't be shown.`,\n      settings: {\n        filter: (f: Field) => f.type === FieldType.string,\n        noFieldsMessage: 'No strings fields found',\n      },\n    });\n\n  /**\n   * ToolBar\n   */\n  builder\n    .addRadio({\n      path: 'toolbar',\n      name: 'Images and PDF only.',\n      settings: {\n        options: [\n          { value: true, label: 'Enabled' },\n          { value: false, label: 'Disabled' },\n        ],\n      },\n      category: ['Toolbar'],\n      defaultValue: DEFAULT_OPTIONS.toolbar,\n    })\n    .addMultiSelect({\n      path: 'buttons',\n      name: 'Select buttons to display on toolbar. Images only.',\n      settings: {\n        options: BUTTONS_OPTIONS,\n      },\n      defaultValue: DEFAULT_OPTIONS.buttons as unknown,\n      category: ['Toolbar'],\n      showIf: (options: PanelOptions) => options.toolbar,\n    })\n    .addRadio({\n      path: 'zoomType',\n      name: 'Select zoom mode.',\n      settings: {\n        options: ZOOM_OPTIONS,\n      },\n      defaultValue: DEFAULT_OPTIONS.zoomType,\n      category: ['Toolbar'],\n      showIf: (options: PanelOptions) => options.toolbar && options.buttons.includes(ButtonType.ZOOM),\n    });\n\n  /**\n   * URL\n   */\n  builder\n    .addTextInput({\n      path: 'url',\n      name: 'Image URL',\n      description: 'Specifies the URL of the page the click on image goes to.',\n      category: ['URL'],\n    })\n    .addTextInput({\n      path: 'title',\n      name: 'Title',\n      category: ['URL'],\n    });\n\n  /**\n   * Width\n   */\n  builder\n    .addRadio({\n      path: 'widthMode',\n      name: 'Width',\n      settings: {\n        options: SIZE_MODE_OPTIONS,\n      },\n      category: ['Width'],\n      defaultValue: DEFAULT_OPTIONS.widthMode,\n    })\n    .addFieldNamePicker({\n      path: 'widthName',\n      name: 'Field name',\n      description: 'Name of the field with width in px.',\n      settings: {\n        filter: (f: Field) => f.type === FieldType.number,\n        noFieldsMessage: 'No number fields found',\n      },\n      category: ['Width'],\n      showIf: (options: PanelOptions) => options.widthMode === ImageSizeMode.CUSTOM,\n    })\n    .addNumberInput({\n      path: 'width',\n      name: 'Custom width (px)',\n      defaultValue: DEFAULT_OPTIONS.width,\n      category: ['Width'],\n      showIf: (options: PanelOptions) => options.widthMode === ImageSizeMode.CUSTOM,\n    });\n\n  /**\n   * Height\n   */\n  builder\n    .addRadio({\n      path: 'heightMode',\n      name: 'Height',\n      settings: {\n        options: SIZE_MODE_OPTIONS,\n      },\n      category: ['Height'],\n      defaultValue: DEFAULT_OPTIONS.heightMode,\n    })\n    .addFieldNamePicker({\n      path: 'heightName',\n      name: 'Field name',\n      description: 'Name of the field with height in px.',\n      settings: {\n        filter: (f: Field) => f.type === FieldType.number,\n        noFieldsMessage: 'No number fields found',\n      },\n      category: ['Height'],\n      showIf: (options: PanelOptions) => options.heightMode === ImageSizeMode.CUSTOM,\n    })\n    .addNumberInput({\n      path: 'height',\n      name: 'Custom height (px)',\n      defaultValue: DEFAULT_OPTIONS.height,\n      category: ['Height'],\n      showIf: (options: PanelOptions) => options.heightMode === ImageSizeMode.CUSTOM,\n    });\n\n  /**\n   * Image\n   */\n  builder.addSelect({\n    path: 'scale',\n    name: 'Scale Algorithm',\n    category: ['Image'],\n    settings: {\n      options: IMAGE_SCALE_OPTIONS,\n    },\n    defaultValue: DEFAULT_OPTIONS.scale,\n  });\n\n  /**\n   * Video / Audio\n   */\n  builder\n    .addRadio({\n      path: 'controls',\n      name: 'Controls',\n      description: 'When enabled, it specifies that video and audio controls should be displayed.',\n      settings: {\n        options: [\n          { value: true, label: 'Enabled' },\n          { value: false, label: 'Disabled' },\n        ],\n      },\n      category: ['Video/Audio'],\n      defaultValue: DEFAULT_OPTIONS.controls,\n    })\n    .addRadio({\n      path: 'autoPlay',\n      name: 'Auto Play',\n      description: 'When enabled, the video and audio will automatically start playing without sound.',\n      settings: {\n        options: [\n          { value: true, label: 'Enabled' },\n          { value: false, label: 'Disabled' },\n        ],\n      },\n      category: ['Video/Audio'],\n      defaultValue: DEFAULT_OPTIONS.autoPlay,\n    })\n    .addRadio({\n      path: 'infinityPlay',\n      name: 'Infinity Play',\n      description: 'When enabled, the video and audio will be played back repeatedly.',\n      settings: {\n        options: [\n          { value: true, label: 'Enabled' },\n          { value: false, label: 'Disabled' },\n        ],\n      },\n      category: ['Video/Audio'],\n      defaultValue: DEFAULT_OPTIONS.infinityPlay,\n    });\n\n  return builder;\n});\n","import 'react-medium-image-zoom/dist/styles.css';\n\nimport { css, cx } from '@emotion/css';\nimport { FieldType, PanelProps } from '@grafana/data';\nimport { Alert, PageToolbar, ToolbarButton, useStyles2 } from '@grafana/ui';\nimport saveAs from 'file-saver';\nimport { Base64 } from 'js-base64';\nimport React, { JSX, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { Controlled as ControlledZoom } from 'react-medium-image-zoom';\nimport { ReactZoomPanPinchRef, TransformComponent, TransformWrapper } from 'react-zoom-pan-pinch';\n\nimport { IMAGE_TYPES_SYMBOLS, TEST_IDS } from '../../constants';\nimport { ButtonType, ImageSizeMode, PanelOptions, SupportedFileType, ZoomType } from '../../types';\nimport { base64toBlob } from '../../utils';\nimport { getStyles } from './ImagePanel.styles';\n\n/**\n * Properties\n */\ninterface Props extends PanelProps<PanelOptions> {}\n\n/**\n * Image Panel\n */\nexport const ImagePanel: React.FC<Props> = ({ options, data, width, height, replaceVariables }) => {\n  /**\n   * States\n   */\n  const [isZoomed, setIsZoomed] = useState(false);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [toolbarHeight, setToolbarHeight] = useState(0);\n  const [descriptionHeight, setDescriptionHeight] = useState(0);\n\n  /**\n   * References\n   */\n  const zoomPanPinchRef = useRef<ReactZoomPanPinchRef | null>(null);\n  const toolbarRef = useRef<HTMLDivElement>(null);\n  const descriptionRef = useRef<HTMLDivElement>(null);\n\n  /**\n   * Image values\n   */\n  const values = useMemo(() => {\n    return (\n      data.series\n        .map((series) =>\n          series.fields.find(\n            (field) => field.type === FieldType.string && (!options.name || field.name === options.name)\n          )\n        )\n        .map((field) => field?.values)\n        .filter((item) => !!item)[0]\n        ?.toArray() || []\n    );\n  }, [data.series, options.name]);\n\n  /**\n   * Image descriptions\n   */\n  const descriptions = useMemo(() => {\n    if (!options.description) {\n      return [];\n    }\n\n    return (\n      data.series\n        .map((series) => series.fields.find((field) => field.name === options.description))\n        .map((field) => field?.values)\n        .filter((item) => !!item)[0]\n        ?.toArray() || []\n    );\n  }, [data.series, options.description]);\n\n  /**\n   * Is Toolbar Shown\n   */\n  const isToolbarShown = useMemo(() => {\n    return options.toolbar && options.buttons.length > 0;\n  }, [options.toolbar, options.buttons]);\n\n  /**\n   * Zoom Pan Pinch handlers\n   */\n  const onZoomPanPinchIn = useCallback(() => {\n    zoomPanPinchRef.current?.zoomIn();\n  }, []);\n\n  const onZoomPanPinchOut = useCallback(() => {\n    zoomPanPinchRef.current?.zoomOut();\n  }, []);\n\n  const onResetZoomPanPinch = useCallback(() => {\n    zoomPanPinchRef.current?.resetTransform();\n  }, []);\n\n  /**\n   * Change Current Image\n   */\n  const onChangeCurrentIndex = useCallback(\n    (dir: 'prev' | 'next') => {\n      let nextIndex;\n      if (dir === 'prev') {\n        nextIndex = currentIndex - 1;\n        if (nextIndex < 0) {\n          nextIndex = values.length - 1;\n        }\n      } else {\n        nextIndex = currentIndex + 1;\n        if (nextIndex > values.length - 1) {\n          nextIndex = 0;\n        }\n      }\n      setCurrentIndex(nextIndex);\n\n      /**\n       * Reset zoom to avoid wrong image transform if zoom in\n       */\n      onResetZoomPanPinch();\n    },\n    [values?.length, currentIndex, onResetZoomPanPinch]\n  );\n\n  /**\n   * Calculate toolbar height when panel width, height or toolbar visibility changed\n   */\n  useEffect(() => {\n    setToolbarHeight(toolbarRef.current?.clientHeight || 0);\n  }, [width, height, options.toolbar, options.buttons, options.zoomType]);\n\n  /**\n   * If Navigation Shown\n   */\n  const navigationShown = options.toolbar && options.buttons?.includes(ButtonType.NAVIGATION);\n\n  /**\n   * Calculate description height when panel width, height, descriptions or description field changed\n   */\n  useEffect(() => {\n    setDescriptionHeight(descriptionRef.current?.clientHeight || 0);\n  }, [width, height, options.description, descriptions, currentIndex, navigationShown]);\n\n  /**\n   * Reset zoom when panel size is changed to avoid wrong image transform if zoom in\n   */\n  useEffect(() => {\n    onResetZoomPanPinch();\n  }, [width, height, onResetZoomPanPinch]);\n\n  /**\n   * Styles\n   */\n  const styles = useStyles2(getStyles);\n\n  /**\n   * Name and description field (string)\n   * Use first element if Navigation enabled, otherwise last\n   */\n  const resultIndex = navigationShown ? currentIndex : values.length - 1;\n\n  let img = values[resultIndex];\n  const description = descriptions[resultIndex];\n\n  /**\n   * Keep auto-scale if Auto\n   */\n  let imageHeight = options.heightMode === ImageSizeMode.AUTO ? height - toolbarHeight - descriptionHeight : 0;\n  let imageWidth = options.widthMode === ImageSizeMode.AUTO ? width : 0;\n\n  /**\n   * Height\n   */\n  if (options.heightMode === ImageSizeMode.CUSTOM) {\n    /**\n     * Field\n     */\n    if (options.heightName) {\n      const heightField = data.series\n        .map((series) =>\n          series.fields.find((field) => field.type === FieldType.number && field.name === options.heightName)\n        )\n        .map((field) => field?.values.get(field.values.length - 1))\n        .toString();\n      imageHeight = Number(heightField) ? Number(heightField) : imageHeight;\n    }\n\n    imageHeight = options.height ? options.height : imageHeight;\n  }\n\n  /**\n   * Width\n   */\n  if (options.widthMode === ImageSizeMode.CUSTOM) {\n    /**\n     * Field\n     */\n    if (options.widthName) {\n      const widthField = data.series\n        .map((series) =>\n          series.fields.find((field) => field.type === FieldType.number && field.name === options.widthName)\n        )\n        .map((field) => field?.values.get(field.values.length - 1))\n        .toString();\n      imageWidth = Number(widthField) ? Number(widthField) : imageWidth;\n    }\n\n    imageWidth = options.width ? options.width : imageWidth;\n  }\n\n  /**\n   * Root Container\n   */\n  const renderContainer = (child: JSX.Element) => (\n    <div\n      data-testid={TEST_IDS.panel.root}\n      className={cx(\n        styles.wrapper,\n        css`\n          width: ${width}px;\n          height: ${height}px;\n        `\n      )}\n    >\n      {child}\n      {description && (\n        <div ref={descriptionRef} className={styles.description}>\n          {description}\n        </div>\n      )}\n    </div>\n  );\n\n  /**\n   * No results\n   */\n  if (!img) {\n    return renderContainer(\n      <Alert severity=\"warning\" title=\"\" data-testid={TEST_IDS.panel.warning}>\n        Nothing to display...\n      </Alert>\n    );\n  }\n\n  let type;\n\n  /**\n   * Check if returned value already has header\n   */\n  const m = img.match(/^data:(video\\/\\w+|audio\\/\\w+|image|application\\/\\w+)/);\n  if (!m?.length) {\n    /**\n     * Encode to base64 if not\n     */\n    if (!Base64.isValid(img)) {\n      img = Base64.encode(img);\n    }\n\n    /**\n     * Set header\n     */\n    type = IMAGE_TYPES_SYMBOLS[img.charAt(0)];\n    img = type ? `data:${type};base64,${img}` : `data:;base64,${img}`;\n  } else if (Object.values(SupportedFileType).includes(m[1] as SupportedFileType)) {\n    type = m[1];\n  }\n\n  /**\n   * Convert PDF base64 to Blob and display\n   */\n  if (type === SupportedFileType.PDF) {\n    const blob = base64toBlob(img, SupportedFileType.PDF);\n    img = URL.createObjectURL(blob);\n\n    /**\n     * Disable toolbar\n     */\n    if (!options.toolbar) {\n      img += '#toolbar=0';\n    }\n\n    return renderContainer(\n      <iframe width={imageWidth || ''} height={imageHeight || ''} src={img} data-testid={TEST_IDS.panel.iframe} />\n    );\n  }\n\n  /**\n   * Display Video MP4 or WebM\n   */\n  if (type === SupportedFileType.MP4 || type === SupportedFileType.WEBM) {\n    return renderContainer(\n      <video\n        muted={options.autoPlay}\n        width={imageWidth || ''}\n        height={imageHeight || ''}\n        controls={options.controls}\n        loop={options.infinityPlay}\n        autoPlay={options.autoPlay}\n        data-testid={TEST_IDS.panel.video}\n      >\n        <source src={img} />\n      </video>\n    );\n  }\n\n  /**\n   * Display Audio OGG or MP3\n   */\n  if (type === SupportedFileType.MP3 || type === SupportedFileType.OGG) {\n    return renderContainer(\n      <audio\n        controls={options.controls}\n        autoPlay={options.autoPlay}\n        data-testid={TEST_IDS.panel.audio}\n        loop={options.infinityPlay}\n      >\n        <source src={img} />\n      </audio>\n    );\n  }\n\n  /**\n   * Add URL to Image\n   */\n  let image = (\n    <img\n      width={imageWidth || ''}\n      height={imageHeight || ''}\n      src={img}\n      data-testid={TEST_IDS.panel.image}\n      alt=\"\"\n      style={{ imageRendering: options.scale }}\n    />\n  );\n  if (options.url) {\n    const url = replaceVariables(options.url);\n\n    image = (\n      <a className={cx(styles.url)} href={url} title={options.title} data-testid={TEST_IDS.panel.imageLink}>\n        {image}\n      </a>\n    );\n  }\n\n  /**\n   * Render Zoom Image\n   */\n  if (options.toolbar && options.buttons.length) {\n    const renderZoomImage = () => {\n      if (options.zoomType === ZoomType.PANPINCH) {\n        return (\n          <TransformWrapper\n            ref={zoomPanPinchRef}\n            disablePadding={true}\n            wheel={{ touchPadDisabled: true, wheelDisabled: true }}\n          >\n            <TransformComponent>{image}</TransformComponent>\n          </TransformWrapper>\n        );\n      }\n\n      return (\n        <ControlledZoom\n          isZoomed={isZoomed}\n          onZoomChange={setIsZoomed}\n          zoomImg={{\n            alt: '',\n            src: img,\n          }}\n          classDialog={styles.zoom}\n        >\n          {image}\n        </ControlledZoom>\n      );\n    };\n\n    /**\n     * Display Image with Toolbar\n     */\n    return renderContainer(\n      <>\n        {isToolbarShown && (\n          <div ref={toolbarRef}>\n            <PageToolbar\n              forceShowLeftItems={options.buttons.includes(ButtonType.NAVIGATION)}\n              leftItems={\n                options.buttons.includes(ButtonType.NAVIGATION)\n                  ? [\n                      <ToolbarButton\n                        key=\"previous\"\n                        icon=\"backward\"\n                        onClick={() => {\n                          onChangeCurrentIndex('prev');\n                        }}\n                        data-testid={TEST_IDS.panel.buttonPrevious}\n                        disabled={Math.max(values.length, 1) === 1}\n                      >\n                        Previous\n                      </ToolbarButton>,\n                      <div key=\"current\">\n                        {currentIndex + 1} of {Math.max(values.length, 1)}\n                      </div>,\n                      <ToolbarButton\n                        key=\"next\"\n                        icon=\"forward\"\n                        onClick={() => {\n                          onChangeCurrentIndex('next');\n                        }}\n                        data-testid={TEST_IDS.panel.buttonNext}\n                        disabled={Math.max(values.length, 1) === 1}\n                      >\n                        Next\n                      </ToolbarButton>,\n                    ]\n                  : undefined\n              }\n            >\n              {options.buttons.includes(ButtonType.DOWNLOAD) && (\n                <ToolbarButton\n                  icon=\"save\"\n                  onClick={() => {\n                    saveAs(img);\n                  }}\n                  data-testid={TEST_IDS.panel.buttonDownload}\n                >\n                  Download\n                </ToolbarButton>\n              )}\n\n              {options.buttons.includes(ButtonType.ZOOM) && options.zoomType !== ZoomType.PANPINCH && (\n                <ToolbarButton\n                  icon=\"search-plus\"\n                  onClick={() => {\n                    setIsZoomed(true);\n                  }}\n                  data-testid={TEST_IDS.panel.buttonZoom}\n                />\n              )}\n              {options.buttons.includes(ButtonType.ZOOM) && options.zoomType === ZoomType.PANPINCH && (\n                <>\n                  <ToolbarButton\n                    icon=\"search-plus\"\n                    onClick={onZoomPanPinchIn}\n                    data-testid={TEST_IDS.panel.buttonZoomPanPinchIn}\n                  />\n                  <ToolbarButton\n                    icon=\"search-minus\"\n                    onClick={onZoomPanPinchOut}\n                    data-testid={TEST_IDS.panel.buttonZoomPanPinchOut}\n                  />\n                  <ToolbarButton\n                    icon=\"times-circle\"\n                    onClick={onResetZoomPanPinch}\n                    data-testid={TEST_IDS.panel.buttonZoomPanPinchReset}\n                  />\n                </>\n              )}\n            </PageToolbar>\n          </div>\n        )}\n\n        {options.buttons.includes(ButtonType.ZOOM) ? renderZoomImage() : image}\n      </>\n    );\n  }\n\n  /**\n   * Display Image\n   */\n  return renderContainer(image);\n};\n"],"names":["exports","byteLength","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","i","arr","Arr","_byteLength","curByte","len","revLookup","charCodeAt","fromByteArray","uint8","length","extraBytes","parts","maxChunkLength","len2","push","encodeChunk","lookup","join","Uint8Array","Array","code","Error","indexOf","start","end","num","output","base64","ieee754","customInspectSymbol","Symbol","Buffer","K_MAX_LENGTH","createBuffer","RangeError","buf","Object","setPrototypeOf","prototype","arg","encodingOrOffset","TypeError","allocUnsafe","from","value","string","encoding","isEncoding","actual","write","slice","fromString","ArrayBuffer","isView","arrayView","isInstance","copy","fromArrayBuffer","buffer","byteOffset","fromArrayLike","fromArrayView","SharedArrayBuffer","valueOf","b","obj","isBuffer","checked","undefined","numberIsNaN","type","isArray","data","fromObject","toPrimitive","assertSize","size","array","toString","mustMatch","arguments","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","this","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","n","m","bidirectionalIndexOf","val","dir","arrayIndexOf","call","lastIndexOf","indexSize","arrLength","valLength","String","read","readUInt16BE","foundIndex","found","j","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","asciiToBytes","base64Write","ucs2Write","units","c","hi","lo","utf16leToBytes","Math","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","apply","decodeCodePointsArray","TYPED_ARRAY_SUPPORT","proto","foo","e","typedArraySupport","console","error","defineProperty","enumerable","get","poolSize","alloc","fill","allocUnsafeSlow","_isBuffer","compare","a","x","y","concat","list","pos","set","swap16","swap32","swap64","toLocaleString","equals","inspect","max","replace","trim","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","out","hexSliceLookupTable","bytes","checkOffset","ext","checkInt","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","INVALID_BASE64_RE","Infinity","leadSurrogate","split","base64clean","src","dst","constructor","name","alphabet","table","i16","___CSS_LOADER_EXPORT___","module","id","cssWithMappingToString","map","item","content","needLayer","modules","media","dedupe","supports","layer","alreadyImportedModules","k","_k","cssMapping","btoa","unescape","encodeURIComponent","JSON","stringify","sourceMapping","d","XMLHttpRequest","open","responseType","onload","g","response","onerror","send","status","dispatchEvent","MouseEvent","document","createEvent","initMouseEvent","window","f","self","global","navigator","test","userAgent","saveAs","HTMLAnchorElement","h","URL","webkitURL","createElement","download","rel","href","origin","location","createObjectURL","setTimeout","revokeObjectURL","msSaveOrOpenBlob","autoBom","warn","Blob","title","body","innerText","HTMLElement","safari","FileReader","onloadend","result","readAsDataURL","l","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","s","NaN","rt","abs","isNaN","floor","log","LN2","stylesInDOM","getIndexByIdentifier","identifier","modulesToDom","options","idCountMap","identifiers","base","count","indexByIdentifier","css","sourceMap","references","updater","addElementStyle","byIndex","splice","api","domAPI","update","newObj","remove","lastIdentifiers","newList","index","newLastIdentifiers","_i","_index","memo","insert","style","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","getTarget","appendChild","element","setAttributes","attributes","styleElement","nonce","setAttribute","insertStyleElement","styleTagTransform","parentNode","removeChild","removeStyleElement","styleSheet","cssText","firstChild","createTextNode","__WEBPACK_EXTERNAL_MODULE__89__","__WEBPACK_EXTERNAL_MODULE__781__","__WEBPACK_EXTERNAL_MODULE__7__","__WEBPACK_EXTERNAL_MODULE__959__","__WEBPACK_EXTERNAL_MODULE__398__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","definition","key","o","globalThis","Function","prop","hasOwnProperty","r","toStringTag","nc","locals","_hasBuffer","_TE","TextDecoder","TextEncoder","b64chs","_fromCC","tab","forEach","bind","_mkUriSafe","m0","_btoa","bin","u32","c0","c1","c2","asc","pad","substring","_fromUint8Array","u8a","strs","cb_utob","cc","re_utob","_encode","encode","gBase64","urlsafe","testElType","el","tagName","toUpperCase","testDiv","testImg","testImgLoaded","complete","naturalHeight","testSvg","getScaleToWindow","height","width","innerWidth","innerHeight","getScale","containerHeight","containerWidth","hasScalableSrc","targetHeight","targetWidth","scale","ratio","getScaleToWindowMax","URL_REGEX","getImgSrc","imgEl","currentSrc","bgImg","getComputedStyle","backgroundImage","exec","parsePosition","position","relativeNum","positionNum","parseFloat","endsWith","SRC_SVG_REGEX","IMAGE_QUERY","defaultBodyAttrs","overflow","Controlled","props","ControlledBase","Component","super","state","isZoomImgLoaded","loadedImgEl","modalState","shouldRefresh","refContent","createRef","refDialog","refModalContent","refModalImg","refWrap","prevBodyAttrs","styleModalImg","getDialogContainer","setId","gen4","random","setState","setAndTrackImg","contentEl","current","changeObserver","disconnect","addEventListener","handleImgLoad","handleZoom","imgElObserver","ResizeObserver","entries","entry","observe","MutationObserver","childList","subtree","handleIfZoomChanged","prevIsZoomed","isZoomed","zoom","unzoom","imgSrc","img","Image","sizes","srcset","setLoaded","decode","then","catch","onZoomChange","handleUnzoom","handleDialogCancel","preventDefault","handleDialogClick","handleKeyDown","keyCode","stopPropagation","handleWheel","ctrlKey","queueMicrotask","handleTouchStart","changedTouches","touchYStart","screenY","handleTouchMove","touchYEnd","handleTouchCancel","handleResize","bodyScrollDisable","showModal","loadZoomImg","passive","handleZoomEnd","once","removeEventListener","handleUnzoomEnd","close","bodyScrollEnable","clientWidth","zoomImg","zoomImgSrc","srcSet","UNSAFE_handleSvg","innerHTML","outerHTML","querySelectorAll","maskEl","newId","maskedEl","svg","render","a11yNameButtonUnzoom","a11yNameButtonZoom","children","classDialog","IconUnzoom","IconZoom","wrapElement","WrapElement","ZoomContent","zoomMargin","idModal","idModalImg","isDiv","isImg","isSvg","imgAlt","alt","getAttribute","getImgAlt","imgSizes","imgSrcSet","hasZoomImg","hasImage","display","labelBtnZoom","isModalActive","dataContentState","dataOverlayState","styleContent","visibility","styleGhost","parentEl","parentElement","rect","getBoundingClientRect","parentRect","left","top","offsetHeight","offsetLeft","offsetWidth","offsetTop","getStyleGhost","targetEl","imgRect","targetElComputedStyle","isDivImg","isImgObjectFit","styleImgRegular","containerLeft","containerTop","transform","getImgRegularStyle","naturalWidth","styleImgObjectFit","objectFit","objectPosition","widthRatio","heightRatio","posLeft","posTop","posX","posY","getImgObjectFitStyle","styleDivImg","backgroundPosition","backgroundSize","sizeW","sizeH","getDivImgStyle","assign","viewportX","viewportY","translateX","translateY","transitionDuration","getStyleModalImg","modalContent","modalImg","ref","modalBtnUnzoom","onClick","buttonUnzoom","onUnzoom","createPortal","className","onClose","onCancel","role","componentDidMount","componentWillUnmount","componentDidUpdate","prevProps","defaultProps","focusable","viewBox","xmlns","roundNumber","decimal","toFixed","handleCallback","context","event","callback","animations","easeOut","t","cos","PI","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","handleCancelAnimationFrame","animation","cancelAnimationFrame","handleCancelAnimation","contextInstance","mounted","animate","velocity","handleSetupAnimation","animationName","animationTime","startTime","Date","getTime","frameTime","animationProgress","step","animationType","requestAnimationFrame","targetState","isValid","positionX","positionY","isValidTargetState","setTransformState","_a","transformState","scaleDiff","positionXDiff","positionYDiff","calculateBounds","newScale","wrapperComponent","contentComponent","centerZoomedOut","setup","wrapperWidth","wrapperHeight","newContentWidth","newContentHeight","newDiffWidth","newDiffHeight","getComponentsSizes","bounds","diffWidth","diffHeight","scaleWidthFactor","scaleHeightFactor","minPositionX","maxPositionX","minPositionY","maxPositionY","getBounds","Boolean","boundLimiter","minBound","maxBound","isActive","handleCalculateBounds","getMouseBoundedPosition","limitToBounds","paddingValueX","paddingValueY","paddingX","paddingY","handleCalculateZoomPositions","mouseX","mouseY","scaleDifference","checkZoomBounds","minScale","maxScale","zoomPadding","enablePadding","minScaleWithPadding","isPanningStartAllowed","excluded","panning","isInitialized","isWrapperChild","composedPath","some","Element","contains","isExcludedNode","isPanningAllowed","isPanning","disabled","handleNewPosition","newPositionX","newPositionY","_b","getPaddingValue","disablePadding","isVelocityCalculationAllowed","velocityAnimation","getVelocityPosition","newPosition","startPosition","currentPosition","isLocked","minPosition","maxPosition","minTarget","maxTarget","calculatedPosition","handlePanningStart","TouchEvent","touches","clientX","clientY","startCoords","handleTouchPanningSetup","handlePanningSetup","handleAlignToBounds","alignmentAnimation","sizeX","sizeY","_c","xChanged","yChanged","_d","handlePanToBounds","handlePanning","lockAxisX","lockAxisY","getPanningClientPosition","lastMousePosition","velocityTime","equalToMove","now","sizeMultiplier","getSizeMultiplier","distanceX","distanceY","velocityX","velocityY","interval","speed","sqrt","total","handleCalculateVelocity","handleZoomToPoint","handleAlignToScaleBounds","mousePositionX","mousePositionY","zoomAnimation","isDisabled","__assign","p","__spreadArray","to","pack","ar","initialSetup","centerOnInit","smooth","wheel","smoothStep","wheelDisabled","touchPadDisabled","activationKeys","velocityDisabled","allowLeftClickPan","allowMiddleClickPan","allowRightClickPan","wheelPanning","pinch","doubleClick","mode","velocityAlignmentTime","sensitivity","createState","previousScale","initialScale","initialPositionX","initialPositionY","createSetup","newSetup","keys","validValue","dataType","isObject","handleCalculateButtonZoom","delta","targetScale","exp","handleZoomToViewCenter","resetTransformations","onResetTransformation","initialTransformation","newBounds","boundedPositions","newState","zoomIn","zoomOut","setTransform","resetTransform","centerView","getCenterPosition","zoomToElement","node","getElementById","customZoom","wrapper","wrapperOffset","contentOffset","xOff","yOff","wrapperRect","nodeRect","nodeOffset","nodeLeft","nodeTop","nodeWidth","nodeHeight","scaleX","scaleY","offsetX","offsetY","calculateZoomToNode","getControls","instance","getContext","getState","makePassiveEventOption","err","exclude","matches","cancelTimeout","timeout","clearTimeout","contentWidth","contentHeight","getMousePosition","contentRect","touch","getTouchDistance","pageX","pageY","handleDoubleClickStop","onZoomStop","doubleClickStopEventTimer","ZoomPanPinch","_this","onChangeCallbacks","Set","onInitCallbacks","previousWheelEvent","wheelStopEventTimer","wheelAnimationTimer","isWheelPanning","lastTouch","distance","lastDistance","pinchStartDistance","pinchStartScale","pinchMidpoint","maxBounds","pressedKeys","mount","initializeWindowEvents","unmount","cleanupWindowEvents","newProps","currentDocument","ownerDocument","currentWindow","defaultView","onWheelPanning","onPanningStart","onPanning","onPanningStop","clearPanning","setKeyUnPressed","setKeyPressed","observer","handleInitializeWrapperEvents","onWheelZoom","onDoubleClick","onTouchPanningStart","onTouchPanning","onTouchPanningStop","handleInitialize","applyTransformation","setCenter","isAllowed","isWheelAllowed","isPressingKeys","onWheelStart","onZoomStart","handleWheelStart","onWheel","onZoom","customDelta","deltaY","getDeltaY","getDelta","disable","paddingEnabled","handleCalculateWheelZoom","mousePosition","isLimitedToBounds","handleWheelZoom","onWheelStop","hasStoppedZooming","sign","handleWheelZoomStop","handleWheelStop","deltaX","button","isVelocityAllowed","alignAnimationTime","moveAnimationTime","getVelocityMoveTime","finalAnimationTime","maxTargetX","minTargetX","maxTargetY","minTargetY","startState","alignStep","alignAnimation","customStep","currentPositionX","currentPositionY","handleVelocityPanning","handlePanningEnd","onPinchStart","onPinchingStart","isPinchStartAllowed","handlePinchStart","onPinch","onPinching","isPinchAllowed","midPoint","firstPointX","firstPointY","calculateTouchMidPoint","currentDistance","calculatePinchZoom","handlePinchZoom","onPinchStop","onPinchingStop","isPanningAction","isPinchAction","isDoubleClickAllowed","handleDoubleClickResetMode","getDoubleClickScale","handleDoubleClick","find","onTransformed","ctx_1","handleTransformStyles","customTransform","getTransformStyles","onChange","has","add","delete","onInit","init","ctx","Context","TransformWrapper","useRef","useImperativeHandle","useEffect","Provider","refs","localRef","useContext","insertAt","getElementsByTagName","insertBefore","styleInject","TransformComponent","wrapperClass","contentClass","wrapperStyle","contentStyle","wrapperProps","_e","contentProps","_f","wrapperRef","contentRef","SupportedFileType","ImageField","ImageSizeMode","ImageScale","ButtonType","ZoomType","DEFAULT_OPTIONS","autoPlay","infinityPlay","buttons","controls","description","heightMode","AUTO","heightName","toolbar","url","widthMode","widthName","zoomType","DEFAULT","IMAGE_TYPES_SYMBOLS","JPEG","R","GIF","PNG","J","PDF","A","HEIC","SIZE_MODE_OPTIONS","label","ORIGINAL","CUSTOM","IMAGE_SCALE_OPTIONS","CRISP_EDGES","PIXELATED","TEST_IDS","BUTTONS_OPTIONS","DOWNLOAD","NAVIGATION","ZOOM","ZOOM_OPTIONS","PANPINCH","getStyles","theme","colors","background","primary","spacing","plugin","PanelPlugin","replaceVariables","setIsZoomed","useState","currentIndex","setCurrentIndex","toolbarHeight","setToolbarHeight","descriptionHeight","setDescriptionHeight","zoomPanPinchRef","toolbarRef","descriptionRef","values","useMemo","series","fields","field","FieldType","filter","toArray","descriptions","isToolbarShown","onZoomPanPinchIn","useCallback","onZoomPanPinchOut","onResetZoomPanPinch","onChangeCurrentIndex","nextIndex","clientHeight","navigationShown","styles","useStyles2","resultIndex","imageHeight","imageWidth","heightField","number","widthField","renderContainer","child","div","data-testid","cx","Alert","severity","match","Base64","charAt","blob","contentType","sliceSize","byteCharacters","byteArrays","byteNumbers","base64toBlob","iframe","MP4","WEBM","video","muted","loop","source","MP3","OGG","audio","image","imageRendering","renderZoomImage","ControlledZoom","PageToolbar","forceShowLeftItems","leftItems","ToolbarButton","icon","setNoPadding","setPanelOptions","builder","addFieldNamePicker","path","settings","noFieldsMessage","addRadio","category","defaultValue","addMultiSelect","showIf","addTextInput","addNumberInput","addSelect"],"sourceRoot":""}