/*! For license information please see module.js.LICENSE.txt */
define(["@grafana/data","react","@grafana/ui","lodash","@emotion/css","d3","@grafana/runtime"],((e,t,o,l,r,a,n)=>(()=>{var i={9524:(e,t,o)=>{const l=Symbol("SemVer ANY");class r{static get ANY(){return l}constructor(e,t){if(t=a(t),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),c("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===l?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){const t=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],o=e.match(t);if(!o)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==o[1]?o[1]:"","="===this.operator&&(this.operator=""),o[2]?this.semver=new u(o[2],this.options.loose):this.semver=l}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===l||e===l)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return s(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=a(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(s(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(s(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=r;const a=o(7095),{safeRe:n,t:i}=o(6850),s=o(3811),c=o(9796),u=o(7944),d=o(8395)},8395:(e,t,o)=>{class l{constructor(e,t){if(t=a(t),e instanceof l)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new l(e.raw,t);if(e instanceof n)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!f(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&b(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&h)|(this.options.loose&&g))+":"+e,o=r.get(t);if(o)return o;const l=this.options.loose,a=l?c[u.HYPHENRANGELOOSE]:c[u.HYPHENRANGE];e=e.replace(a,F(this.options.includePrerelease)),i("hyphen replace",e),e=e.replace(c[u.COMPARATORTRIM],d),i("comparator trim",e),e=e.replace(c[u.TILDETRIM],p),i("tilde trim",e),e=e.replace(c[u.CARETTRIM],m),i("caret trim",e);let s=e.split(" ").map((e=>v(e,this.options))).join(" ").split(/\s+/).map((e=>R(e,this.options)));l&&(s=s.filter((e=>(i("loose invalid filter",e,this.options),!!e.match(c[u.COMPARATORLOOSE]))))),i("range list",s);const b=new Map,y=s.map((e=>new n(e,this.options)));for(const e of y){if(f(e))return[e];b.set(e.value,e)}b.size>1&&b.has("")&&b.delete("");const E=[...b.values()];return r.set(t,E),E}intersects(e,t){if(!(e instanceof l))throw new TypeError("a Range is required");return this.set.some((o=>y(o,t)&&e.set.some((e=>y(e,t)&&o.every((o=>e.every((e=>o.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new s(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(k(this.set[t],e,this.options))return!0;return!1}}e.exports=l;const r=new(o(1158)),a=o(7095),n=o(9524),i=o(9796),s=o(7944),{safeRe:c,t:u,comparatorTrimReplace:d,tildeTrimReplace:p,caretTrimReplace:m}=o(6850),{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:g}=o(9630),f=e=>"<0.0.0-0"===e.value,b=e=>""===e.value,y=(e,t)=>{let o=!0;const l=e.slice();let r=l.pop();for(;o&&l.length;)o=l.every((e=>r.intersects(e,t))),r=l.pop();return o},v=(e,t)=>(i("comp",e,t),e=S(e,t),i("caret",e),e=w(e,t),i("tildes",e),e=x(e,t),i("xrange",e),e=O(e,t),i("stars",e),e),E=e=>!e||"x"===e.toLowerCase()||"*"===e,w=(e,t)=>e.trim().split(/\s+/).map((e=>T(e,t))).join(" "),T=(e,t)=>{const o=t.loose?c[u.TILDELOOSE]:c[u.TILDE];return e.replace(o,((t,o,l,r,a)=>{let n;return i("tilde",e,t,o,l,r,a),E(o)?n="":E(l)?n=`>=${o}.0.0 <${+o+1}.0.0-0`:E(r)?n=`>=${o}.${l}.0 <${o}.${+l+1}.0-0`:a?(i("replaceTilde pr",a),n=`>=${o}.${l}.${r}-${a} <${o}.${+l+1}.0-0`):n=`>=${o}.${l}.${r} <${o}.${+l+1}.0-0`,i("tilde return",n),n}))},S=(e,t)=>e.trim().split(/\s+/).map((e=>C(e,t))).join(" "),C=(e,t)=>{i("caret",e,t);const o=t.loose?c[u.CARETLOOSE]:c[u.CARET],l=t.includePrerelease?"-0":"";return e.replace(o,((t,o,r,a,n)=>{let s;return i("caret",e,t,o,r,a,n),E(o)?s="":E(r)?s=`>=${o}.0.0${l} <${+o+1}.0.0-0`:E(a)?s="0"===o?`>=${o}.${r}.0${l} <${o}.${+r+1}.0-0`:`>=${o}.${r}.0${l} <${+o+1}.0.0-0`:n?(i("replaceCaret pr",n),s="0"===o?"0"===r?`>=${o}.${r}.${a}-${n} <${o}.${r}.${+a+1}-0`:`>=${o}.${r}.${a}-${n} <${o}.${+r+1}.0-0`:`>=${o}.${r}.${a}-${n} <${+o+1}.0.0-0`):(i("no pr"),s="0"===o?"0"===r?`>=${o}.${r}.${a}${l} <${o}.${r}.${+a+1}-0`:`>=${o}.${r}.${a}${l} <${o}.${+r+1}.0-0`:`>=${o}.${r}.${a} <${+o+1}.0.0-0`),i("caret return",s),s}))},x=(e,t)=>(i("replaceXRanges",e,t),e.split(/\s+/).map((e=>N(e,t))).join(" ")),N=(e,t)=>{e=e.trim();const o=t.loose?c[u.XRANGELOOSE]:c[u.XRANGE];return e.replace(o,((o,l,r,a,n,s)=>{i("xRange",e,o,l,r,a,n,s);const c=E(r),u=c||E(a),d=u||E(n),p=d;return"="===l&&p&&(l=""),s=t.includePrerelease?"-0":"",c?o=">"===l||"<"===l?"<0.0.0-0":"*":l&&p?(u&&(a=0),n=0,">"===l?(l=">=",u?(r=+r+1,a=0,n=0):(a=+a+1,n=0)):"<="===l&&(l="<",u?r=+r+1:a=+a+1),"<"===l&&(s="-0"),o=`${l+r}.${a}.${n}${s}`):u?o=`>=${r}.0.0${s} <${+r+1}.0.0-0`:d&&(o=`>=${r}.${a}.0${s} <${r}.${+a+1}.0-0`),i("xRange return",o),o}))},O=(e,t)=>(i("replaceStars",e,t),e.trim().replace(c[u.STAR],"")),R=(e,t)=>(i("replaceGTE0",e,t),e.trim().replace(c[t.includePrerelease?u.GTE0PRE:u.GTE0],"")),F=e=>(t,o,l,r,a,n,i,s,c,u,d,p)=>`${o=E(l)?"":E(r)?`>=${l}.0.0${e?"-0":""}`:E(a)?`>=${l}.${r}.0${e?"-0":""}`:n?`>=${o}`:`>=${o}${e?"-0":""}`} ${s=E(c)?"":E(u)?`<${+c+1}.0.0-0`:E(d)?`<${c}.${+u+1}.0-0`:p?`<=${c}.${u}.${d}-${p}`:e?`<${c}.${u}.${+d+1}-0`:`<=${s}`}`.trim(),k=(e,t,o)=>{for(let o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!o.includePrerelease){for(let o=0;o<e.length;o++)if(i(e[o].semver),e[o].semver!==n.ANY&&e[o].semver.prerelease.length>0){const l=e[o].semver;if(l.major===t.major&&l.minor===t.minor&&l.patch===t.patch)return!0}return!1}return!0}},7944:(e,t,o)=>{const l=o(9796),{MAX_LENGTH:r,MAX_SAFE_INTEGER:a}=o(9630),{safeRe:n,t:i}=o(6850),s=o(7095),{compareIdentifiers:c}=o(4031);class u{constructor(e,t){if(t=s(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>r)throw new TypeError(`version is longer than ${r} characters`);l("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const o=e.trim().match(t.loose?n[i.LOOSE]:n[i.FULL]);if(!o)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<a)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(l("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const o=this.prerelease[t],r=e.prerelease[t];if(l("prerelease compare",t,o,r),void 0===o&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===o)return-1;if(o!==r)return c(o,r)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const o=this.build[t],r=e.build[t];if(l("build compare",t,o,r),void 0===o&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===o)return-1;if(o!==r)return c(o,r)}while(++t)}inc(e,t,o){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,o);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,o);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,o),this.inc("pre",t,o);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,o),this.inc("pre",t,o);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(o)?1:0;if(!t&&!1===o)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let l=this.prerelease.length;for(;--l>=0;)"number"==typeof this.prerelease[l]&&(this.prerelease[l]++,l=-2);if(-1===l){if(t===this.prerelease.join(".")&&!1===o)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let l=[t,e];!1===o&&(l=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=l):this.prerelease=l}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},7994:(e,t,o)=>{const l=o(5860);e.exports=(e,t)=>{const o=l(e.trim().replace(/^[=v]+/,""),t);return o?o.version:null}},3811:(e,t,o)=>{const l=o(6909),r=o(7659),a=o(144),n=o(2077),i=o(599),s=o(7092);e.exports=(e,t,o,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof o&&(o=o.version),e===o;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof o&&(o=o.version),e!==o;case"":case"=":case"==":return l(e,o,c);case"!=":return r(e,o,c);case">":return a(e,o,c);case">=":return n(e,o,c);case"<":return i(e,o,c);case"<=":return s(e,o,c);default:throw new TypeError(`Invalid operator: ${t}`)}}},5334:(e,t,o)=>{const l=o(7944),r=o(5860),{safeRe:a,t:n}=o(6850);e.exports=(e,t)=>{if(e instanceof l)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let o=null;if((t=t||{}).rtl){const l=t.includePrerelease?a[n.COERCERTLFULL]:a[n.COERCERTL];let r;for(;(r=l.exec(e))&&(!o||o.index+o[0].length!==e.length);)o&&r.index+r[0].length===o.index+o[0].length||(o=r),l.lastIndex=r.index+r[1].length+r[2].length;l.lastIndex=-1}else o=e.match(t.includePrerelease?a[n.COERCEFULL]:a[n.COERCE]);if(null===o)return null;const i=o[2],s=o[3]||"0",c=o[4]||"0",u=t.includePrerelease&&o[5]?`-${o[5]}`:"",d=t.includePrerelease&&o[6]?`+${o[6]}`:"";return r(`${i}.${s}.${c}${u}${d}`,t)}},2801:(e,t,o)=>{const l=o(7944);e.exports=(e,t,o)=>{const r=new l(e,o),a=new l(t,o);return r.compare(a)||r.compareBuild(a)}},7023:(e,t,o)=>{const l=o(5380);e.exports=(e,t)=>l(e,t,!0)},5380:(e,t,o)=>{const l=o(7944);e.exports=(e,t,o)=>new l(e,o).compare(new l(t,o))},660:(e,t,o)=>{const l=o(5860);e.exports=(e,t)=>{const o=l(e,null,!0),r=l(t,null,!0),a=o.compare(r);if(0===a)return null;const n=a>0,i=n?o:r,s=n?r:o,c=!!i.prerelease.length;if(s.prerelease.length&&!c)return s.patch||s.minor?i.patch?"patch":i.minor?"minor":"major":"major";const u=c?"pre":"";return o.major!==r.major?u+"major":o.minor!==r.minor?u+"minor":o.patch!==r.patch?u+"patch":"prerelease"}},6909:(e,t,o)=>{const l=o(5380);e.exports=(e,t,o)=>0===l(e,t,o)},144:(e,t,o)=>{const l=o(5380);e.exports=(e,t,o)=>l(e,t,o)>0},2077:(e,t,o)=>{const l=o(5380);e.exports=(e,t,o)=>l(e,t,o)>=0},5955:(e,t,o)=>{const l=o(7944);e.exports=(e,t,o,r,a)=>{"string"==typeof o&&(a=r,r=o,o=void 0);try{return new l(e instanceof l?e.version:e,o).inc(t,r,a).version}catch(e){return null}}},599:(e,t,o)=>{const l=o(5380);e.exports=(e,t,o)=>l(e,t,o)<0},7092:(e,t,o)=>{const l=o(5380);e.exports=(e,t,o)=>l(e,t,o)<=0},2966:(e,t,o)=>{const l=o(7944);e.exports=(e,t)=>new l(e,t).major},5986:(e,t,o)=>{const l=o(7944);e.exports=(e,t)=>new l(e,t).minor},7659:(e,t,o)=>{const l=o(5380);e.exports=(e,t,o)=>0!==l(e,t,o)},5860:(e,t,o)=>{const l=o(7944);e.exports=(e,t,o=!1)=>{if(e instanceof l)return e;try{return new l(e,t)}catch(e){if(!o)return null;throw e}}},1617:(e,t,o)=>{const l=o(7944);e.exports=(e,t)=>new l(e,t).patch},9613:(e,t,o)=>{const l=o(5860);e.exports=(e,t)=>{const o=l(e,t);return o&&o.prerelease.length?o.prerelease:null}},2862:(e,t,o)=>{const l=o(5380);e.exports=(e,t,o)=>l(t,e,o)},6033:(e,t,o)=>{const l=o(2801);e.exports=(e,t)=>e.sort(((e,o)=>l(o,e,t)))},1722:(e,t,o)=>{const l=o(8395);e.exports=(e,t,o)=>{try{t=new l(t,o)}catch(e){return!1}return t.test(e)}},603:(e,t,o)=>{const l=o(2801);e.exports=(e,t)=>e.sort(((e,o)=>l(e,o,t)))},7645:(e,t,o)=>{const l=o(5860);e.exports=(e,t)=>{const o=l(e,t);return o?o.version:null}},8449:(e,t,o)=>{const l=o(6850),r=o(9630),a=o(7944),n=o(4031),i=o(5860),s=o(7645),c=o(7994),u=o(5955),d=o(660),p=o(2966),m=o(5986),h=o(1617),g=o(9613),f=o(5380),b=o(2862),y=o(7023),v=o(2801),E=o(603),w=o(6033),T=o(144),S=o(599),C=o(6909),x=o(7659),N=o(2077),O=o(7092),R=o(3811),F=o(5334),k=o(9524),A=o(8395),I=o(1722),L=o(651),D=o(7840),$=o(7930),P=o(3489),_=o(7494),M=o(5463),V=o(7871),z=o(4266),j=o(1112),U=o(1465),B=o(9252);e.exports={parse:i,valid:s,clean:c,inc:u,diff:d,major:p,minor:m,patch:h,prerelease:g,compare:f,rcompare:b,compareLoose:y,compareBuild:v,sort:E,rsort:w,gt:T,lt:S,eq:C,neq:x,gte:N,lte:O,cmp:R,coerce:F,Comparator:k,Range:A,satisfies:I,toComparators:L,maxSatisfying:D,minSatisfying:$,minVersion:P,validRange:_,outside:M,gtr:V,ltr:z,intersects:j,simplifyRange:U,subset:B,SemVer:a,re:l.re,src:l.src,tokens:l.t,SEMVER_SPEC_VERSION:r.SEMVER_SPEC_VERSION,RELEASE_TYPES:r.RELEASE_TYPES,compareIdentifiers:n.compareIdentifiers,rcompareIdentifiers:n.rcompareIdentifiers}},9630:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},9796:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},4031:e=>{const t=/^[0-9]+$/,o=(e,o)=>{const l=t.test(e),r=t.test(o);return l&&r&&(e=+e,o=+o),e===o?0:l&&!r?-1:r&&!l?1:e<o?-1:1};e.exports={compareIdentifiers:o,rcompareIdentifiers:(e,t)=>o(t,e)}},1158:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},7095:e=>{const t=Object.freeze({loose:!0}),o=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:o},6850:(e,t,o)=>{const{MAX_SAFE_COMPONENT_LENGTH:l,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:a}=o(9630),n=o(9796),i=(t=e.exports={}).re=[],s=t.safeRe=[],c=t.src=[],u=t.t={};let d=0;const p="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",a],[p,r]],h=(e,t,o)=>{const l=(e=>{for(const[t,o]of m)e=e.split(`${t}*`).join(`${t}{0,${o}}`).split(`${t}+`).join(`${t}{1,${o}}`);return e})(t),r=d++;n(e,r,t),u[e]=r,c[r]=t,i[r]=new RegExp(t,o?"g":void 0),s[r]=new RegExp(l,o?"g":void 0)};h("NUMERICIDENTIFIER","0|[1-9]\\d*"),h("NUMERICIDENTIFIERLOOSE","\\d+"),h("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),h("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),h("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),h("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),h("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),h("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),h("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),h("BUILDIDENTIFIER",`${p}+`),h("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),h("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),h("FULL",`^${c[u.FULLPLAIN]}$`),h("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),h("LOOSE",`^${c[u.LOOSEPLAIN]}$`),h("GTLT","((?:<|>)?=?)"),h("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),h("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),h("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),h("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),h("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),h("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),h("COERCEPLAIN",`(^|[^\\d])(\\d{1,${l}})(?:\\.(\\d{1,${l}}))?(?:\\.(\\d{1,${l}}))?`),h("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),h("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?`+`(?:${c[u.BUILD]})?(?:$|[^\\d])`),h("COERCERTL",c[u.COERCE],!0),h("COERCERTLFULL",c[u.COERCEFULL],!0),h("LONETILDE","(?:~>?)"),h("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",h("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),h("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),h("LONECARET","(?:\\^)"),h("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",h("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),h("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),h("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),h("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),h("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",h("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),h("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),h("STAR","(<|>)?=?\\s*\\*"),h("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),h("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},7871:(e,t,o)=>{const l=o(5463);e.exports=(e,t,o)=>l(e,t,">",o)},1112:(e,t,o)=>{const l=o(8395);e.exports=(e,t,o)=>(e=new l(e,o),t=new l(t,o),e.intersects(t,o))},4266:(e,t,o)=>{const l=o(5463);e.exports=(e,t,o)=>l(e,t,"<",o)},7840:(e,t,o)=>{const l=o(7944),r=o(8395);e.exports=(e,t,o)=>{let a=null,n=null,i=null;try{i=new r(t,o)}catch(e){return null}return e.forEach((e=>{i.test(e)&&(a&&-1!==n.compare(e)||(a=e,n=new l(a,o)))})),a}},7930:(e,t,o)=>{const l=o(7944),r=o(8395);e.exports=(e,t,o)=>{let a=null,n=null,i=null;try{i=new r(t,o)}catch(e){return null}return e.forEach((e=>{i.test(e)&&(a&&1!==n.compare(e)||(a=e,n=new l(a,o)))})),a}},3489:(e,t,o)=>{const l=o(7944),r=o(8395),a=o(144);e.exports=(e,t)=>{e=new r(e,t);let o=new l("0.0.0");if(e.test(o))return o;if(o=new l("0.0.0-0"),e.test(o))return o;o=null;for(let t=0;t<e.set.length;++t){const r=e.set[t];let n=null;r.forEach((e=>{const t=new l(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!a(t,n)||(n=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!n||o&&!a(o,n)||(o=n)}return o&&e.test(o)?o:null}},5463:(e,t,o)=>{const l=o(7944),r=o(9524),{ANY:a}=r,n=o(8395),i=o(1722),s=o(144),c=o(599),u=o(7092),d=o(2077);e.exports=(e,t,o,p)=>{let m,h,g,f,b;switch(e=new l(e,p),t=new n(t,p),o){case">":m=s,h=u,g=c,f=">",b=">=";break;case"<":m=c,h=d,g=s,f="<",b="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i(e,t,p))return!1;for(let o=0;o<t.set.length;++o){const l=t.set[o];let n=null,i=null;if(l.forEach((e=>{e.semver===a&&(e=new r(">=0.0.0")),n=n||e,i=i||e,m(e.semver,n.semver,p)?n=e:g(e.semver,i.semver,p)&&(i=e)})),n.operator===f||n.operator===b)return!1;if((!i.operator||i.operator===f)&&h(e,i.semver))return!1;if(i.operator===b&&g(e,i.semver))return!1}return!0}},1465:(e,t,o)=>{const l=o(1722),r=o(5380);e.exports=(e,t,o)=>{const a=[];let n=null,i=null;const s=e.sort(((e,t)=>r(e,t,o)));for(const e of s)l(e,t,o)?(i=e,n||(n=e)):(i&&a.push([n,i]),i=null,n=null);n&&a.push([n,null]);const c=[];for(const[e,t]of a)e===t?c.push(e):t||e!==s[0]?t?e===s[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");const u=c.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return u.length<d.length?u:t}},9252:(e,t,o)=>{const l=o(8395),r=o(9524),{ANY:a}=r,n=o(1722),i=o(5380),s=[new r(">=0.0.0-0")],c=[new r(">=0.0.0")],u=(e,t,o)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===a){if(1===t.length&&t[0].semver===a)return!0;e=o.includePrerelease?s:c}if(1===t.length&&t[0].semver===a){if(o.includePrerelease)return!0;t=c}const l=new Set;let r,u,m,h,g,f,b;for(const t of e)">"===t.operator||">="===t.operator?r=d(r,t,o):"<"===t.operator||"<="===t.operator?u=p(u,t,o):l.add(t.semver);if(l.size>1)return null;if(r&&u){if(m=i(r.semver,u.semver,o),m>0)return null;if(0===m&&(">="!==r.operator||"<="!==u.operator))return null}for(const e of l){if(r&&!n(e,String(r),o))return null;if(u&&!n(e,String(u),o))return null;for(const l of t)if(!n(e,String(l),o))return!1;return!0}let y=!(!u||o.includePrerelease||!u.semver.prerelease.length)&&u.semver,v=!(!r||o.includePrerelease||!r.semver.prerelease.length)&&r.semver;y&&1===y.prerelease.length&&"<"===u.operator&&0===y.prerelease[0]&&(y=!1);for(const e of t){if(b=b||">"===e.operator||">="===e.operator,f=f||"<"===e.operator||"<="===e.operator,r)if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),">"===e.operator||">="===e.operator){if(h=d(r,e,o),h===e&&h!==r)return!1}else if(">="===r.operator&&!n(r.semver,String(e),o))return!1;if(u)if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),"<"===e.operator||"<="===e.operator){if(g=p(u,e,o),g===e&&g!==u)return!1}else if("<="===u.operator&&!n(u.semver,String(e),o))return!1;if(!e.operator&&(u||r)&&0!==m)return!1}return!(r&&f&&!u&&0!==m||u&&b&&!r&&0!==m||v||y)},d=(e,t,o)=>{if(!e)return t;const l=i(e.semver,t.semver,o);return l>0?e:l<0||">"===t.operator&&">="===e.operator?t:e},p=(e,t,o)=>{if(!e)return t;const l=i(e.semver,t.semver,o);return l<0?e:l>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,o={})=>{if(e===t)return!0;e=new l(e,o),t=new l(t,o);let r=!1;e:for(const l of e.set){for(const e of t.set){const t=u(l,e,o);if(r=r||null!==t,t)continue e}if(r)return!1}return!0}},651:(e,t,o)=>{const l=o(8395);e.exports=(e,t)=>new l(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},7494:(e,t,o)=>{const l=o(8395);e.exports=(e,t)=>{try{return new l(e,t).range||"*"}catch(e){return null}}},6089:e=>{"use strict";e.exports=r},7781:t=>{"use strict";t.exports=e},8531:e=>{"use strict";e.exports=n},2007:e=>{"use strict";e.exports=o},4201:e=>{"use strict";e.exports=a},3241:e=>{"use strict";e.exports=l},5959:e=>{"use strict";e.exports=t},4452:(e,t)=>{var o;!function(){"use strict";var l={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var o=arguments[t];o&&(e=n(e,a(o)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var o in e)l.call(e,o)&&e[o]&&(t=n(t,o));return t}function n(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()}},s={};function c(e){var t=s[e];if(void 0!==t)return t.exports;var o=s[e]={exports:{}};return i[e](o,o.exports,c),o.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var o in t)c.o(t,o)&&!c.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var u={};return(()=>{"use strict";c.r(u),c.d(u,{plugin:()=>Xo});var e,t=c(7781);!function(e){e.HEXAGON_POINTED_TOP="hexagon_pointed_top",e.CIRCLE="circle",e.SQUARE="square"}(e||(e={}));const o=[{value:"hexagon_pointed_top",label:"Hexagon Pointed Top"},{value:"circle",label:"Circle"},{value:"square",label:"Square"}],l=[{value:"mean",label:"Mean (avg)"},{value:"sum",label:"Sum"},{value:"min",label:"Min"},{value:"max",label:"Max"},{value:"last",label:"Last"},{value:"lastNotNull",label:"Last Not Null"},{value:"first",label:"First"},{value:"firstNotNull",label:"First Not Null"},{value:"count",label:"Count"},{value:"allIsNull",label:"All Is Null (boolean)"},{value:"allIsZero",label:"All Is Zero (boolean)"},{value:"delta",label:"Delta"},{value:"diff",label:"Difference"},{value:"diffperc",label:"Difference (Percent)"},{value:"last_time",label:"Time of Last Point"},{value:"logmin",label:"Log Min"},{value:"name",label:"Name"},{value:"nonNullCount",label:"Non Null Count"},{value:"previousDeltaUp",label:"Previous Delta Up"},{value:"range",label:"Range"},{value:"step",label:"Step"}],r=[{value:0,label:"Disabled"},{value:1,label:"Alphabetical (asc)"},{value:2,label:"Alphabetical (desc)"},{value:3,label:"Numerical (asc)"},{value:4,label:"Numerical (desc)"},{value:5,label:"Alphabetical (case-insensitive, asc)"},{value:6,label:"Alphabetical (case-insensitive, desc)"},{value:7,label:"Natural sort (asc)"},{value:8,label:"Natural sort (desc)"}],a=[{value:"name",label:"Name"},{value:"thresholdLevel",label:"Threshold Level"},{value:"value",label:"Value"}],n=[{value:"all",label:"Show All"},{value:"triggered",label:"Show Triggered"}];var i;!function(e){e.ARIAL="Arial",e.HELVETICA="Helvetica",e.HELVETICA_NEUE="Helvetica Neue",e.INTER="Inter",e.ROBOTO="Roboto",e.ROBOTO_MONO="Roboto Mono"}(i||(i={}));const s=[{value:"Arial",label:"Arial"},{value:"Helvetica",label:"Helvetica"},{value:"Helvetica Neue",label:"Helvetica Neue"},{value:"Inter",label:"Inter"},{value:"Roboto Mono",label:"Roboto Mono"}],d=[{value:"Arial",label:"Arial"},{value:"Helvetica",label:"Helvetica"},{value:"Helvetica Neue",label:"Helvetica Neue"},{value:"Roboto",label:"Roboto"},{value:"Roboto Mono",label:"Roboto Mono"}],p=[{value:"HH:mm:ss",label:"HH:mm:ss"},{value:"YYYY-MM-DD HH:mm",label:"YYYY-MM-DD HH:mm"},{value:"YYYY-MM-DD HH:mm:ss",label:"YYYY-MM-DD HH:mm:ss"},{value:"YYYY-MM-DD HH:mm:ss.SSS",label:"YYYY-MM-DD HH:mm:ss.SSS"},{value:"MM/DD/YY h:mm:ss a",label:"MM/DD/YY h:mm:ss a"},{value:"MMMM D, YYYY LT",label:"MMMM D, YYYY LT"},{value:"YYYY-MM-DD",label:"YYYY-MM-DD"}];var m;!function(e){e.BELOW_VALUE="below_value",e.ABOVE_VALUE="above_value"}(m||(m={}));const h=[{value:"above_value",label:"Above Value"},{value:"below_value",label:"Below Value"}];var g,f=c(5959),b=c.n(f),y=c(2007),v=c(3241),E=new Uint8Array(16);function w(){if(!g&&!(g="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return g(E)}const T=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var S=[],C=0;C<256;++C)S.push((C+256).toString(16).substr(1));const x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(S[e[t+0]]+S[e[t+1]]+S[e[t+2]]+S[e[t+3]]+"-"+S[e[t+4]]+S[e[t+5]]+"-"+S[e[t+6]]+S[e[t+7]]+"-"+S[e[t+8]]+S[e[t+9]]+"-"+S[e[t+10]]+S[e[t+11]]+S[e[t+12]]+S[e[t+13]]+S[e[t+14]]+S[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&T.test(e)}(o))throw TypeError("Stringified UUID is invalid");return o},N=function(e,t,o){var l=(e=e||{}).random||(e.rng||w)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,t){o=o||0;for(var r=0;r<16;++r)t[o+r]=l[r];return t}return x(l)};var O=c(6089);const R=[{value:0,label:"ok"},{value:1,label:"warning"},{value:2,label:"critical"},{value:3,label:"custom"}],F=e=>{const t=(0,y.useStyles2)(k),[o,l]=(0,f.useState)((e=>{const t=R.keys();for(const o of t)if(R[o].value===e)return R[o];return R[0]})(e.threshold.state));return b().createElement(y.Input,{disabled:e.disabled,type:"number",step:"1.0",key:e.ID,onChange:t=>e.valueSetter(e.index,Number(t.currentTarget.value)),value:e.threshold.value,prefix:b().createElement("div",{className:t.inputPrefix},b().createElement("div",{className:t.colorPicker},b().createElement(y.ColorPicker,{color:e.threshold.color,onChange:t=>e.colorSetter(e.index,t),enableNamedColors:!0}))),suffix:b().createElement(b().Fragment,null,b().createElement(y.Select,{disabled:e.disabled,menuShouldPortal:!0,value:o,onChange:t=>{l(t),e.stateSetter(e.index,t.value)},options:R}),b().createElement(y.IconButton,{disabled:e.disabled,key:"deleteThreshold",variant:"destructive",name:"trash-alt",tooltip:"Delete Threshold",onClick:()=>e.remover(e.index)}))})},k=e=>({inputPrefix:O.css`
      display: flex;
      align-items: center;
    `,colorPicker:O.css`
      padding: 0 ${e.spacing(1)};
    `});function A(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class I{asHex(){return"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1)}asRGB(){return"rgb("+this.r+","+this.g+","+this.b+")"}blendWith(e,t){const o=Math.round(e.r*(1-t)+this.r*t),l=Math.round(e.g*(1-t)+this.g*t),r=Math.round(e.b*(1-t)+this.b*t);return new I(o,l,r)}Mul(e,t){const o=Math.round(e.r/255*this.r*t),l=Math.round(e.g/255*this.g*t),r=Math.round(e.b/255*this.b*t);return new I(o,l,r)}RGBToHex(e){let t=e.indexOf(",")>-1?",":" ";e=e.substr(4).split(")")[0].split(t);for(let t in e){let o=e[t];o.indexOf("%")>-1&&(e[t]=Math.round(o.substr(0,o.length-1)/100*255))}}static RGBAToHex(e){const t=e.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i),o=(t&&t[4]||"").trim();let l=t?(256|parseInt(t[1],10)).toString(16).slice(1)+(256|parseInt(t[2],10)).toString(16).slice(1)+(256|parseInt(t[3],10)).toString(16).slice(1):e,r="1";return""!==o&&(r=(255*parseFloat(o)|256).toString(16).slice(1)),"#"+l+r}fromHex(e){e=e.substring(1,7);const t=parseInt(e,16);this.r=t>>16&255,this.g=t>>8&255,this.b=255&t}constructor(e,t,o){A(this,"r",void 0),A(this,"g",void 0),A(this,"b",void 0),this.r=e,this.g=t,this.b=o}}const L="rgba(10, 85, 161, 1)",D=(new I(10,85,161),"#299c46"),$=new I(41,156,70),P="#ed8128",_=new I(237,129,40),M="#f53636",V=new I(245,54,54),z=(new I(64,64,160),i.INTER),j=i.INTER,U=i.ROBOTO,B=i.ROBOTO,H=e=>{const[o,l]=(0,f.useState)((()=>{if(!e.thresholds)return[];const t=[];return e.thresholds.forEach(((e,o)=>{t[o]={threshold:e,order:o,ID:N()}})),t})),r=(0,y.useTheme2)(),a=(0,y.useTheme)(),n=t=>{l(t);const o=[];t.forEach((e=>{o.push(e.threshold)})),e.setter(o)},i=(e,t)=>{o[e].threshold.value=Number(t);const l=[...o],r=(0,v.orderBy)(l,["threshold.value"],["asc"]);n([...r])},s=(e,l)=>{let i;i=void 0!==r.visualization?r.visualization.getColorByName(l):(0,t.getColorForTheme)(l,a),o[e].threshold.color=i,n([...o])},c=(e,t)=>{o[e].threshold.state=t,t<3&&(o[e].threshold.color=u(t)),n([...o])},u=e=>{switch(e){case 0:default:return D;case 1:return P;case 2:return M}},d=e=>{const t=[...o];let l=0;for(let o=0;o<t.length;o++)if(t[o].order===e){l=o;break}t.splice(l,1);for(let e=0;e<t.length;e++)t[e].order=e;n([...t])};return b().createElement(b().Fragment,null,b().createElement(y.Button,{disabled:e.disabled,fill:"solid",variant:"primary",icon:"plus",onClick:()=>{const e=o.length,t={threshold:{color:D,state:0,value:0},order:e,ID:N()};n([...o,t])}},"Add Threshold"),o&&o.map(((t,o)=>b().createElement(F,{disabled:e.disabled||!1,key:`threshold-item-index-${t.ID}`,ID:t.ID,threshold:t.threshold,valueSetter:i,colorSetter:s,stateSetter:c,remover:d,index:o}))))},G=e=>{let o=new Set;for(let n=0;n<e.length;n++){var l;let i="";(null===(l=e[n])||void 0===l?void 0:l.name)&&(i=e[n].name);for(const l of e[n].fields)if(l.type===t.FieldType.number){var r,a;if(l.name&&""===i&&(i=l.name),(null==l?void 0:l.labels)&&"__name__"in l.labels){i=l.labels.__name__;const e=[];for(const t in l.labels)"__name__"!==t&&e.push(`${t}="${l.labels[t]}"`);e.length>0&&(e.sort(),i+="{"+e.join("")+"}")}(null==l?void 0:l.config)&&(null===(r=l.config)||void 0===r?void 0:r.displayNameFromDS)&&(i=null===(a=l.config)||void 0===a?void 0:a.displayNameFromDS),o.add(i)}}return o};function Y(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function X(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},l=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),l.forEach((function(t){Y(e,t,o[t])}))}return e}function W(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);o.push.apply(o,l)}return o}(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})),e}const q=e=>{const[t,o]=(0,f.useState)([]),[r,a]=(0,f.useState)(e.override),n=t=>{a(t),e.setter(r.order,t)},[i]=(0,f.useState)("eye"),[s]=(0,f.useState)("eye-slash"),[c,u]=(0,f.useState)((e=>{const t=l.keys();for(const o of t)if(l[o].value===e)return l[o];return l[5]})(e.override.operatorName));return(0,f.useEffect)((()=>{if(e.context.data){const t=e.context.data;let l=[],r=G(t);for(const e of r)l.push({label:e,value:e});o(l)}}),[e.context.data]),b().createElement(y.Card,{key:`override-card-${e.ID}`},b().createElement(y.Card.Meta,null,b().createElement(y.FieldSet,null,b().createElement(y.Field,{label:"Label",description:"Sets the name of the override in the configuration editor.",disabled:!r.enabled},b().createElement(y.Input,{value:r.label,placeholder:"",onChange:e=>n(W(X({},r),{label:e.currentTarget.value}))})),b().createElement(y.Field,{label:"Metric/RegEx",disabled:!r.enabled},b().createElement(y.Cascader,{initialValue:r.metricName,allowCustomValue:!0,placeholder:"",options:t,onSelect:e=>n(W(X({},r),{metricName:e}))})),b().createElement(y.Field,{label:"Alias",disabled:!r.enabled,hidden:!0},b().createElement(y.Input,{value:r.alias,placeholder:"",onChange:e=>n(W(X({},r),{alias:e.currentTarget.value}))})),b().createElement(y.Field,{label:"Decimals",disabled:!r.enabled},b().createElement(y.Input,{value:r.decimals,type:"number",step:1,placeholder:"",onChange:e=>n(W(X({},r),{decimals:e.currentTarget.value}))})),b().createElement(y.Field,{label:"Stat",description:"The statistic to be displayed",disabled:!r.enabled},b().createElement(y.Select,{menuShouldPortal:!0,value:c,onChange:e=>{u(e),n(W(X({},r),{operatorName:e.value}))},options:l})),b().createElement(y.Field,{label:"Unit Format",disabled:!r.enabled},r.enabled?b().createElement(y.UnitPicker,{value:r.unitFormat,onChange:e=>n(W(X({},r),{unitFormat:e}))}):b().createElement("span",null,r.unitFormat)),b().createElement(y.Field,{label:"Thresholds",disabled:!r.enabled},b().createElement(H,{disabled:!r.enabled,thresholds:r.thresholds,setter:e=>{n(W(X({},r),{thresholds:e}))}})),b().createElement(y.Field,{label:"Prefix",description:"Apply text to beginning of metric",disabled:!r.enabled},b().createElement(y.Input,{value:r.prefix,placeholder:"",onChange:e=>n(W(X({},r),{prefix:e.currentTarget.value}))})),b().createElement(y.Field,{label:"Suffix",description:"Apply text to end of metric",disabled:!r.enabled},b().createElement(y.Input,{value:r.suffix,placeholder:"",onChange:e=>n(W(X({},r),{suffix:e.currentTarget.value}))})),b().createElement(y.Field,{label:"Clickthrough URL",description:"URL to Open on Click",disabled:!r.enabled},b().createElement(y.Input,{value:r.clickThrough,placeholder:"https://",onChange:e=>n(W(X({},r),{clickThrough:e.currentTarget.value}))})),b().createElement(y.Field,{label:"Sanitize URL",description:"Sanitize URL before evaluating",disabled:!r.enabled},b().createElement(y.Switch,{transparent:!1,disabled:!r.enabled,value:r.clickThroughSanitize,onChange:()=>n(W(X({},r),{clickThroughSanitize:!r.clickThroughSanitize}))})),b().createElement(y.Field,{label:"Open URL in New Tab",description:"Open link in new tab",disabled:!r.enabled},b().createElement(y.Switch,{transparent:!1,value:r.clickThroughOpenNewTab,disabled:!r.enabled,onChange:()=>n(W(X({},r),{clickThroughOpenNewTab:!r.clickThroughOpenNewTab}))})),b().createElement(y.Field,{label:"Enable Custom URL Target",description:"Enable custom target",disabled:!r.enabled,hidden:r.clickThroughOpenNewTab},b().createElement(y.Switch,{transparent:!1,value:r.clickThroughCustomTargetEnabled,disabled:!r.enabled,onChange:()=>n(W(X({},r),{clickThroughCustomTargetEnabled:!r.clickThroughCustomTargetEnabled,clickThroughCustomTarget:r.clickThroughCustomTarget||""}))})),b().createElement(y.Field,{label:"Custom URL Target",description:"Specify a custom target, typical values are: _blank|_self|_parent|_top|framename",disabled:!r.enabled,hidden:!r.clickThroughCustomTargetEnabled},b().createElement(y.Input,{value:r.clickThroughCustomTarget,placeholder:"_self",disabled:!r.enabled,onChange:e=>n(W(X({},r),{clickThroughCustomTarget:e.currentTarget.value}))})))),b().createElement(y.Card.Actions,null,b().createElement(y.IconButton,{key:"moveUp",name:"arrow-up",tooltip:"Move Up",onClick:()=>{e.moveUp(r.order)}}),b().createElement(y.IconButton,{key:"moveDown",name:"arrow-down",tooltip:"Move Down",onClick:()=>{e.moveDown(r.order)}}),b().createElement(y.IconButton,{key:"overrideEnabled",name:r.enabled?i:s,tooltip:"Hide/Show Override",onClick:()=>n(W(X({},r),{enabled:!r.enabled}))}),b().createElement(y.IconButton,{key:"copyOverride",name:"copy",tooltip:"Duplicate",onClick:()=>{e.createDuplicate(r.order)}}),b().createElement(y.IconButton,{key:"deleteOverride",variant:"destructive",name:"trash-alt",tooltip:"Delete Override",onClick:()=>{e.remover(r.order)}})))},Q=({item:e,context:t,onChange:o})=>{const[r]=(0,f.useState)(t.options.overrideConfig),[a,n]=(0,f.useState)((()=>{if(!r.overrides)return[];const e=[];return r.overrides.forEach(((t,o)=>{e[o]={override:t,order:o,ID:N()}})),e})),i=e=>{n(e);const t=[];e.forEach((e=>{t.push(e.override)}));const l={overrides:t,enabled:r.enabled};o(l)},[s,c]=(0,f.useState)((()=>{if(!a)return[];let e=a.length;const t=[];for(;e--;)t[e]=!1;return t})),u=(e,t)=>{a[e].override=t,i([...a])},d=e=>{const t=a[e].override,o=a.length,l={override:{label:`${t.label} Copy`,enabled:t.enabled,metricName:t.metricName,alias:t.alias,thresholds:t.thresholds,prefix:t.prefix,suffix:t.suffix,clickThrough:t.clickThrough,clickThroughOpenNewTab:t.clickThroughOpenNewTab,clickThroughSanitize:t.clickThroughSanitize,clickThroughCustomTargetEnabled:t.clickThroughCustomTargetEnabled,clickThroughCustomTarget:t.clickThroughCustomTarget,showTimestampEnabled:!1,showTimestampFormat:p[0].value,showTimestampYOffset:0,unitFormat:t.unitFormat,scaledDecimals:t.scaledDecimals,decimals:t.decimals,colors:t.colors,operatorName:t.operatorName,order:o},order:o,ID:N()};i([...a,l]),c([...s,!0])},m=(e,t,o)=>{if(o>=e.length){let t=o-e.length+1;for(;t--;)e.push(void 0)}e.splice(o,0,e.splice(t,1)[0])},h=e=>{if(e!==a.length-1){m(a,e,e+1);for(let e=0;e<a.length;e++)a[e].order=e,a[e].override.order=e;i([...a])}},g=e=>{if(e>0){m(a,e,e-1);for(let e=0;e<a.length;e++)a[e].order=e,a[e].override.order=e;i([...a])}},v=e=>{const t=[...a];let o=0;for(let l=0;l<t.length;l++)if(t[l].order===e){o=l;break}t.splice(o,1);for(let e=0;e<t.length;e++)t[e].order=e,t[e].override.order=e;i([...t])};return b().createElement(b().Fragment,null,b().createElement(y.Button,{fill:"solid",variant:"primary",icon:"plus",onClick:()=>{const e=a.length,t={override:{label:`Override-${e}`,enabled:!0,metricName:"",alias:"",thresholds:[],prefix:"",suffix:"",clickThrough:"",clickThroughOpenNewTab:!0,clickThroughSanitize:!0,clickThroughCustomTargetEnabled:!1,clickThroughCustomTarget:"",showTimestampEnabled:!1,showTimestampFormat:p[0].value,showTimestampYOffset:0,unitFormat:"short",scaledDecimals:null,decimals:"2",colors:[D,P,M,"#0a55a1"],operatorName:l[0].value,order:e},order:e,ID:N()};i([...a,t]),c([...s,!0])}},"Add Override"),a&&a.map(((e,o)=>b().createElement(y.Collapse,{key:`collapse-item-index-${e.ID}`,label:e.override.label,isOpen:s[o],onToggle:()=>(e=>{const t=[...s];t[e]=!t[e],c([...t])})(o),collapsible:!0},b().createElement(q,{key:`override-item-index-${e.ID}`,ID:e.ID,override:e.override,enabled:e.override.enabled,setter:u,remover:v,moveDown:h,moveUp:g,createDuplicate:d,context:t})))))};var K=c(4201),J=Math.PI/3,Z=[0,J,2*J,3*J,4*J,5*J];function ee(e){return e[0]}function te(e){return e[1]}const oe=Math.min,le=Math.max,re=Math.round,ae=Math.floor,ne=e=>({x:e,y:e}),ie={left:"right",right:"left",bottom:"top",top:"bottom"},se={start:"end",end:"start"};function ce(e,t,o){return le(e,oe(t,o))}function ue(e,t){return"function"==typeof e?e(t):e}function de(e){return e.split("-")[0]}function pe(e){return e.split("-")[1]}function me(e){return"x"===e?"y":"x"}function he(e){return"y"===e?"height":"width"}function ge(e){return["top","bottom"].includes(de(e))?"y":"x"}function fe(e){return me(ge(e))}function be(e){return e.replace(/start|end/g,(e=>se[e]))}function ye(e){return e.replace(/left|right|bottom|top/g,(e=>ie[e]))}function ve(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function Ee(e){const{x:t,y:o,width:l,height:r}=e;return{width:l,height:r,top:o,left:t,right:t+l,bottom:o+r,x:t,y:o}}function we(e,t,o){let{reference:l,floating:r}=e;const a=ge(t),n=fe(t),i=he(n),s=de(t),c="y"===a,u=l.x+l.width/2-r.width/2,d=l.y+l.height/2-r.height/2,p=l[i]/2-r[i]/2;let m;switch(s){case"top":m={x:u,y:l.y-r.height};break;case"bottom":m={x:u,y:l.y+l.height};break;case"right":m={x:l.x+l.width,y:d};break;case"left":m={x:l.x-r.width,y:d};break;default:m={x:l.x,y:l.y}}switch(pe(t)){case"start":m[n]-=p*(o&&c?-1:1);break;case"end":m[n]+=p*(o&&c?-1:1)}return m}async function Te(e,t){var o;void 0===t&&(t={});const{x:l,y:r,platform:a,rects:n,elements:i,strategy:s}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:m=0}=ue(t,e),h=ve(m),g=i[p?"floating"===d?"reference":"floating":d],f=Ee(await a.getClippingRect({element:null==(o=await(null==a.isElement?void 0:a.isElement(g)))||o?g:g.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(i.floating)),boundary:c,rootBoundary:u,strategy:s})),b="floating"===d?{x:l,y:r,width:n.floating.width,height:n.floating.height}:n.reference,y=await(null==a.getOffsetParent?void 0:a.getOffsetParent(i.floating)),v=await(null==a.isElement?void 0:a.isElement(y))&&await(null==a.getScale?void 0:a.getScale(y))||{x:1,y:1},E=Ee(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:b,offsetParent:y,strategy:s}):b);return{top:(f.top-E.top+h.top)/v.y,bottom:(E.bottom-f.bottom+h.bottom)/v.y,left:(f.left-E.left+h.left)/v.x,right:(E.right-f.right+h.right)/v.x}}function Se(e){return Ne(e)?(e.nodeName||"").toLowerCase():"#document"}function Ce(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function xe(e){var t;return null==(t=(Ne(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Ne(e){return e instanceof Node||e instanceof Ce(e).Node}function Oe(e){return e instanceof Element||e instanceof Ce(e).Element}function Re(e){return e instanceof HTMLElement||e instanceof Ce(e).HTMLElement}function Fe(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof Ce(e).ShadowRoot)}function ke(e){const{overflow:t,overflowX:o,overflowY:l,display:r}=$e(e);return/auto|scroll|overlay|hidden|clip/.test(t+l+o)&&!["inline","contents"].includes(r)}function Ae(e){return["table","td","th"].includes(Se(e))}function Ie(e){const t=Le(),o=$e(e);return"none"!==o.transform||"none"!==o.perspective||!!o.containerType&&"normal"!==o.containerType||!t&&!!o.backdropFilter&&"none"!==o.backdropFilter||!t&&!!o.filter&&"none"!==o.filter||["transform","perspective","filter"].some((e=>(o.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(o.contain||"").includes(e)))}function Le(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function De(e){return["html","body","#document"].includes(Se(e))}function $e(e){return Ce(e).getComputedStyle(e)}function Pe(e){return Oe(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function _e(e){if("html"===Se(e))return e;const t=e.assignedSlot||e.parentNode||Fe(e)&&e.host||xe(e);return Fe(t)?t.host:t}function Me(e){const t=_e(e);return De(t)?e.ownerDocument?e.ownerDocument.body:e.body:Re(t)&&ke(t)?t:Me(t)}function Ve(e,t,o){var l;void 0===t&&(t=[]),void 0===o&&(o=!0);const r=Me(e),a=r===(null==(l=e.ownerDocument)?void 0:l.body),n=Ce(r);return a?t.concat(n,n.visualViewport||[],ke(r)?r:[],n.frameElement&&o?Ve(n.frameElement):[]):t.concat(r,Ve(r,[],o))}function ze(e){const t=$e(e);let o=parseFloat(t.width)||0,l=parseFloat(t.height)||0;const r=Re(e),a=r?e.offsetWidth:o,n=r?e.offsetHeight:l,i=re(o)!==a||re(l)!==n;return i&&(o=a,l=n),{width:o,height:l,$:i}}function je(e){return Oe(e)?e:e.contextElement}function Ue(e){const t=je(e);if(!Re(t))return ne(1);const o=t.getBoundingClientRect(),{width:l,height:r,$:a}=ze(t);let n=(a?re(o.width):o.width)/l,i=(a?re(o.height):o.height)/r;return n&&Number.isFinite(n)||(n=1),i&&Number.isFinite(i)||(i=1),{x:n,y:i}}const Be=ne(0);function He(e){const t=Ce(e);return Le()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Be}function Ge(e,t,o,l){void 0===t&&(t=!1),void 0===o&&(o=!1);const r=e.getBoundingClientRect(),a=je(e);let n=ne(1);t&&(l?Oe(l)&&(n=Ue(l)):n=Ue(e));const i=function(e,t,o){return void 0===t&&(t=!1),!(!o||t&&o!==Ce(e))&&t}(a,o,l)?He(a):ne(0);let s=(r.left+i.x)/n.x,c=(r.top+i.y)/n.y,u=r.width/n.x,d=r.height/n.y;if(a){const e=Ce(a),t=l&&Oe(l)?Ce(l):l;let o=e,r=o.frameElement;for(;r&&l&&t!==o;){const e=Ue(r),t=r.getBoundingClientRect(),l=$e(r),a=t.left+(r.clientLeft+parseFloat(l.paddingLeft))*e.x,n=t.top+(r.clientTop+parseFloat(l.paddingTop))*e.y;s*=e.x,c*=e.y,u*=e.x,d*=e.y,s+=a,c+=n,o=Ce(r),r=o.frameElement}}return Ee({width:u,height:d,x:s,y:c})}const Ye=[":popover-open",":modal"];function Xe(e){return Ye.some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function We(e){return Ge(xe(e)).left+Pe(e).scrollLeft}function qe(e,t,o){let l;if("viewport"===t)l=function(e,t){const o=Ce(e),l=xe(e),r=o.visualViewport;let a=l.clientWidth,n=l.clientHeight,i=0,s=0;if(r){a=r.width,n=r.height;const e=Le();(!e||e&&"fixed"===t)&&(i=r.offsetLeft,s=r.offsetTop)}return{width:a,height:n,x:i,y:s}}(e,o);else if("document"===t)l=function(e){const t=xe(e),o=Pe(e),l=e.ownerDocument.body,r=le(t.scrollWidth,t.clientWidth,l.scrollWidth,l.clientWidth),a=le(t.scrollHeight,t.clientHeight,l.scrollHeight,l.clientHeight);let n=-o.scrollLeft+We(e);const i=-o.scrollTop;return"rtl"===$e(l).direction&&(n+=le(t.clientWidth,l.clientWidth)-r),{width:r,height:a,x:n,y:i}}(xe(e));else if(Oe(t))l=function(e,t){const o=Ge(e,!0,"fixed"===t),l=o.top+e.clientTop,r=o.left+e.clientLeft,a=Re(e)?Ue(e):ne(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:r*a.x,y:l*a.y}}(t,o);else{const o=He(e);l={...t,x:t.x-o.x,y:t.y-o.y}}return Ee(l)}function Qe(e,t){const o=_e(e);return!(o===t||!Oe(o)||De(o))&&("fixed"===$e(o).position||Qe(o,t))}function Ke(e,t,o){const l=Re(t),r=xe(t),a="fixed"===o,n=Ge(e,!0,a,t);let i={scrollLeft:0,scrollTop:0};const s=ne(0);if(l||!l&&!a)if(("body"!==Se(t)||ke(r))&&(i=Pe(t)),l){const e=Ge(t,!0,a,t);s.x=e.x+t.clientLeft,s.y=e.y+t.clientTop}else r&&(s.x=We(r));return{x:n.left+i.scrollLeft-s.x,y:n.top+i.scrollTop-s.y,width:n.width,height:n.height}}function Je(e){return"static"===$e(e).position}function Ze(e,t){return Re(e)&&"fixed"!==$e(e).position?t?t(e):e.offsetParent:null}function et(e,t){const o=Ce(e);if(Xe(e))return o;if(!Re(e)){let t=_e(e);for(;t&&!De(t);){if(Oe(t)&&!Je(t))return t;t=_e(t)}return o}let l=Ze(e,t);for(;l&&Ae(l)&&Je(l);)l=Ze(l,t);return l&&De(l)&&Je(l)&&!Ie(l)?o:l||function(e){let t=_e(e);for(;Re(t)&&!De(t);){if(Ie(t))return t;t=_e(t)}return null}(e)||o}const tt={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:o,offsetParent:l,strategy:r}=e;const a="fixed"===r,n=xe(l),i=!!t&&Xe(t.floating);if(l===n||i&&a)return o;let s={scrollLeft:0,scrollTop:0},c=ne(1);const u=ne(0),d=Re(l);if((d||!d&&!a)&&(("body"!==Se(l)||ke(n))&&(s=Pe(l)),Re(l))){const e=Ge(l);c=Ue(l),u.x=e.x+l.clientLeft,u.y=e.y+l.clientTop}return{width:o.width*c.x,height:o.height*c.y,x:o.x*c.x-s.scrollLeft*c.x+u.x,y:o.y*c.y-s.scrollTop*c.y+u.y}},getDocumentElement:xe,getClippingRect:function(e){let{element:t,boundary:o,rootBoundary:l,strategy:r}=e;const a=[..."clippingAncestors"===o?Xe(t)?[]:function(e,t){const o=t.get(e);if(o)return o;let l=Ve(e,[],!1).filter((e=>Oe(e)&&"body"!==Se(e))),r=null;const a="fixed"===$e(e).position;let n=a?_e(e):e;for(;Oe(n)&&!De(n);){const t=$e(n),o=Ie(n);o||"fixed"!==t.position||(r=null),(a?!o&&!r:!o&&"static"===t.position&&r&&["absolute","fixed"].includes(r.position)||ke(n)&&!o&&Qe(e,n))?l=l.filter((e=>e!==n)):r=t,n=_e(n)}return t.set(e,l),l}(t,this._c):[].concat(o),l],n=a[0],i=a.reduce(((e,o)=>{const l=qe(t,o,r);return e.top=le(l.top,e.top),e.right=oe(l.right,e.right),e.bottom=oe(l.bottom,e.bottom),e.left=le(l.left,e.left),e}),qe(t,n,r));return{width:i.right-i.left,height:i.bottom-i.top,x:i.left,y:i.top}},getOffsetParent:et,getElementRects:async function(e){const t=this.getOffsetParent||et,o=this.getDimensions,l=await o(e.floating);return{reference:Ke(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:l.width,height:l.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:o}=ze(e);return{width:t,height:o}},getScale:Ue,isElement:Oe,isRTL:function(e){return"rtl"===$e(e).direction}};const ot=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var o,l;const{x:r,y:a,placement:n,middlewareData:i}=t,s=await async function(e,t){const{placement:o,platform:l,elements:r}=e,a=await(null==l.isRTL?void 0:l.isRTL(r.floating)),n=de(o),i=pe(o),s="y"===ge(o),c=["left","top"].includes(n)?-1:1,u=a&&s?-1:1,d=ue(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:h}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return i&&"number"==typeof h&&(m="end"===i?-1*h:h),s?{x:m*u,y:p*c}:{x:p*c,y:m*u}}(t,e);return n===(null==(o=i.offset)?void 0:o.placement)&&null!=(l=i.arrow)&&l.alignmentOffset?{}:{x:r+s.x,y:a+s.y,data:{...s,placement:n}}}}},lt=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:o,y:l,placement:r}=t,{mainAxis:a=!0,crossAxis:n=!1,limiter:i={fn:e=>{let{x:t,y:o}=e;return{x:t,y:o}}},...s}=ue(e,t),c={x:o,y:l},u=await Te(t,s),d=ge(de(r)),p=me(d);let m=c[p],h=c[d];if(a){const e="y"===p?"bottom":"right";m=ce(m+u["y"===p?"top":"left"],m,m-u[e])}if(n){const e="y"===d?"bottom":"right";h=ce(h+u["y"===d?"top":"left"],h,h-u[e])}const g=i.fn({...t,[p]:m,[d]:h});return{...g,data:{x:g.x-o,y:g.y-l}}}}},rt=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var o,l;const{placement:r,middlewareData:a,rects:n,initialPlacement:i,platform:s,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:g=!0,...f}=ue(e,t);if(null!=(o=a.arrow)&&o.alignmentOffset)return{};const b=de(r),y=de(i)===i,v=await(null==s.isRTL?void 0:s.isRTL(c.floating)),E=p||(y||!g?[ye(i)]:function(e){const t=ye(e);return[be(e),t,be(t)]}(i));p||"none"===h||E.push(...function(e,t,o,l){const r=pe(e);let a=function(e,t,o){const l=["left","right"],r=["right","left"],a=["top","bottom"],n=["bottom","top"];switch(e){case"top":case"bottom":return o?t?r:l:t?l:r;case"left":case"right":return t?a:n;default:return[]}}(de(e),"start"===o,l);return r&&(a=a.map((e=>e+"-"+r)),t&&(a=a.concat(a.map(be)))),a}(i,g,h,v));const w=[i,...E],T=await Te(t,f),S=[];let C=(null==(l=a.flip)?void 0:l.overflows)||[];if(u&&S.push(T[b]),d){const e=function(e,t,o){void 0===o&&(o=!1);const l=pe(e),r=fe(e),a=he(r);let n="x"===r?l===(o?"end":"start")?"right":"left":"start"===l?"bottom":"top";return t.reference[a]>t.floating[a]&&(n=ye(n)),[n,ye(n)]}(r,n,v);S.push(T[e[0]],T[e[1]])}if(C=[...C,{placement:r,overflows:S}],!S.every((e=>e<=0))){var x,N;const e=((null==(x=a.flip)?void 0:x.index)||0)+1,t=w[e];if(t)return{data:{index:e,overflows:C},reset:{placement:t}};let o=null==(N=C.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:N.placement;if(!o)switch(m){case"bestFit":{var O;const e=null==(O=C.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:O[0];e&&(o=e);break}case"initialPlacement":o=i}if(r!==o)return{reset:{placement:o}}}return{}}}},at=(e,t,o)=>{const l=new Map,r={platform:tt,...o},a={...r.platform,_c:l};return(async(e,t,o)=>{const{placement:l="bottom",strategy:r="absolute",middleware:a=[],platform:n}=o,i=a.filter(Boolean),s=await(null==n.isRTL?void 0:n.isRTL(t));let c=await n.getElementRects({reference:e,floating:t,strategy:r}),{x:u,y:d}=we(c,l,s),p=l,m={},h=0;for(let o=0;o<i.length;o++){const{name:a,fn:g}=i[o],{x:f,y:b,data:y,reset:v}=await g({x:u,y:d,initialPlacement:l,placement:p,strategy:r,middlewareData:m,rects:c,platform:n,elements:{reference:e,floating:t}});u=null!=f?f:u,d=null!=b?b:d,m={...m,[a]:{...m[a],...y}},v&&h<=50&&(h++,"object"==typeof v&&(v.placement&&(p=v.placement),v.rects&&(c=!0===v.rects?await n.getElementRects({reference:e,floating:t,strategy:r}):v.rects),({x:u,y:d}=we(c,p,s))),o=-1)}return{x:u,y:d,placement:p,strategy:r,middlewareData:m}})(e,t,{...r,platform:a})};var nt=c(4452);const it={core:!1,base:!1};function st({css:e,id:t="react-tooltip-base-styles",type:o="base",ref:l}){var r,a;if(!e||"undefined"==typeof document||it[o])return;if("core"===o&&"undefined"!=typeof process&&(null===(r=null===process||void 0===process?void 0:process.env)||void 0===r?void 0:r.REACT_TOOLTIP_DISABLE_CORE_STYLES))return;if("base"!==o&&"undefined"!=typeof process&&(null===(a=null===process||void 0===process?void 0:process.env)||void 0===a?void 0:a.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;"core"===o&&(t="react-tooltip-core-styles"),l||(l={});const{insertAt:n}=l;if(document.getElementById(t))return void console.warn(`[react-tooltip] Element with id '${t}' already exists. Call \`removeStyle()\` first`);const i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.id=t,s.type="text/css","top"===n&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e)),it[o]=!0}const ct=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:o=null,place:l="top",offset:r=10,strategy:a="absolute",middlewares:n=[ot(Number(r)),rt({fallbackAxisSideDirection:"start"}),lt({padding:5})],border:i})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:l};if(null===t)return{tooltipStyles:{},tooltipArrowStyles:{},place:l};const s=n;return o?(s.push({name:"arrow",options:c={element:o,padding:5},async fn(e){const{x:t,y:o,placement:l,rects:r,platform:a,elements:n,middlewareData:i}=e,{element:s,padding:u=0}=ue(c,e)||{};if(null==s)return{};const d=ve(u),p={x:t,y:o},m=fe(l),h=he(m),g=await a.getDimensions(s),f="y"===m,b=f?"top":"left",y=f?"bottom":"right",v=f?"clientHeight":"clientWidth",E=r.reference[h]+r.reference[m]-p[m]-r.floating[h],w=p[m]-r.reference[m],T=await(null==a.getOffsetParent?void 0:a.getOffsetParent(s));let S=T?T[v]:0;S&&await(null==a.isElement?void 0:a.isElement(T))||(S=n.floating[v]||r.floating[h]);const C=E/2-w/2,x=S/2-g[h]/2-1,N=oe(d[b],x),O=oe(d[y],x),R=N,F=S-g[h]-O,k=S/2-g[h]/2+C,A=ce(R,k,F),I=!i.arrow&&null!=pe(l)&&k!==A&&r.reference[h]/2-(k<R?N:O)-g[h]/2<0,L=I?k<R?k-R:k-F:0;return{[m]:p[m]+L,data:{[m]:A,centerOffset:k-A-L,...I&&{alignmentOffset:L}},reset:I}}}),at(e,t,{placement:l,strategy:a,middleware:s}).then((({x:e,y:t,placement:o,middlewareData:l})=>{var r,a;const n={left:`${e}px`,top:`${t}px`,border:i},{x:s,y:c}=null!==(r=l.arrow)&&void 0!==r?r:{x:0,y:0},u=null!==(a={top:"bottom",right:"left",bottom:"top",left:"right"}[o.split("-")[0]])&&void 0!==a?a:"bottom",d=i&&{borderBottom:i,borderRight:i};let p=0;if(i){const e=`${i}`.match(/(\d+)px/);p=(null==e?void 0:e[1])?Number(e[1]):1}return{tooltipStyles:n,tooltipArrowStyles:{left:null!=s?`${s}px`:"",top:null!=c?`${c}px`:"",right:"",bottom:"",...d,[u]:`-${4+p}px`},place:o}}))):at(e,t,{placement:"bottom",strategy:a,middleware:s}).then((({x:e,y:t,placement:o})=>({tooltipStyles:{left:`${e}px`,top:`${t}px`},tooltipArrowStyles:{},place:o})));var c},ut=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),dt=(e,t,o)=>{let l=null;const r=function(...r){const a=()=>{l=null,o||e.apply(this,r)};o&&!l&&(e.apply(this,r),l=setTimeout(a,t)),o||(l&&clearTimeout(l),l=setTimeout(a,t))};return r.cancel=()=>{l&&(clearTimeout(l),l=null)},r},pt=e=>null!==e&&!Array.isArray(e)&&"object"==typeof e,mt=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every(((e,o)=>mt(e,t[o])));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!pt(e)||!pt(t))return e===t;const o=Object.keys(e),l=Object.keys(t);return o.length===l.length&&o.every((o=>mt(e[o],t[o])))},ht=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some((e=>{const o=t.getPropertyValue(e);return"auto"===o||"scroll"===o}))},gt=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(ht(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},ft="undefined"!=typeof window?f.useLayoutEffect:f.useEffect,bt={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},yt=(0,f.createContext)({getTooltipData:()=>bt});function vt(e="DEFAULT_TOOLTIP_ID"){return(0,f.useContext)(yt).getTooltipData(e)}var Et={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},wt={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const Tt=({forwardRef:e,id:t,className:o,classNameArrow:l,variant:r="dark",anchorId:a,anchorSelect:n,place:i="top",offset:s=10,events:c=["hover"],openOnClick:u=!1,positionStrategy:d="absolute",middlewares:p,wrapper:m,delayShow:h=0,delayHide:g=0,float:b=!1,hidden:y=!1,noArrow:v=!1,clickable:E=!1,closeOnEsc:w=!1,closeOnScroll:T=!1,closeOnResize:S=!1,openEvents:C,closeEvents:x,globalCloseEvents:N,imperativeModeOnly:O,style:R,position:F,afterShow:k,afterHide:A,content:I,contentWrapperRef:L,isOpen:D,defaultIsOpen:$=!1,setIsOpen:P,activeAnchor:_,setActiveAnchor:M,border:V,opacity:z,arrowColor:j,role:U="tooltip"})=>{var B;const H=(0,f.useRef)(null),G=(0,f.useRef)(null),Y=(0,f.useRef)(null),X=(0,f.useRef)(null),W=(0,f.useRef)(null),[q,Q]=(0,f.useState)({tooltipStyles:{},tooltipArrowStyles:{},place:i}),[K,J]=(0,f.useState)(!1),[Z,ee]=(0,f.useState)(!1),[te,re]=(0,f.useState)(null),ne=(0,f.useRef)(!1),ie=(0,f.useRef)(null),{anchorRefs:se,setActiveAnchor:ce}=vt(t),ue=(0,f.useRef)(!1),[de,pe]=(0,f.useState)([]),me=(0,f.useRef)(!1),he=u||c.includes("click"),ge=he||(null==C?void 0:C.click)||(null==C?void 0:C.dblclick)||(null==C?void 0:C.mousedown),fe=C?{...C}:{mouseenter:!0,focus:!0,click:!1,dblclick:!1,mousedown:!1};!C&&he&&Object.assign(fe,{mouseenter:!1,focus:!1,click:!0});const be=x?{...x}:{mouseleave:!0,blur:!0,click:!1,dblclick:!1,mouseup:!1};!x&&he&&Object.assign(be,{mouseleave:!1,blur:!1});const ye=N?{...N}:{escape:w||!1,scroll:T||!1,resize:S||!1,clickOutsideAnchor:ge||!1};O&&(Object.assign(fe,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(be,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(ye,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),ft((()=>(me.current=!0,()=>{me.current=!1})),[]);const ve=e=>{me.current&&(e&&ee(!0),setTimeout((()=>{me.current&&(null==P||P(e),void 0===D&&J(e))}),10))};(0,f.useEffect)((()=>{if(void 0===D)return()=>null;D&&ee(!0);const e=setTimeout((()=>{J(D)}),10);return()=>{clearTimeout(e)}}),[D]),(0,f.useEffect)((()=>{if(K!==ne.current)if(W.current&&clearTimeout(W.current),ne.current=K,K)null==k||k();else{const e=(e=>{const t=getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay").match(/^([\d.]+)(ms|s)$/);if(!t)return 0;const[,o,l]=t;return Number(o)*("ms"===l?1:1e3)})();W.current=setTimeout((()=>{ee(!1),re(null),null==A||A()}),e+25)}}),[K]);const Ee=e=>{Q((t=>mt(t,e)?t:e))},we=(e=h)=>{Y.current&&clearTimeout(Y.current),Z?ve(!0):Y.current=setTimeout((()=>{ve(!0)}),e)},Te=(e=g)=>{X.current&&clearTimeout(X.current),X.current=setTimeout((()=>{ue.current||ve(!1)}),e)},Se=e=>{var t;if(!e)return;const o=null!==(t=e.currentTarget)&&void 0!==t?t:e.target;if(!(null==o?void 0:o.isConnected))return M(null),void ce({current:null});h?we():ve(!0),M(o),ce({current:o}),X.current&&clearTimeout(X.current)},Ce=()=>{E?Te(g||100):g?Te():ve(!1),Y.current&&clearTimeout(Y.current)},Ne=({x:e,y:t})=>{var o;const l={getBoundingClientRect:()=>({x:e,y:t,width:0,height:0,top:t,left:e,right:e,bottom:t})};ct({place:null!==(o=null==te?void 0:te.place)&&void 0!==o?o:i,offset:s,elementReference:l,tooltipReference:H.current,tooltipArrowReference:G.current,strategy:d,middlewares:p,border:V}).then((e=>{Ee(e)}))},Oe=e=>{if(!e)return;const t=e,o={x:t.clientX,y:t.clientY};Ne(o),ie.current=o},Re=e=>{var t;if(!K)return;const o=e.target;o.isConnected&&((null===(t=H.current)||void 0===t?void 0:t.contains(o))||[document.querySelector(`[id='${a}']`),...de].some((e=>null==e?void 0:e.contains(o)))||(ve(!1),Y.current&&clearTimeout(Y.current)))},Fe=dt(Se,50,!0),ke=dt(Ce,50,!0),Ae=e=>{ke.cancel(),Fe(e)},Ie=()=>{Fe.cancel(),ke()},Le=(0,f.useCallback)((()=>{var e,t;const o=null!==(e=null==te?void 0:te.position)&&void 0!==e?e:F;o?Ne(o):b?ie.current&&Ne(ie.current):(null==_?void 0:_.isConnected)&&ct({place:null!==(t=null==te?void 0:te.place)&&void 0!==t?t:i,offset:s,elementReference:_,tooltipReference:H.current,tooltipArrowReference:G.current,strategy:d,middlewares:p,border:V}).then((e=>{me.current&&Ee(e)}))}),[K,_,I,R,i,null==te?void 0:te.place,s,d,F,null==te?void 0:te.position,b]);(0,f.useEffect)((()=>{var e,t;const o=new Set(se);de.forEach((e=>{o.add({current:e})}));const l=document.querySelector(`[id='${a}']`);l&&o.add({current:l});const r=()=>{ve(!1)},n=gt(_),i=gt(H.current);ye.scroll&&(window.addEventListener("scroll",r),null==n||n.addEventListener("scroll",r),null==i||i.addEventListener("scroll",r));let s=null;ye.resize?window.addEventListener("resize",r):_&&H.current&&(s=function(e,t,o,l){void 0===l&&(l={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:n="function"==typeof ResizeObserver,layoutShift:i="function"==typeof IntersectionObserver,animationFrame:s=!1}=l,c=je(e),u=r||a?[...c?Ve(c):[],...Ve(t)]:[];u.forEach((e=>{r&&e.addEventListener("scroll",o,{passive:!0}),a&&e.addEventListener("resize",o)}));const d=c&&i?function(e,t){let o,l=null;const r=xe(e);function a(){var e;clearTimeout(o),null==(e=l)||e.disconnect(),l=null}return function n(i,s){void 0===i&&(i=!1),void 0===s&&(s=1),a();const{left:c,top:u,width:d,height:p}=e.getBoundingClientRect();if(i||t(),!d||!p)return;const m={rootMargin:-ae(u)+"px "+-ae(r.clientWidth-(c+d))+"px "+-ae(r.clientHeight-(u+p))+"px "+-ae(c)+"px",threshold:le(0,oe(1,s))||1};let h=!0;function g(e){const t=e[0].intersectionRatio;if(t!==s){if(!h)return n();t?n(!1,t):o=setTimeout((()=>{n(!1,1e-7)}),1e3)}h=!1}try{l=new IntersectionObserver(g,{...m,root:r.ownerDocument})}catch(e){l=new IntersectionObserver(g,m)}l.observe(e)}(!0),a}(c,o):null;let p,m=-1,h=null;n&&(h=new ResizeObserver((e=>{let[l]=e;l&&l.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame((()=>{var e;null==(e=h)||e.observe(t)}))),o()})),c&&!s&&h.observe(c),h.observe(t));let g=s?Ge(e):null;return s&&function t(){const l=Ge(e);!g||l.x===g.x&&l.y===g.y&&l.width===g.width&&l.height===g.height||o(),g=l,p=requestAnimationFrame(t)}(),o(),()=>{var e;u.forEach((e=>{r&&e.removeEventListener("scroll",o),a&&e.removeEventListener("resize",o)})),null==d||d(),null==(e=h)||e.disconnect(),h=null,s&&cancelAnimationFrame(p)}}(_,H.current,Le,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const c=e=>{"Escape"===e.key&&ve(!1)};ye.escape&&window.addEventListener("keydown",c),ye.clickOutsideAnchor&&window.addEventListener("click",Re);const u=[],d=e=>{K&&(null==e?void 0:e.target)===_||Se(e)},p=e=>{K&&(null==e?void 0:e.target)===_&&Ce()},m=["mouseenter","mouseleave","focus","blur"],h=["click","dblclick","mousedown","mouseup"];Object.entries(fe).forEach((([e,t])=>{t&&(m.includes(e)?u.push({event:e,listener:Ae}):h.includes(e)&&u.push({event:e,listener:d}))})),Object.entries(be).forEach((([e,t])=>{t&&(m.includes(e)?u.push({event:e,listener:Ie}):h.includes(e)&&u.push({event:e,listener:p}))})),b&&u.push({event:"pointermove",listener:Oe});const g=()=>{ue.current=!0},f=()=>{ue.current=!1,Ce()};return E&&!ge&&(null===(e=H.current)||void 0===e||e.addEventListener("mouseenter",g),null===(t=H.current)||void 0===t||t.addEventListener("mouseleave",f)),u.forEach((({event:e,listener:t})=>{o.forEach((o=>{var l;null===(l=o.current)||void 0===l||l.addEventListener(e,t)}))})),()=>{var e,t;ye.scroll&&(window.removeEventListener("scroll",r),null==n||n.removeEventListener("scroll",r),null==i||i.removeEventListener("scroll",r)),ye.resize?window.removeEventListener("resize",r):null==s||s(),ye.clickOutsideAnchor&&window.removeEventListener("click",Re),ye.escape&&window.removeEventListener("keydown",c),E&&!ge&&(null===(e=H.current)||void 0===e||e.removeEventListener("mouseenter",g),null===(t=H.current)||void 0===t||t.removeEventListener("mouseleave",f)),u.forEach((({event:e,listener:t})=>{o.forEach((o=>{var l;null===(l=o.current)||void 0===l||l.removeEventListener(e,t)}))}))}}),[_,Le,Z,se,de,C,x,N,he,h,g]),(0,f.useEffect)((()=>{var e,o;let l=null!==(o=null!==(e=null==te?void 0:te.anchorSelect)&&void 0!==e?e:n)&&void 0!==o?o:"";!l&&t&&(l=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const r=new MutationObserver((e=>{const o=[],r=[];e.forEach((e=>{if("attributes"===e.type&&"data-tooltip-id"===e.attributeName&&(e.target.getAttribute("data-tooltip-id")===t?o.push(e.target):e.oldValue===t&&r.push(e.target)),"childList"===e.type){if(_){const t=[...e.removedNodes].filter((e=>1===e.nodeType));if(l)try{r.push(...t.filter((e=>e.matches(l)))),r.push(...t.flatMap((e=>[...e.querySelectorAll(l)])))}catch(e){}t.some((e=>{var t;return!!(null===(t=null==e?void 0:e.contains)||void 0===t?void 0:t.call(e,_))&&(ee(!1),ve(!1),M(null),Y.current&&clearTimeout(Y.current),X.current&&clearTimeout(X.current),!0)}))}if(l)try{const t=[...e.addedNodes].filter((e=>1===e.nodeType));o.push(...t.filter((e=>e.matches(l)))),o.push(...t.flatMap((e=>[...e.querySelectorAll(l)])))}catch(e){}}})),(o.length||r.length)&&pe((e=>[...e.filter((e=>!r.includes(e))),...o]))}));return r.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{r.disconnect()}}),[t,n,null==te?void 0:te.anchorSelect,_]),(0,f.useEffect)((()=>{Le()}),[Le]),(0,f.useEffect)((()=>{if(!(null==L?void 0:L.current))return()=>null;const e=new ResizeObserver((()=>{setTimeout((()=>Le()))}));return e.observe(L.current),()=>{e.disconnect()}}),[I,null==L?void 0:L.current]),(0,f.useEffect)((()=>{var e;const t=document.querySelector(`[id='${a}']`),o=[...de,t];_&&o.includes(_)||M(null!==(e=de[0])&&void 0!==e?e:t)}),[a,de,_]),(0,f.useEffect)((()=>($&&ve(!0),()=>{Y.current&&clearTimeout(Y.current),X.current&&clearTimeout(X.current)})),[]),(0,f.useEffect)((()=>{var e;let o=null!==(e=null==te?void 0:te.anchorSelect)&&void 0!==e?e:n;if(!o&&t&&(o=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),o)try{const e=Array.from(document.querySelectorAll(o));pe(e)}catch(e){pe([])}}),[t,n,null==te?void 0:te.anchorSelect]),(0,f.useEffect)((()=>{Y.current&&(clearTimeout(Y.current),we(h))}),[h]);const De=null!==(B=null==te?void 0:te.content)&&void 0!==B?B:I,$e=K&&Object.keys(q.tooltipStyles).length>0;return(0,f.useImperativeHandle)(e,(()=>({open:e=>{if(null==e?void 0:e.anchorSelect)try{document.querySelector(e.anchorSelect)}catch(t){return void console.warn(`[react-tooltip] "${e.anchorSelect}" is not a valid CSS selector`)}re(null!=e?e:null),(null==e?void 0:e.delay)?we(e.delay):ve(!0)},close:e=>{(null==e?void 0:e.delay)?Te(e.delay):ve(!1)},activeAnchor:_,place:q.place,isOpen:Boolean(Z&&!y&&De&&$e)}))),Z&&!y&&De?f.createElement(m,{id:t,role:U,className:nt("react-tooltip",Et.tooltip,wt.tooltip,wt[r],o,`react-tooltip__place-${q.place}`,Et[$e?"show":"closing"],$e?"react-tooltip__show":"react-tooltip__closing","fixed"===d&&Et.fixed,E&&Et.clickable),onTransitionEnd:e=>{W.current&&clearTimeout(W.current),K||"opacity"!==e.propertyName||(ee(!1),re(null),null==A||A())},style:{...R,...q.tooltipStyles,opacity:void 0!==z&&$e?z:void 0},ref:H},De,f.createElement(m,{className:nt("react-tooltip-arrow",Et.arrow,wt.arrow,l,v&&Et.noArrow),style:{...q.tooltipArrowStyles,background:j?`linear-gradient(to right bottom, transparent 50%, ${j} 50%)`:void 0},ref:G})):null},St=({content:e})=>f.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),Ct=f.forwardRef((({id:e,anchorId:t,anchorSelect:o,content:l,html:r,render:a,className:n,classNameArrow:i,variant:s="dark",place:c="top",offset:u=10,wrapper:d="div",children:p=null,events:m=["hover"],openOnClick:h=!1,positionStrategy:g="absolute",middlewares:b,delayShow:y=0,delayHide:v=0,float:E=!1,hidden:w=!1,noArrow:T=!1,clickable:S=!1,closeOnEsc:C=!1,closeOnScroll:x=!1,closeOnResize:N=!1,openEvents:O,closeEvents:R,globalCloseEvents:F,imperativeModeOnly:k=!1,style:A,position:I,isOpen:L,defaultIsOpen:D=!1,disableStyleInjection:$=!1,border:P,opacity:_,arrowColor:M,setIsOpen:V,afterShow:z,afterHide:j,role:U="tooltip"},B)=>{const[H,G]=(0,f.useState)(l),[Y,X]=(0,f.useState)(r),[W,q]=(0,f.useState)(c),[Q,K]=(0,f.useState)(s),[J,Z]=(0,f.useState)(u),[ee,te]=(0,f.useState)(y),[oe,le]=(0,f.useState)(v),[re,ae]=(0,f.useState)(E),[ne,ie]=(0,f.useState)(w),[se,ce]=(0,f.useState)(d),[ue,de]=(0,f.useState)(m),[pe,me]=(0,f.useState)(g),[he,ge]=(0,f.useState)(null),[fe,be]=(0,f.useState)(null),ye=(0,f.useRef)($),{anchorRefs:ve,activeAnchor:Ee}=vt(e),we=e=>null==e?void 0:e.getAttributeNames().reduce(((t,o)=>{var l;return o.startsWith("data-tooltip-")&&(t[o.replace(/^data-tooltip-/,"")]=null!==(l=null==e?void 0:e.getAttribute(o))&&void 0!==l?l:null),t}),{}),Te=e=>{const t={place:e=>{var t;q(null!==(t=e)&&void 0!==t?t:c)},content:e=>{G(null!=e?e:l)},html:e=>{X(null!=e?e:r)},variant:e=>{var t;K(null!==(t=e)&&void 0!==t?t:s)},offset:e=>{Z(null===e?u:Number(e))},wrapper:e=>{var t;ce(null!==(t=e)&&void 0!==t?t:d)},events:e=>{const t=null==e?void 0:e.split(" ");de(null!=t?t:m)},"position-strategy":e=>{var t;me(null!==(t=e)&&void 0!==t?t:g)},"delay-show":e=>{te(null===e?y:Number(e))},"delay-hide":e=>{le(null===e?v:Number(e))},float:e=>{ae(null===e?E:"true"===e)},hidden:e=>{ie(null===e?w:"true"===e)},"class-name":e=>{ge(e)}};Object.values(t).forEach((e=>e(null))),Object.entries(e).forEach((([e,o])=>{var l;null===(l=t[e])||void 0===l||l.call(t,o)}))};(0,f.useEffect)((()=>{G(l)}),[l]),(0,f.useEffect)((()=>{X(r)}),[r]),(0,f.useEffect)((()=>{q(c)}),[c]),(0,f.useEffect)((()=>{K(s)}),[s]),(0,f.useEffect)((()=>{Z(u)}),[u]),(0,f.useEffect)((()=>{te(y)}),[y]),(0,f.useEffect)((()=>{le(v)}),[v]),(0,f.useEffect)((()=>{ae(E)}),[E]),(0,f.useEffect)((()=>{ie(w)}),[w]),(0,f.useEffect)((()=>{me(g)}),[g]),(0,f.useEffect)((()=>{ye.current!==$&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")}),[$]),(0,f.useEffect)((()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:"core"===$,disableBase:$}}))}),[]),(0,f.useEffect)((()=>{var l;const r=new Set(ve);let a=o;if(!a&&e&&(a=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),a)try{document.querySelectorAll(a).forEach((e=>{r.add({current:e})}))}catch(l){console.warn(`[react-tooltip] "${a}" is not a valid CSS selector`)}const n=document.querySelector(`[id='${t}']`);if(n&&r.add({current:n}),!r.size)return()=>null;const i=null!==(l=null!=fe?fe:n)&&void 0!==l?l:Ee.current,s=new MutationObserver((e=>{e.forEach((e=>{var t;if(!i||"attributes"!==e.type||!(null===(t=e.attributeName)||void 0===t?void 0:t.startsWith("data-tooltip-")))return;const o=we(i);Te(o)}))})),c={attributes:!0,childList:!1,subtree:!1};if(i){const e=we(i);Te(e),s.observe(i,c)}return()=>{s.disconnect()}}),[ve,Ee,fe,t,o]),(0,f.useEffect)((()=>{(null==A?void 0:A.border)&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),P&&!ut("border",`${P}`)&&console.warn(`[react-tooltip] "${P}" is not a valid \`border\`.`),(null==A?void 0:A.opacity)&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),_&&!ut("opacity",`${_}`)&&console.warn(`[react-tooltip] "${_}" is not a valid \`opacity\`.`)}),[]);let Se=p;const Ce=(0,f.useRef)(null);if(a){const e=a({content:(null==fe?void 0:fe.getAttribute("data-tooltip-content"))||H||null,activeAnchor:fe});Se=e?f.createElement("div",{ref:Ce,className:"react-tooltip-content-wrapper"},e):null}else H&&(Se=H);Y&&(Se=f.createElement(St,{content:Y}));const xe={forwardRef:B,id:e,anchorId:t,anchorSelect:o,className:nt(n,he),classNameArrow:i,content:Se,contentWrapperRef:Ce,place:W,variant:Q,offset:J,wrapper:se,events:ue,openOnClick:h,positionStrategy:pe,middlewares:b,delayShow:ee,delayHide:oe,float:re,hidden:ne,noArrow:T,clickable:S,closeOnEsc:C,closeOnScroll:x,closeOnResize:N,openEvents:O,closeEvents:R,globalCloseEvents:F,imperativeModeOnly:k,style:A,position:I,isOpen:L,defaultIsOpen:D,border:P,opacity:_,arrowColor:M,setIsOpen:V,afterShow:z,afterHide:j,activeAnchor:fe,setActiveAnchor:e=>be(e),role:U};return f.createElement(Tt,{...xe})}));"undefined"!=typeof window&&window.addEventListener("react-tooltip-inject-styles",(e=>{e.detail.disableCore||st({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||st({css:"\n.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}",type:"base"})}));const xt=e=>{const t=new I(255,255,255),o=(e=>{const t=[],o=new I(255,255,255);for(let l=0;l<e.length;l++){const r=new I(0,0,0);let a=e[l].color;a.startsWith("rgba")&&(a=I.RGBAToHex(a)),r.fromHex(a);const n=r.Mul(o,.7);t.push({start:r.asHex(),end:n.asHex()})}return t})(e.data),l=$,r=l.Mul(t,.7),a=_,n=a.Mul(t,.7),i=V,s=i.Mul(t,.7),c=e.gradientId;return b().createElement(b().Fragment,null,b().createElement("defs",null,o.map(((e,t)=>b().createElement("linearGradient",{key:t,id:c+"_linear_gradient_state_data_"+t,x1:"30%",y1:"30%",x2:"70%",y2:"70%"},b().createElement("stop",{offset:"0%",stopColor:e.start}),b().createElement("stop",{offset:"100%",stopColor:e.end})))),b().createElement("linearGradient",{id:c+"_linear_gradient_state_ok",x1:"30%",y1:"30%",x2:"70%",y2:"70%"},b().createElement("stop",{offset:"0%",stopColor:l.asHex()}),b().createElement("stop",{offset:"100%",stopColor:r.asHex()})),b().createElement("linearGradient",{id:c+"_linear_gradient_state_warning",x1:"30%",y1:"30%",x2:"70%",y2:"70%"},b().createElement("stop",{offset:"0%",stopColor:a.asHex()}),b().createElement("stop",{offset:"100%",stopColor:n.asHex()})),b().createElement("linearGradient",{id:c+"_linear_gradient-state_critical",x1:"30%",y1:"30%",x2:"70%",y2:"70%"},b().createElement("stop",{offset:"0%",stopColor:i.asHex()}),b().createElement("stop",{offset:"100%",stopColor:s.asHex()})),b().createElement("linearGradient",{id:c+"_linear_gradient_state_unknown",x1:"30%",y1:"30%",x2:"70%",y2:"70%"},b().createElement("stop",{offset:"0%",stopColor:"#73808A"}),b().createElement("stop",{offset:"100%",stopColor:"#73808A"}))))};function Nt(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class Ot{setRadius(e){this.radius=e}setHeight(e){this.height=e}setWidth(e){this.width=e}generateHexagonPointedTopLayout(){return this.radius=this.getHexFlatTopRadius(),{}}generateUniformLayout(){return this.radius=this.getUniformRadius(),{}}getHexFlatTopRadius(){let e=K.min([this.width/((this.numColumns+.5)*this.SQRT3),this.height/(1.5*(this.numRows+1/3))]);return void 0!==e?(e-=0,this.truncateFloat(e)):40}getHexFlatTopDiameters(){const e=this.getHexFlatTopRadius();return{diameterX:this.truncateFloat(e*this.SQRT3),diameterY:this.truncateFloat(2*e)}}getUniformDiameters(){const e=this.getUniformRadius();return{diameterX:2*e,diameterY:2*e}}getUniformRadius(){const e=this.width/this.maxColumnsUsed*.5,t=this.height/this.maxRowsUsed*.5;let o=e;return o>t&&(o=t),o-=0,this.truncateFloat(o)}generatePossibleColumnAndRowsSizes(e,t,o){if(t&&e){const e=Math.sqrt(o);this.width>this.height?(this.numColumns=Math.ceil(this.width/this.height*e*.75),this.numColumns<1?this.numColumns=1:this.numColumns>o&&(this.numColumns=o),this.numRows=Math.ceil(o/this.numColumns),this.numRows<1&&(this.numRows=1)):(this.numRows=Math.ceil(this.height/this.width*e*.75),this.numRows<1?this.numRows=1:this.numRows>o&&(this.numRows=o),this.numColumns=Math.ceil(o/this.numRows),this.numColumns<1&&(this.numColumns=1))}else t?(this.numRows=Math.ceil(o/this.numColumns),this.numRows<1&&(this.numRows=1)):e&&(this.numColumns=Math.ceil(o/this.numRows),this.numColumns<1&&(this.numColumns=1))}generateActualColumnAndRowUsage(e,t){let o=0,l=0,r=0,a=0;for(let n=0;n<this.numRows;n++)if((!t||o<t)&&o<e.length){l+=1,r=0;for(let l=0;l<this.numColumns;l++)(!t||o<t)&&o<e.length&&(r+=1,r>a&&(a=r),o++)}this.maxRowsUsed=l,this.maxColumnsUsed=a}shapeToCoordinates(t,o,l,r){switch(t){case e.HEXAGON_POINTED_TOP:let t=o*l*this.SQRT3;return r%2==1&&(t+=o*this.SQRT3/2),[t,o*r*1.5];case e.CIRCLE:case e.SQUARE:return[o*l*2,o*r*2];default:return[o*l*1.75,o*r*1.5]}}generatePoints(e,t,o){const l=[];if(void 0===e)return l;let r=0,a=0,n=0;if(this.numRows===1/0)return l;if(isNaN(this.numColumns))return l;for(let i=0;i<this.numRows;i++)if((!t||l.length<t)&&l.length<e.length){r+=1,a=0;for(let r=0;r<this.numColumns;r++)if((!t||l.length<t)&&l.length<e.length){a+=1,a>n&&(n=a);let e=this.shapeToCoordinates(o,this.radius,r,i);const t={x:e[0],y:e[1]};l.push(t)}}return this.maxRowsUsed=r,this.maxColumnsUsed=n,l}generateUniformPoints(e,t){const o=[];if(void 0===e)return o;let l=0,r=0,a=0,n=1,i=1;if(this.numRows===1/0)return o;if(isNaN(this.numColumns))return o;for(let s=0;s<this.numRows;s++)if((!t||o.length<t)&&o.length<e.length){l+=1,r=0;for(let l=0;l<this.numColumns;l++)(!t||o.length<t)&&o.length<e.length&&(r+=1,r>a&&(a=r),o.push({x:n,y:i,width:2*this.radius,height:2*this.radius}),n+=2*this.radius);n=1,i+=2*this.radius}return this.maxRowsUsed=l,this.maxColumnsUsed=a,o}generateRadius(t){if(!this.autoSize)return this.radius;let o=0;switch(t){case e.HEXAGON_POINTED_TOP:o=this.getHexFlatTopRadius();break;case e.CIRCLE:case e.SQUARE:o=this.getUniformRadius();break;default:o=this.getHexFlatTopRadius()}return this.radius=o,o}truncateFloat(e){if(e===1/0||isNaN(e))return 0;const t=e.toString().match(/^-?\d+(?:\.\d{0,2})?/);return null!==t&&t.length>0?Number(t[0]):0}getOffsets(t,o){switch(t){case e.HEXAGON_POINTED_TOP:return this.getOffsetsHexagonPointedTop(o);case e.SQUARE:return this.getOffsetsSquare(o);case e.CIRCLE:default:return this.getOffsetsUniform(o)}}getOffsetsHexagonPointedTop(e){let t=K.min([this.width/((this.numColumns+.5)*this.SQRT3),this.height/(1.5*(this.numRows+1/3))]);t=this.truncateFloat(t);const o=this.truncateFloat(t*this.SQRT3),l=this.truncateFloat(2*t),r=.5*l,{oddCount:a,evenCount:n}=this.getOddEvenCountForRange(1,this.maxRowsUsed),i=a*l+n*l*.5;let s=(this.height-i)/2;s=-(s+r);const c=.5*o;let u=0;this.numRows>1&&e>=2*this.maxColumnsUsed&&(u=.5);const d=(this.numColumns+u)*o;let p=(this.width-d)/2;return p=-(p+c),{xoffset:p,yoffset:s}}getOffsetsUniform(e){const{diameterX:t,diameterY:o}=this.getDiameters(),l=this.truncateFloat(t),r=this.truncateFloat(o),a=.5*r,n=this.maxRowsUsed*r;let i=(this.height-n)/2;i=-(i+a);const s=.5*l,c=this.numColumns*l;let u=(this.width-c)/2;return u=-(u+s),{xoffset:u,yoffset:i}}getOffsetsSquare(e){const{diameterX:t,diameterY:o}=this.getDiameters(),l=this.truncateFloat(t),r=this.truncateFloat(o),a=this.maxRowsUsed*r;let n=(this.height-a)/2;n=-(n+0);const i=this.numColumns*l;let s=(this.width-i)/2;return s=-(s+0),{xoffset:s,yoffset:n}}getOddEvenCountForRange(e,t){let o=(t-e)/2;return t%2==0&&e%2==0||o++,{oddCount:o,evenCount:t-e+1-o}}getDiameters(){switch(this.shape){case e.HEXAGON_POINTED_TOP:return this.getHexFlatTopDiameters();case e.SQUARE:case e.CIRCLE:default:return this.getUniformDiameters()}}constructor(e,t,o,l,r,a,n){Nt(this,"width",void 0),Nt(this,"height",void 0),Nt(this,"numColumns",void 0),Nt(this,"numRows",void 0),Nt(this,"radius",void 0),Nt(this,"autoSize",void 0),Nt(this,"maxRowsUsed",void 0),Nt(this,"maxColumnsUsed",void 0),Nt(this,"displayLimit",void 0),Nt(this,"shape",void 0),Nt(this,"SQRT3",1.7320508075688772),this.width=e,this.height=t,o<1||isNaN(o)?this.numColumns=8:this.numColumns=o,l<1||isNaN(l)?this.numRows=8:this.numRows=l,this.maxColumnsUsed=0,this.maxRowsUsed=0,r<0||isNaN(r)?this.displayLimit=100:this.displayLimit=r,this.shape=n,this.radius=0,this.autoSize=a}}const Rt=e=>O.css`
  font-size: ${e.typography.h1.fontSize};
  text-align: center;
  justify-content: center;
  color: ${e.colors.error.shade};
`,Ft=e=>O.css`
  font-size: ${e.typography.h1.fontSize};
  text-align: center;
  justify-content: center;
  color: ${e.colors.success.shade};
`,kt=e=>O.css`
  fill: transparent;
  display: flex;
  align-items: center;
  text-align: center;
  justify-content: center;
`,At=e=>O.css`
  text-align: center;
  align-items: center;
  justify-content: center;
  fill: transparent;
`,It=e=>O.css`
  outline: none !important;
`,Lt=({data:e,renderTime:o,showTime:l,valueEnabled:a,tooltipColumnHeadersEnabled:n,primarySortByField:i,primarySortDirection:s,secondarySortByField:c,secondarySortDirection:u,displayMode:d,tooltipDisplayTextTriggeredEmpty:p,tooltipFontFamily:m})=>{const h=(0,y.useStyles2)(Dt);(null==e?void 0:e.timestamp)&&(o=new Date(null==e?void 0:e.timestamp));return b().createElement("table",{style:{fontFamily:m},className:h.tooltipTable},b().createElement("thead",null,e&&e.isComposite&&(e=>e&&e.members&&0===e.members.length?"":b().createElement("tr",null,b().createElement("th",{className:h.tooltipCompositeHeading,colSpan:2},null==e?void 0:e.displayName)))(e),b().createElement("tr",null,n&&b().createElement("th",{className:h.tooltipNameHeading},"Name"),n&&a&&b().createElement("th",{className:h.tooltipValueHeading},"Value"))),b().createElement("tfoot",null,l&&b().createElement("tr",null,b().createElement("td",{className:h.tooltipTime,colSpan:2},(0,t.dateTimeFormatWithAbbrevation)(o)))),b().createElement("tbody",null,e&&e.isComposite?(e=>{let t=e;if(t&&e&&"triggered"===d&&(t=(e=>{const t=(e=>{let t=0;0!==e.thresholdLevel&&t++;for(let o=0;o<e.members.length;o++)0!==e.members[o].thresholdLevel&&t++;return t})(e),o=Object.assign({},e);if(o.members=[],t>0){for(let t=0;t<e.members.length;t++)0!==e.members[t].thresholdLevel&&o.members.push(e.members[t]);return o}return null})(e)),null===t)return b().createElement(b().Fragment,null,p);const o=((e,t,o,l,a)=>{let n=$t(r[t].value);const i=n.lowerCase,s=n.direction;n=$t(r[l].value);const c=n.direction,u=n.lowerCase;let d=o;i&&(d=e=>{let t=e[o];return"number"!=typeof t&&(t=t.toLowerCase()),t});let p=a;return u&&(p=e=>{let t=e[a];return"number"!=typeof t&&(t=t.toLowerCase()),t}),(0,v.orderBy)(e.members,[d,p],[s,c])})(t,s,i,u,c);return o.map(((e,t)=>b().createElement("tr",{key:t,style:{color:e.color}},b().createElement("td",{className:h.tooltipName},e.displayName),a&&b().createElement("td",{className:h.tooltipValue},e.valueFormatted))))})(e):b().createElement("tr",{style:{color:null==e?void 0:e.color}},b().createElement("td",{className:h.tooltipName},null==e?void 0:e.displayName),a&&b().createElement("td",{className:h.tooltipValue},null==e?void 0:e.valueFormatted))))},Dt=e=>({root:O.css`
      border-radius: ${e.shape.borderRadius(1)};
      background-color: ${e.colors.background.primary};
      box-shadow: ${e.shadows.z2};
      padding: ${e.spacing(1)};
    `,tooltipTable:O.css`
      width: 100%;
      color: ${e.colors.text.primary};
      height: auto;
      padding: 10px;
    `,tooltipTime:O.css`
      text-align: center;
      color: ${e.colors.text.primary};
    `,tooltipNameHeading:O.css`
      text-align: left;
      color: ${e.colors.text.primary};
    `,tooltipValueHeading:O.css`
      text-align: right;
      color: ${e.colors.text.primary};
    `,tooltipCompositeHeading:O.css`
      text-align: center;
      color: ${e.colors.text.primary};
    `,tooltipName:O.css`
      text-align: left;
    `,tooltipValue:O.css`
      text-align: right;
      padding-left: 15px;
    `}),$t=e=>{switch(e){case 0:return{direction:null,lowerCase:!1};case 1:case 3:default:return{direction:"asc",lowerCase:!1};case 2:case 4:return{direction:"desc",lowerCase:!1};case 5:return{direction:"asc",lowerCase:!0};case 6:return{direction:"desc",lowerCase:!0}}};function Pt(e,t){if((0,v.isNumber)(t))return{decimals:t,scaledDecimals:null};const o=e/2;let l=-Math.floor(Math.log(o)/Math.LN10);const r=Math.pow(10,-l),a=o/r;let n;a<1.5?n=1:a<3?(n=2,a>2.25&&(n=2.5,++l)):n=a<7.5?5:10,n*=r,Math.floor(e)===e&&(l=0);const i={decimals:0,scaledDecimals:0};return i.decimals=Math.max(0,l),i.scaledDecimals=i.decimals-Math.floor(Math.log(n)/Math.LN10)+2,i}function _t(e,t){const o=document.createElement("canvas").getContext("2d");return o?(o.font=t,o.measureText(e).width):40}const Mt=(e,t)=>{if(null===e)return null;const o=Math.pow(10,t),l=(o*e).toFixed(t);return Math.round(parseFloat(l))/o},Vt=(e,t,o,l,r,a,n)=>function(e,t,o,l,r,a){let n=t.replace("?",a),i=_t(e,n);if(i<=(o*=.95)&&a<=l)return a;for(let s=a;s>=r;s--)if(n=t.replace("?",s),i=_t(e,n),i<o&&s<=l)return Math.ceil(s);return 0}(e,`?px ${t}`,a,n/r,o,l),zt=t=>{const o=(0,y.useStyles2)(kt),l=(0,y.useStyles2)(At),r=(0,y.useStyles2)(It),a=(0,y.useStyles2)(Ft),n=(0,y.useStyles2)(Rt),i=(0,y.useTheme2)().isDark?"dark":"light",[s,c]=b().useState([]),[u,d]=b().useState([]),[p,h]=b().useState([]),[g,v]=b().useState([]),[E]=b().useState(`polystat_${t.panelId}_`+Math.floor(1e4*Math.random()).toString()),w=(0,f.useCallback)((()=>{for(let e=0;e<g.length;e++){let o=g[e],l=p[o],r=!1;if((t.globalShowValueEnabled||t.processedData&&t.processedData[o].isComposite&&t.processedData[o].showValue)&&(r=!0),r&&t.processedData&&s.length>0&&s[o].current){const e=t.processedData[o],r=Ut(l,e,t.globalDisplayTextTriggeredEmpty)[0];null!==s[o].current.innerHTML&&(s[o].current.innerHTML=r)}if(t.globalShowTimestampEnabled&&t.processedData&&u.length>0&&u[o].current){const e=t.processedData[o],r=Ut(l,e,t.globalDisplayTextTriggeredEmpty)[1];null!==u[o].current.innerHTML&&(u[o].current.innerHTML=r)}l++,t.processedData&&t.processedData[o]&&t.processedData[o].members.length&&(l%=t.processedData[o].members.length),p[o]=l,h(p)}}),[p,s,u,g,t.processedData,t.globalDisplayTextTriggeredEmpty,t.globalShowTimestampEnabled,t.globalShowValueEnabled]);(0,f.useEffect)((()=>{let e=!1;const o=[];let l;if(t.processedData.map(((t,l)=>{t.isComposite&&t.showValue&&(e=!0,o.push(l))})),JSON.stringify(g)!==JSON.stringify(o)&&t.processedData&&((e=>{if(e.length>0){const t=[],o=[],l=[];for(let r=0;r<e.length;r++)t.push((0,f.createRef)()),o.push((0,f.createRef)()),l.push(0);t.length>0&&s.length!==t.length&&(c(t),d(o),h(l))}})(t.processedData),v(o)),e){let e=parseInt(t.compositeConfig.animationSpeed,10);(e<200||isNaN(e))&&(console.log("WARNING: speed in configuration is too fast, setting to 200ms"),e=200),l=setInterval(w,e)}return()=>{clearInterval(l)}}),[t.compositeConfig.animationSpeed,t.processedData,s]);const T=new Ot(t.panelWidth,t.panelHeight,t.layoutNumColumns,t.layoutNumRows,t.layoutDisplayLimit,t.autoSizePolygons,t.globalShape);T.generatePossibleColumnAndRowsSizes(t.autoSizeColumns,t.autoSizeRows,t.processedData.length),T.generateActualColumnAndRowUsage(t.processedData,t.layoutDisplayLimit);let S=0;!t.autoSizePolygons&&t.globalPolygonSize?(t.globalPolygonSize<0||isNaN(t.globalPolygonSize)?(t.globalPolygonSize=50,console.log("WARNING: polygon size is manually set to an invalid value, forcing to 50px")):T.setRadius(t.globalPolygonSize),S=t.globalPolygonSize):S=T.generateRadius(t.globalShape);const C=T.generatePoints(t.processedData,t.layoutDisplayLimit,t.globalShape),x=function(){var e,t,o,l=0,r=0,a=1,n=1,i=ee,s=te;function c(e){var l,r={},a=[],n=e.length;for(l=0;l<n;++l)if(!isNaN(u=+i.call(null,c=e[l],l,e))&&!isNaN(d=+s.call(null,c,l,e))){var c,u,d,p=Math.round(d/=o),m=Math.round(u=u/t-(1&p)/2),h=d-p;if(3*Math.abs(h)>1){var g=u-m,f=m+(u<m?-1:1)/2,b=p+(d<p?-1:1),y=u-f,v=d-b;g*g+h*h>y*y+v*v&&(m=f+(1&p?1:-1)/2,p=b)}var E=m+"-"+p,w=r[E];w?w.push(c):(a.push(w=r[E]=[c]),w.x=(m+(1&p)/2)*t,w.y=p*o)}return a}function u(e){var t=0,o=0;return Z.map((function(l){var r=Math.sin(l)*e,a=-Math.cos(l)*e,n=r-t,i=a-o;return t=r,o=a,[n,i]}))}return c.hexagon=function(t){return"m"+u(null==t?e:+t).join("l")+"z"},c.centers=function(){for(var i=[],s=Math.round(r/o),c=Math.round(l/t),u=s*o;u<n+e;u+=o,++s)for(var d=c*t+(1&s)*t/2;d<a+t/2;d+=t)i.push([d,u]);return i},c.mesh=function(){var t=u(e).slice(0,4).join("l");return c.centers().map((function(e){return"M"+e+"m"+t})).join("")},c.x=function(e){return arguments.length?(i=e,c):i},c.y=function(e){return arguments.length?(s=e,c):s},c.radius=function(l){return arguments.length?(t=2*(e=+l)*Math.sin(J),o=1.5*e,c):e},c.size=function(e){return arguments.length?(l=r=0,a=+e[0],n=+e[1],c):[a-l,n-r]},c.extent=function(e){return arguments.length?(l=+e[0][0],r=+e[0][1],a=+e[1][0],n=+e[1][1],c):[[l,r],[a,n]]},c.radius(1)}().radius(S).extent([[0,0],[t.panelWidth,t.panelHeight]]),{diameterX:N,diameterY:O}=T.getDiameters(),{xoffset:R,yoffset:F}=T.getOffsets(t.globalShape,t.processedData.length),k=N,A=O/2;let I=N*O;N<O&&(I=N*N),O<N&&(I=O*O);const L=(0,K.symbol)().size(I);let D;switch(t.globalShape){case e.HEXAGON_POINTED_TOP:D=x.hexagon(S);break;case e.CIRCLE:D=L.type(K.symbolCircle);break;case e.SQUARE:D=L.type(K.symbolSquare);break;default:D=x.hexagon(S)}const $=e=>({x:C[e].x,y:C[e].y});let P=t.globalFontSize,_=t.globalFontSize,M=t.globalFontSize,V=t.globalShowTimestampFontSize,z=!1,j=t.ellipseCharacters,U=t.globalShowTimestampEnabled,B=t.globalShowValueEnabled;if(t.globalAutoScaleFonts){const e=((e,t,o,l,r,a)=>{const n=240;let i=!1,s=0,c=(e=>{let t="";for(let o=0;o<e.length;o++){let l=e[o].name;""!==e[o].displayName&&(l=e[o].displayName),l.length>t.length&&(t=l)}return t})(a),u=Vt(c,e,6,n,2,t,o);u<6&&(i=!0,s=18,c=c.substring(0,s+2),u=Vt(c,e,6,n,2,t,o),u<6&&(s=10,c=c.substring(0,s+2),u=Vt(c,e,6,n,2,t,o),u<6&&(s=6,c=c.substring(0,s+2),u=Vt(c,e,6,n,2,t,o))));let{maxValue:d,maxTimestamp:p}=(e=>{let t="",o="";for(let l=0;l<e.length;l++){e[l].valueFormatted.length>t.length&&(t=e[l].valueFormatted),e[l].timestampFormatted.length>o.length&&(o=e[l].timestampFormatted);const r=e[l].members.length;if(r>0){let a=0;for(;a<r;){const r=e[l].members[a].displayName+": "+e[l].members[a].valueFormatted;r&&r.length>t.length&&(t=r);const n=e[l].members[a].timestampFormatted;n&&n.length>o.length&&(o=n),a++}}}return{maxValue:t,maxTimestamp:o}})(a),m=Vt(d,e,6,n,2,t,o);r&&(m=Vt(d,e,6,n,2,t,.67*o));let h=Vt(p,e,6,n,2,t,.33*o);h<6&&(h=0);let g=m,f=!1;if(a)for(let e=0;e<a.length;e++){const t=a[e];if(t.isComposite&&t.showValue){f=!0;break}}return l||(m=0,f||(g=0)),{activeLabelFontSize:u,activeValueFontSize:m,activeCompositeValueFontSize:g,activeTimestampFontSize:h,showEllipses:i,numOfChars:s}})(t.globalTextFontFamily,k,A,B,U,t.processedData);P=e.activeLabelFontSize,_=e.activeValueFontSize,V=e.activeTimestampFontSize,M=e.activeCompositeValueFontSize,z=e.showEllipses,j=e.numOfChars}const H=((t,o,l,r,a,n,i,s)=>{let c=r/2/2+a/2,u=a/2,d=-r/2/2+n/2,p=n/2,m=0,h=0,g=c/2,f=.33*r/2+i/2;switch(t){case e.HEXAGON_POINTED_TOP:case e.CIRCLE:p=.37*n,s&&i>0&&(c=.67*r/2+a/2);break;case e.SQUARE:c=l/1.5+a/2,u=l/2+.37*n,d=l/4+n/2,p=l/2+.37*n,m=o/2,h=o/2,s&&i>0&&(f=l/1.5-.67*i)}return{valueWithLabelTextAlignment:c,valueOnlyTextAlignment:u,valueWithTimestampAlignment:g,labelWithValueTextAlignment:d,labelOnlyTextAlignment:p,labelTextAlignmentX:m,labelValueAlignmentX:h,timestampAlignment:f}})(t.globalShape,N,O,A,_,P,V,U);let G=Math.ceil(.2*_);_>V&&(G=Math.ceil(.2*V));let Y=Math.ceil(M);M>V&&(Y=Math.ceil(.75*V),t.globalShowTimestampPosition===m.BELOW_VALUE&&(Y=Math.ceil(V)));const X=(o,l)=>{let a=t.processedData[o].color;t.globalGradientsEnabled&&(a=`url(#${E}_linear_gradient_state_data_${o})`);const n=T.generateRadius(t.globalShape),i=$(o);switch(l){case e.HEXAGON_POINTED_TOP:return b().createElement("path",{"data-tooltip-id":t.globalTooltipsEnabled?`polystat-tooltip-${E}`:null,"data-tooltip-content":o,"data-tooltip-position-strategy":"fixed",className:r,key:`polystat-tooltip-${E}`,transform:`translate(${i.x}, ${i.y})`,d:D,fill:a,stroke:t.globalPolygonBorderColor,strokeWidth:t.globalPolygonBorderSize+"px"});case e.CIRCLE:return b().createElement("circle",{"data-tooltip-id":t.globalTooltipsEnabled?`polystat-tooltip-${E}`:null,"data-tooltip-content":o,"data-tooltip-position-strategy":"fixed",key:`polystat-tooltip-${E}`,className:r,cx:i.x,cy:i.y,r:n,fill:a});case e.SQUARE:return b().createElement("rect",{"data-tooltip-id":t.globalTooltipsEnabled?`polystat-tooltip-${E}`:null,"data-tooltip-content":o,"data-tooltip-position-strategy":"fixed",key:`polystat-tooltip-${E}`,className:r,x:i.x,y:i.y,height:2*n,width:2*n,fill:a});default:return b().createElement("path",{"data-tooltip-id":t.globalTooltipsEnabled?`polystat-tooltip-${E}`:null,"data-tooltip-content":o,"data-tooltip-position-strategy":"fixed",className:r,key:`polystat-tooltip-${E}`,transform:`translate(${i.x}, ${i.y})`,d:D,fill:a,stroke:t.globalPolygonBorderColor,strokeWidth:t.globalPolygonBorderSize+"px"})}};let W=0;!t.autoSizeColumns&&S&&T.maxColumnsUsed<t.layoutNumColumns&&(W+=S*(t.layoutNumColumns-T.maxColumnsUsed));let q=0;!t.autoSizeRows&&S&&T.maxRowsUsed<t.layoutNumRows&&(q+=S*(t.layoutNumRows-T.maxRowsUsed-1));const Q=t.processedData&&0===t.processedData.length?b().createElement("div",{className:a},t.globalDisplayTextTriggeredEmpty):null;if(null!==Q)return Q;const oe=(()=>{if(!t.autoSizeColumns&&!t.autoSizeRows){const e=t.layoutNumColumns*t.layoutNumRows;if(e<t.processedData.length)return b().createElement("div",{className:n},"Not enough rows and columns for data. There are ",t.processedData.length," items to display, and only"," ",e," places allocated."," "," See the Display Limit setting in category Layout"," ")}return null})();return null!==oe?oe:b().createElement("div",{className:o},b().createElement("svg",{className:l,width:t.panelWidth,height:t.panelHeight,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:`${R},${F},${t.panelWidth},${t.panelHeight}`},b().createElement("g",{transform:`translate(${W},${q})`},b().createElement(xt,{gradientId:E,data:t.processedData}),t.processedData.map(((e,o)=>{const l=$(o),r=e.sanitizeURLEnabled?e.sanitizedURL:e.clickThrough,a=(e=>{let t="_self";return e.newTabEnabled&&(t="_blank"),e.customClickthroughTargetEnabled&&(t=e.customClickthroughTarget),t})(e);let n;return n=a.length>0&&r.length>0?b().createElement("a",{target:a,href:r},X(o,t.globalShape)):b().createElement("a",{href:r},X(o,t.globalShape)),b().createElement(b().Fragment,null,r.length>0&&n?n:X(o,t.globalShape),((e,o,l)=>{let r=H.labelWithValueTextAlignment;return e.showValue||(r=H.labelOnlyTextAlignment),b().createElement("text",{className:"toplabel",x:l.x+H.labelTextAlignmentX,y:l.y+r,textAnchor:"middle",fontFamily:t.globalTextFontFamily,fontSize:P+"px",style:{fill:t.globalTextFontAutoColorEnabled?t.globalTextFontAutoColor:t.globalTextFontColor,pointerEvents:"none"}},e.showName&&jt(t.globalAutoScaleFonts,t.ellipseEnabled,t.ellipseCharacters,z,j,e.name,e.displayName))})(e,0,l),((e,o,l)=>{let r=H.valueWithLabelTextAlignment;if(t.globalShowTimestampEnabled)switch(isNaN(t.globalShowTimestampYOffset)&&(t.globalShowTimestampYOffset=0),t.globalShowTimestampPosition){case m.ABOVE_VALUE:r=H.valueWithLabelTextAlignment;break;case m.BELOW_VALUE:r=H.timestampAlignment+G,e.isComposite&&e.showValue&&(r=H.timestampAlignment)}let a="";e.isComposite?e.showValue&&(a=Ut(0,e,t.globalDisplayTextTriggeredEmpty)[0]):t.globalShowValueEnabled&&(a=e.valueFormatted);let n=_;return e.isComposite&&(n=M),b().createElement("text",{ref:s[o],className:`valueLabel${o}`,x:l.x+H.labelValueAlignmentX,y:l.y+r,textAnchor:"middle",fontFamily:t.globalTextFontFamily,fontSize:n+"px",style:{fill:t.globalTextFontAutoColorEnabled?t.globalTextFontAutoColor:t.globalTextFontColor,pointerEvents:"none"}},a)})(e,o,l),((e,o,l)=>{isNaN(t.globalShowTimestampYOffset)&&(t.globalShowTimestampYOffset=0);let r=H.timestampAlignment-G+t.globalShowTimestampYOffset;switch(t.globalShowTimestampPosition){case m.ABOVE_VALUE:e.showValue?(r=H.timestampAlignment-G+t.globalShowTimestampYOffset,e.isComposite&&(r=H.timestampAlignment-Y+t.globalShowTimestampYOffset)):r=H.valueWithLabelTextAlignment+t.globalShowTimestampYOffset;break;case m.BELOW_VALUE:r=H.valueWithLabelTextAlignment+t.globalShowTimestampYOffset,e.isComposite&&e.showValue&&(r=M+Y+t.globalShowTimestampYOffset)}return b().createElement("text",{ref:u[o],className:`timestampLabel${o}`,x:l.x+H.labelValueAlignmentX,y:l.y+r,textAnchor:"middle",fontFamily:t.globalTextFontFamily,fontSize:V+"px",style:{fill:t.globalTextFontAutoColorEnabled?t.globalTextFontAutoColor:t.globalTextFontColor,pointerEvents:"none"}},t.globalShowTimestampEnabled&&(e.isComposite?Ut(0,e,t.globalDisplayTextTriggeredEmpty)[1]:e.timestampFormatted))})(e,o,l))})))),t.globalTooltipsEnabled&&b().createElement(y.Portal,null,b().createElement(Ct,{style:{boxShadow:"rgba(1, 4, 9, 0.75) 0px 4px 8px 0px"},id:t.globalTooltipsEnabled?`polystat-tooltip-${E}`:void 0,place:"bottom",float:!0,variant:i,opacity:1,clickable:!1,render:({content:e})=>{if(e){const o=parseInt(e,10);return b().createElement(Lt,{data:t.processedData[o],renderTime:t.renderTime,showTime:t.globalTooltipsShowTimestampEnabled,valueEnabled:t.globalTooltipsShowValueEnabled,tooltipColumnHeadersEnabled:t.globalShowTooltipColumnHeadersEnabled,primarySortByField:t.tooltipPrimarySortByField,primarySortDirection:t.tooltipPrimarySortDirection,secondarySortByField:t.tooltipSecondarySortByField,secondarySortDirection:t.tooltipSecondarySortDirection,displayMode:t.tooltipDisplayMode,tooltipDisplayTextTriggeredEmpty:t.tooltipDisplayTextTriggeredEmpty,tooltipFontFamily:t.globalTooltipsFontFamily})}return b().createElement(b().Fragment,null)}})))},jt=(e,t,o,l,r,a,n)=>(""!==n&&(a=n),l&&a.length>r?a.substring(0,r)+"...":!e&&t&&a.length>o?a.substring(0,o)+"...":a),Ut=(e,o,l)=>{let r=o.valueFormatted,a=o.timestampFormatted;const i=o.members.length;if(i>0){let t=-1;if(o.displayMode===n[0].value)t=e%i;else{if(void 0===o.triggerCache&&(o.triggerCache=(e=>{let t=[];for(let o=0;o<e.members.length;o++){const l=e.members[o];if(l.thresholdLevel>0){const e={index:o,name:l.name,value:l.value,thresholdLevel:l.thresholdLevel};t.push(e)}}return t=(0,v.orderBy)(t,["thresholdLevel","value","name"],["desc","desc","asc"]),t})(o)),!(o.triggerCache.length>0))return[l,""];{const l=e%o.triggerCache.length;t=o.triggerCache[l].index}}const s=Object.assign({},o.members[t]);r=s.name+": "+s.valueFormatted,a=s.timestampFormatted}return[t.textUtil.sanitize(r),a]};function Bt(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Ht(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},l=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),l.forEach((function(t){Bt(e,t,o[t])}))}return e}function Gt(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);o.push.apply(o,l)}return o}(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})),e}function Yt(e){for(let o=0;o<e.fields.length;o++)if(e.fields[o].type===t.FieldType.time)return!0;return!1}function Xt(e,o){let l=[];const r=e.fields.length;for(let o=0;o<r;o++)e.fields[o].type===t.FieldType.string&&l.push(o);let a=function(e,o,l){let r={};for(let a=0;a<o.length;a++){let n=o[a],i=e.fields[n];if(i.type!==t.FieldType.number){let e=Wt(i,l);r[i.name]=e}}return r}(e,l,o);return a}function Wt(e,t){return e.values.toArray()[t]}function qt(e,t){let o=e;const l=e.thresholdLevel,r=t.thresholdLevel;if(void 0===l||void 0===r)return o;if(r>l&&(o=t),3===l)switch(r){case 1:case 2:o=t}return o}function Qt(e,t,o){let l=o;if(null===t)return{thresholdLevel:3,color:"#808080"};let r=-1;if(void 0===e)return{thresholdLevel:r,color:o};const a=e.length;if(0===a)return{thresholdLevel:r,color:o};const n=e[a-1];if(t>=n.value&&(r=n.state,l=n.color),1===e.length)return{thresholdLevel:r,color:l};for(let o=a-1;o>0;o--){const a=e[o],n=e[o-1];n.value<=t&&t<a.value&&r<n.state&&(r=n.state,l=n.color)}return-1===r&&(r=e[0].state,l=e[0].color),{thresholdLevel:r,color:l}}function Kt(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class Jt{static transformSingleMetric(e,t,o){if(isNaN(e))return t;const l=o[e];for(;t.match(this.cellName);)t=t.replace(this.cellName,l.name);for(;t.match(this.cellValue);)t=t.replace(this.cellValue,encodeURIComponent(l.valueFormatted));for(;t.match(this.cellRawValue);)t=t.replace(this.cellRawValue,l.value.toString());return t}static transformNthMetric(e,t){for(;e.match(this.nthCellName);){const o=e.match(this.nthCellName);if(o&&o.length>=2){const l=t[o[1]].name;e=e.replace(this.nthCellName,l)}}for(;e.match(this.nthCellValue);){const o=e.match(this.nthCellValue);if(o&&o.length>=2){const l=t[o[1]].valueFormatted;e=e.replace(this.nthCellValue,encodeURIComponent(l))}}for(;e.match(this.nthCellRawValue);){const o=e.match(this.nthCellRawValue);if(o&&o.length>=2){const l=t[o[1]].value;e=e.replace(this.nthCellRawValue,l.toString())}}return e}static transformComposite(e,t){for(;t.match(this.compositeNameRegex);)t=t.replace(this.compositeNameRegex,e);return t}static transformByRegex(e,o,l){const r=(0,t.stringToJsRegex)(e),a=o.name.match(r);if(a&&a.length>0&&a.forEach(((e,t)=>{const o=a[t],r=`\${${t}}`,n=`$${t}`;l=(l=l.replace(r,o)).replace(n,o)})),a&&a.groups)for(const e in a.groups){const t=a.groups[e],o=`\${${e}}`,r=`$${e}`;l=(l=l.replace(o,t)).replace(r,t)}return l}}Kt(Jt,"cellName",/\${__cell_name}/),Kt(Jt,"cellValue",/\${__cell}/),Kt(Jt,"cellRawValue",/\${__cell:raw}/),Kt(Jt,"nthCellName",/\${__cell_name_(\d+)}/),Kt(Jt,"nthCellValue",/\${__cell_(\d+)}/),Kt(Jt,"nthCellRawValue",/\${__cell_(\d+):raw}/),Kt(Jt,"compositeNameRegex",/\${__composite_name}/);var Zt=c(8531);const eo="##",to=(e,o,l)=>"utc"===e?(0,t.dateTime)(o).utc().format(l):(0,t.dateTime)(o).format(l);function oo(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function lo(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},l=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),l.forEach((function(t){oo(e,t,o[t])}))}return e}function ro(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);o.push.apply(o,l)}return o}(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})),e}const ao=e=>"[object Array]"===Object.prototype.toString.call(e)?e.join(eo):e,no=(e,o,l)=>{const r=[],a=/\$(\w+)|\[\[([\s\S]+?)(?::(\w+))?\]\]|\${(\w+)(?:\.([^:^\}]+))?(?::(\w+))?}/g;return o.forEach((o=>{if(o.seriesMatch){const n=o.seriesMatch.match(a);n&&n.length>0?n.forEach((a=>{const n=l(a,{compositeName:{text:"compositeName",value:e}},ao).split(eo);n&&n.length&&n.forEach((l=>{if(l.includes(e)){const e=o.seriesMatch.replace(a,l),n=(0,t.escapeStringForRegex)(l),i=o.seriesMatch.replace(a,n);r.push(ro(lo({},o),{seriesName:e,seriesNameEscaped:i}))}}))})):r.push(o)}})),r},io=(e,t)=>{const o={};return t.forEach(((e,t)=>{o[t]={text:t,value:e}})),t.groups&&Object.keys(t.groups).forEach((e=>{o[e.replace(/\s+/g,"_")]={text:e,value:t.groups[e]}})),(0,Zt.getTemplateSrv)().replace(e,o)};function so(e,t,o,l){switch(o){case"name":return e;case"last_time":return t?t.timestamp:Date.now();default:return l[o]}}var co,uo;(uo=co||(co={}))[uo.ValueToText=1]="ValueToText",uo[uo.RangeToText=2]="RangeToText";const po=e=>!(!e||!e.value)&&"null"===e.value.toLowerCase();var mo,ho,go,fo,bo,yo,vo;function Eo(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function wo(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},l=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),l.forEach((function(t){Eo(e,t,o[t])}))}return e}(go=mo||(mo={})).Absolute="absolute",go.Percentage="percentage",function(e){e.Thresholds="thresholds",e.PaletteClassic="palette-classic",e.PaletteSaturated="palette-saturated",e.ContinuousGrYlRd="continuous-GrYlRd",e.Fixed="fixed"}(ho||(ho={})),function(e){e.ValueToText="value",e.RangeToText="range",e.RegexToText="regex",e.SpecialValue="special"}(fo||(fo={})),(vo=bo||(bo={})).True="true",vo.False="false",vo.Null="null",vo.NaN="nan",vo.NullAndNaN="null+nan",vo.Empty="empty",function(e){e[e.ValueToText=1]="ValueToText",e[e.RangeToText=2]="RangeToText"}(yo||(yo={}));const To=(e,o)=>{let l=((e,t)=>((e,t)=>{const o=e.reduce(((e,o)=>(1===o.type?e=((e,t,o)=>{if(void 0===t.value)return e;if(null===o&&po(t))return e.concat(t);const l=parseFloat(o),r=parseFloat(t.value);return(isNaN(l)||isNaN(r))&&o===t.value?e.concat(t):l!==r?e:e.concat(t)})(e,o,t):2===o.type&&(e=((e,t,o)=>{if(void 0===t.from||void 0===t.to||void 0===o)return e;if(null===o&&t.from&&t.to&&"null"===t.from.toLowerCase()&&"null"===t.to.toLowerCase())return e.concat(t);const l=parseFloat(o),r=parseFloat(t.from),a=parseFloat(t.to);return isNaN(l)||isNaN(r)||isNaN(a)?e:l>=r&&l<=a?e.concat(t):e})(e,o,t)),e)),[]);return o.sort(((e,t)=>e.id-t.id)),o})(e,t)[0])(e,o);return void 0===l?function(e,o){for(const l of e)switch(l.type){case fo.ValueToText:if(null==o)continue;const e=l.options[o];if(e)return e;break;case fo.RangeToText:if(null==o)continue;const r=parseFloat(o);if(isNaN(r))continue;if(!isNaN(l.options.from)&&r<l.options.from)continue;if(!isNaN(l.options.to)&&r>l.options.to)continue;return l.options.result;case fo.RegexToText:if(null==o)continue;if("string"!=typeof o)continue;const a=(0,t.stringToJsRegex)(l.options.pattern);if(o.match(a)){const e=wo({},l.options.result);return null!=e.text&&(e.text=o.replace(a,l.options.result.text||"")),e}case fo.SpecialValue:switch(l.options.match){case bo.Null:if(null==o)return l.options.result;break;case bo.NaN:if(isNaN(o))return l.options.result;break;case bo.NullAndNaN:if(isNaN(o)||null==o)return l.options.result;break;case bo.True:if(!0===o||"true"===o)return l.options.result;break;case bo.False:if(!1===o||"false"===o)return l.options.result;break;case bo.Empty:if(""===o)return l.options.result}}return null}(e,o):l};function So(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const Co=e=>"[object Array]"===Object.prototype.toString.call(e)?e.join(eo):e,xo=(e,t)=>{const o=[],l=/\$(\w+)|\[\[([\s\S]+?)(?::(\w+))?\]\]|\${(\w+)(?:\.([^:^\}]+))?(?::(\w+))?}/g;return e.forEach((e=>{if(e.metricName){const r=e.metricName.match(l);r&&r.length>0?r.forEach((l=>{t(l,{},Co).split(eo).forEach((t=>{const r=e.metricName.replace(l,t);var a,n;o.push((a=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},l=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),l.forEach((function(t){So(e,t,o[t])}))}return e}({},e),n=null!=(n={metricName:r})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):function(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);o.push.apply(o,l)}return o}(Object(n)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(n,e))})),a))}))})):o.push(e)}})),o},No=(e,o,l)=>{const r=xo(o,l);for(let o=0;o<r.length;o++){const l=r[o],a=(0,t.stringToJsRegex)(l.metricName),n=e.match(a);if(n&&n.length>0&&l.enabled)return r[o]}return null};function Oo(e,o,l,r,a,n,i,s,c,u,d,p,m,h,g,f,b,y,E,w,T,S,C,x,N,O,R,F){let k=function(e){const o=Date.now(),l=[];for(const r of e){const e=Gt(Ht({},r),{meta:Ht({},r.meta),fields:[]}),a=Yt(r);for(const o of r.fields)if(o.type===t.FieldType.number)if(a){const t=Object.assign({},o);o.state&&(t.state=Object.assign({},o.state)),e.fields.push(t)}else{const t=Object.assign({},o),l=t.values.toArray(),a=l.length;for(let n=0;n<a;n++)null!==l[n]&&(o.state&&(t.state=Object.assign({},o.state)),e.fields.push(Gt(Ht({},t),{labels:Xt(r,n),values:[Wt(t,n)]})))}if(a){for(const o of r.fields)if(o.type!==t.FieldType.number){const t=Object.assign({},o);o.state&&(t.state=Object.assign({},o.state)),e.fields.push(t)}}else{const l={},r={name:"Time",type:t.FieldType.time,values:[o],config:l};e.fields.push(r)}l.push(e)}return l}(r.series),A=[];return k.map((e=>{const t=Lo(e,p);for(const e of t)A.push(e)})),A=Ro(A,g),A=Ao(A,n,y,m,f,E,w,T,S,O,F),A=((e,o,l,r,a,n,i,s,c)=>{let u="";if(u=void 0!==c.visualization?c.visualization.getColorByName(r):(0,t.getColorForTheme)(r,s),!e)return o;for(let d=0;d<o.length;d++){const p=No(o[d].name,e,n);if(p){const e=o[d];e.operatorName=p.operatorName;const m=so(e.name,e,e.operatorName,e.stats),h=Qt(p.thresholds&&p.thresholds.length?p.thresholds:a,m,r);let g=h.color;g=void 0!==c.visualization?c.visualization.getColorByName(h.color):(0,t.getColorForTheme)(h.color,s),o[d].value=m,o[d].color=g,o[d].thresholdLevel=h.thresholdLevel;const f=To(l.defaults.mappings,o[d].value);if(f&&""!==f.text){if(o[d].valueFormatted=f.text,f.color){let e=c.visualization.getColorByName(f.color);o[d].color=e}else o[d].color=u;p.showTimestampEnabled&&(o[d].timestampFormatted=to(i,o[d].timestamp,p.showTimestampFormat),o[d].showTimestamp=!0)}else{const e=(0,t.getValueFormat)(p.unitFormat);if(e){const t=+p.decimals,l=e(o[d].value,t,p.scaledDecimals);o[d].valueFormatted=l.text,l.suffix&&(o[d].valueFormatted+=l.suffix),l.prefix&&(o[d].valueFormatted=l.prefix+o[d].valueFormatted),o[d].valueRounded=Mt(o[d].value,t)||o[d].value}p.showTimestampEnabled&&(o[d].timestampFormatted=to(i,o[d].timestamp,p.showTimestampFormat),o[d].showTimestamp=!0)}if(""!==p.prefix&&(o[d].valueFormatted=p.prefix+" "+o[d].valueFormatted),""!==p.suffix&&(o[d].valueFormatted=o[d].valueFormatted+" "+p.suffix),""!==p.alias&&(o[d].displayName=p.alias),o[d].prefix=p.prefix,o[d].suffix=p.suffix,p.clickThrough&&p.clickThrough.length>0){let e=p.clickThrough;e=Jt.transformSingleMetric(d,e,o),e=Jt.transformNthMetric(e,o),e=Jt.transformByRegex(p.metricName,o[d],e),n&&(e=n(e)),o[d].clickThrough=e,o[d].newTabEnabled=p.clickThroughOpenNewTab,o[d].sanitizeURLEnabled=p.clickThroughSanitize,o[d].sanitizedURL=t.textUtil.sanitize(o[d].clickThrough),o[d].customClickthroughTargetEnabled=p.clickThroughCustomTargetEnabled,o[d].customClickthroughTarget=p.clickThroughCustomTarget}}else if(a&&a.length){const e=Qt(a,o[d].value,r);o[d].color=e.color,o[d].thresholdLevel=e.thresholdLevel}}return o})(l,A,n,f,b,a,O,R,F),e&&(A=((e,o,l,r,a,n)=>{if(!e)return o;const i=[],s=[],c=[],u=((e,t)=>{const o=[];return e.forEach((e=>{const l=t(e.name,void 0,ao).split(eo),r=e.name.match(/\$(\w+)|\[\[([\s\S]+?)(?::(\w+))?\]\]|\${(\w+)(?:\.([^:^\}]+))?(?::(\w+))?}/g);r&&r.length>0&&(e.isTemplated=!0),l.forEach((t=>{o.push(ro(lo({},e),{name:t,isTemplated:e.isTemplated}))}))})),o})(e,l);for(let e=0;e<u.length;e++){const r=[],n=u[e];if(!n.showComposite)continue;let p=null;const m=no(n.name,n.metrics,l);for(let e=0;e<m.length;e++){const c=m[e];for(let e=0;e<o.length;e++){if(void 0===c.seriesMatch)continue;let u=c.seriesMatch;void 0!==c.seriesNameEscaped&&(u=c.seriesNameEscaped);const d=(0,t.stringToJsRegex)(u).exec(o[e].name);if(d&&d.length>0){const u=o[e];if(c.alias&&c.alias.length>0&&(u.displayName=io(c.alias,d)),r.push(e),n.showMembers?s.push(e):i.push(e),n.clickThrough&&n.clickThrough.length>0){let r=n.clickThrough;r=Jt.transformComposite(n.name,r),r=Jt.transformSingleMetric(e,r,o),r=Jt.transformNthMetric(r,o),r=l(r),u.clickThrough=r,u.sanitizedURL=t.textUtil.sanitizeUrl(r),u.customClickthroughTarget=n.clickThroughCustomTarget,u.customClickthroughTargetEnabled=n.clickThroughCustomTargetEnabled}n.showTimestampEnabled&&(u.timestampFormatted=to(a,o[e].timestamp,n.showTimestampFormat),u.showTimestamp=!0)}}}if(0!==r.length){for(let e=0;e<r.length;e++){const t=o[r[e]];p=null===p?t:qt(p,t)}if(null!==p){const e={value:(d=p).value,valueFormatted:d.valueFormatted,valueRounded:d.valueRounded,stats:d.stats,name:d.name,displayName:d.displayName,timestamp:d.timestamp,timestampFormatted:d.timestampFormatted,prefix:d.prefix,suffix:d.suffix,color:d.color,clickThrough:d.clickThrough,operatorName:d.operatorName,newTabEnabled:d.newTabEnabled,sanitizedURL:d.sanitizedURL,sanitizeURLEnabled:d.sanitizeURLEnabled,customClickthroughTargetEnabled:!1,customClickthroughTarget:"",showName:d.showName,showValue:d.showValue,showTimestamp:d.showTimestamp,isComposite:d.isComposite,members:[]};e.name=n.name,e.displayName=n.name;for(let t=0;t<r.length;t++){const l=r[t];e.members.push(ro(lo({},o[l]),{name:o[l].displayName||o[l].name}))}e.thresholdLevel=p.thresholdLevel,e.showName=n.showName,e.showValue=n.showValue,e.showTimestamp=n.showTimestampEnabled,e.displayMode=n.displayMode,e.newTabEnabled=n.clickThroughOpenNewTab,e.sanitizeURLEnabled=n.clickThroughSanitize,e.customClickthroughTarget=n.clickThroughCustomTarget,e.customClickthroughTargetEnabled=n.clickThroughCustomTargetEnabled,e.isComposite=!0,c.push(e)}}}var d;r&&n?Array.prototype.push.apply(o,Ro(c,n)):Array.prototype.push.apply(o,c);for(let e=0;e<s.length;e++){const t=s[e],o=i.indexOf(t);o>=0&&i.splice(o,1)}i.sort(((e,t)=>t-e));for(let e=o.length;e>=0;e--)(0,v.includes)(i,e)&&o.splice(e,1);return o})(o,A,a,N,O,g)),A=Fo(A,i,s,c,u,d,a),A=Io(A,h),A=function(e,t,o){if(0===o)return e;const l=o%2==0;switch(Math.ceil(o/2)){case 1:e=(0,v.sortBy)(e,t);break;case 2:e=(0,v.sortBy)(e,(e=>{if(isNaN(e[t])){const o=e[t].match(/.*?(\d+).*/);return!o||o.length<2?-1:parseInt(o[1],10)}return o=e[t],isNaN(o)?o:Number(o);var o}));break;case 3:e=(0,v.sortBy)(e,(e=>{const o=e[t];return isNaN(o)?(0,v.toLower)(e[t]):o}));break;case 4:const o=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});(e=e.slice()).sort(((e,l)=>o.compare(e[t],l[t])))}return l&&(e=e.reverse()),e}(A,x,C),A}const Ro=(e,o)=>{for(let l=0;l<e.length;l++)if(""!==o){const r=(0,t.stringToJsRegex)(o);if(e[l].name&&r.test(e[l].name.toString())){const t=r.exec(e[l].name.toString());if(!t)continue;let o="";t.length>1&&(t.slice(1).forEach(((e,t)=>{e&&(o+=o.length>0?" "+e.toString():e.toString())})),e[l].displayName=o)}}return e},Fo=(e,o,l,r,a,n,i)=>{for(let s=0;s<e.length;s++)0===e[s].clickThrough.length&&(e[s].clickThrough=ko(s,o,e,i),e[s].newTabEnabled=l,e[s].sanitizeURLEnabled=r,e[s].sanitizedURL=t.textUtil.sanitize(e[s].clickThrough),e[s].customClickthroughTargetEnabled=a,e[s].customClickthroughTarget=n);return e},ko=(e,t,o,l)=>{let r=t;return r=Jt.transformSingleMetric(e,r,o),r=Jt.transformNthMetric(r,o),r=l(r),r},Ao=(e,o,l,r,a,n,i,s,c,u,d)=>{let p=d.visualization.getColorByName(a);const m=(0,t.getValueFormat)(l);for(let t=0;t<e.length;t++)if(null!==e[t].value){e[t].showName=n,e[t].showValue=i;const l=To(o.defaults.mappings,e[t].value);if(l&&""!==l.text)if(e[t].valueFormatted=l.text,s&&(e[t].timestampFormatted=to(u,e[t].timestamp,c),e[t].showTimestamp=!0),l.color){let o=d.visualization.getColorByName(l.color);e[t].color=o}else e[t].color=p;else{if(m){const o=Pt(e[t].value,r),l=m(e[t].value,o.decimals,o.scaledDecimals);e[t].valueFormatted=l.text,l.suffix&&(e[t].valueFormatted+=` ${l.suffix}`),l.prefix&&(e[t].valueFormatted=`{$formatted.prefix} ${e[t].valueFormatted}`);const a=Mt(e[t].value,o.decimals);null!==a&&(e[t].valueRounded=a),s&&(e[t].timestampFormatted=to(u,e[t].timestamp,c),e[t].showTimestamp=!0)}e[t].color=p}}return e},Io=(e,t)=>{const o=[],l=[];if("all"!==t){const t=e.length;for(let r=0;r<t;r++){const t=e[r];t.isComposite&&l.push(t),t.thresholdLevel<1&&o.push(r)}for(let t=e.length;t>=0;t--)(0,v.includes)(o,t)&&e.splice(t,1);0===e.length&&l.length>0&&(e=l)}return e},Lo=(e,o)=>{const r=[];let a=0;for(const o of e.fields)if(o.type===t.FieldType.number)r.push(o);else if(o.type===t.FieldType.time){let e=0,t=o.values.length-1;try{e=o.values.get(t)}catch(l){e=o.values[t]}0===a&&(a=e),e>a&&(a=e)}0===a&&(a=(new Date).getTime());const i=[];for(const s of r){const r=(0,t.getFieldDisplayName)(s,e),c=(0,t.reduceField)({field:s,reducers:["bogus"]}),u=so(r,null,o,c);let d=4;void 0!==s.config.decimals&&null!==s.config.decimals&&(d=s.config.decimals);const p=(0,t.getValueFormat)(s.config.unit)(u,d,void 0,void 0),m=(0,t.formattedValueToString)(p),h={displayMode:n[0].value,thresholdLevel:0,value:u,valueFormatted:m,valueRounded:Mt(u,d)||u,stats:c,name:r,displayName:r,timestamp:a,timestampFormatted:"",prefix:"",suffix:"",color:L,clickThrough:"",operatorName:l[0].value,newTabEnabled:!0,sanitizedURL:"",sanitizeURLEnabled:!0,showName:!0,showValue:!0,showTimestamp:!1,isComposite:!1,members:[],customClickthroughTargetEnabled:!1,customClickthroughTarget:""};i.push(h)}return i},Do=e=>({wrapper:O.css`
      position: relative;
    `,container:O.css`
      align-items: center;
      justify-content: center;
      display: flex;
      height: 100%;
      width: 100%;
      & svg > g > polygon {
        fill: transparent;
      }
    `}),$o=[{value:"all",label:"Show All"},{value:"triggered",label:"Show Triggered"}];function Po(e,t,o,l,r,a,n){try{var i=e[a](n),s=i.value}catch(e){return void o(e)}i.done?t(s):Promise.resolve(s).then(l,r)}const _o=e=>{const[t,o]=(0,f.useState)([]);function l(){var t;return t=function*(t){if(e.metric.seriesMatch){const t=e.metric.seriesMatch;if("clipboard"in navigator){if(t)return yield navigator.clipboard.writeText(t)}else if(t)return document.execCommand("copy",!0,t)}},l=function(){var e=this,o=arguments;return new Promise((function(l,r){var a=t.apply(e,o);function n(e){Po(a,l,r,n,i,"next",e)}function i(e){Po(a,l,r,n,i,"throw",e)}n(void 0)}))},l.apply(this,arguments)}return(0,f.useEffect)((()=>{if(e.context.data){const t=e.context.data;let l=[],r=G(t);for(const e of r)l.push({label:e,value:e});o(l)}}),[e.context.data]),b().createElement(y.FieldSet,null,b().createElement(y.HorizontalGroup,null,b().createElement(y.IconButton,{key:"deleteMetric",variant:"destructive",name:"trash-alt",tooltip:"Delete this metric",onClick:()=>e.removeMetric(e.index)}),b().createElement(y.IconButton,{key:"copyMetric",variant:"secondary",name:"copy",tooltip:"Copy Metric/Regex",onClick:()=>function(e){return l.apply(this,arguments)}(e.index)}),b().createElement(y.Field,{label:"Metric/RegEx",id:`cmi-field-index-${e.index}`,style:{minWidth:"175px"},disabled:e.disabled},b().createElement(y.Cascader,{key:`cmi-cascader-index-${e.index}`,initialValue:e.metric.seriesMatch,allowCustomValue:!0,placeholder:"",options:t,onSelect:t=>{return o=t,void e.updateMetric(e.index,o);var o}})),b().createElement(y.Field,{label:"Alias",disabled:e.disabled},b().createElement(y.Input,{value:e.metric.alias,id:`cmi-alias-index-${e.index}`,placeholder:"",onChange:t=>{return o=t.currentTarget.value,void e.updateMetricAlias(e.index,o);var o}}))))};function Mo(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Vo(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},l=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),l.forEach((function(t){Mo(e,t,o[t])}))}return e}function zo(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);o.push.apply(o,l)}return o}(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})),e}const jo=e=>{const[t,o]=(0,f.useState)(e.composite),[l,r]=(0,f.useState)((e=>{const t=$o.keys();for(const o of t)if($o[o].value===e)return $o[o];return $o[0]})(e.composite.displayMode)),a=l=>{o(l),e.setter(t.order,l)},[n]=(0,f.useState)("eye"),[i]=(0,f.useState)("eye-slash"),s=t=>{let o=[...e.composite.metrics];o.splice(t,1),a(zo(Vo({},e.composite),{metrics:o}))},c=(t,o)=>{const l=e.composite.metrics;l[t].seriesMatch=o,a(zo(Vo({},e.composite),{metrics:l}))},u=(t,o)=>{const l=e.composite.metrics;l[t].alias=o,a(zo(Vo({},e.composite),{metrics:l}))};return b().createElement(y.Card,{key:`composite-card-${e.ID}`},b().createElement(y.Card.Meta,null,b().createElement(y.FieldSet,null,b().createElement(y.Field,{label:"Composite Name",description:"Name or Regular Expression",disabled:!t.showComposite},b().createElement(y.Input,{value:t.name,placeholder:"",onChange:e=>a(zo(Vo({},t),{name:e.currentTarget.value}))})),b().createElement(y.Field,{label:"Show Name",description:"Toggle Display of composite name",disabled:!t.showComposite},b().createElement(y.Switch,{transparent:!0,value:t.showName,disabled:!t.showComposite,onChange:()=>{const e=t.showName;a(zo(Vo({},t),{showName:!e}))}})),b().createElement(y.Field,{label:"Show Value",description:"Toggle Display of composite value",disabled:!t.showComposite},b().createElement(y.Switch,{transparent:!0,value:t.showValue,disabled:!t.showComposite,onChange:()=>a(zo(Vo({},t),{showValue:!t.showValue}))})),b().createElement(y.Field,{label:"Show Members",description:"Toggle Display of composite members",disabled:!t.showComposite},b().createElement(y.Switch,{transparent:!0,value:t.showMembers,disabled:!t.showComposite,onChange:()=>a(zo(Vo({},t),{showMembers:!t.showMembers}))})),b().createElement(y.Field,{label:"Display Mode",description:"All will display all members, Triggered will only display those meeting threshold settings",disabled:!t.showComposite},b().createElement(y.Select,{menuShouldPortal:!0,value:l,onChange:e=>{r(e),a(zo(Vo({},t),{displayMode:e.value}))},options:$o})),b().createElement(y.Field,{label:"Clickthrough URL",description:"URL to Open on Click",disabled:!t.showComposite},b().createElement(y.Input,{value:t.clickThrough,placeholder:"https://",onChange:e=>a(zo(Vo({},t),{clickThrough:e.currentTarget.value}))})),b().createElement(y.Field,{label:"Sanitize URL",description:"Sanitize URL before evaluating",disabled:!t.showComposite},b().createElement(y.Switch,{transparent:!1,disabled:!t.showComposite,value:t.clickThroughSanitize,onChange:()=>a(zo(Vo({},t),{clickThroughSanitize:!t.clickThroughSanitize}))})),b().createElement(y.Field,{label:"Open URL in New Tab",description:"Open link in new tab",disabled:!t.showComposite},b().createElement(y.Switch,{transparent:!1,value:t.clickThroughOpenNewTab,disabled:!t.showComposite,onChange:()=>a(zo(Vo({},t),{clickThroughOpenNewTab:!t.clickThroughOpenNewTab}))})),b().createElement(y.Field,{label:"Enable Custom URL Target",description:"Enable custom target",disabled:!t.showComposite,hidden:t.clickThroughOpenNewTab},b().createElement(y.Switch,{transparent:!1,value:t.clickThroughCustomTargetEnabled,disabled:!t.showComposite,onChange:()=>a(zo(Vo({},t),{clickThroughCustomTargetEnabled:!t.clickThroughCustomTargetEnabled,clickThroughCustomTarget:t.clickThroughCustomTarget||""}))})),b().createElement(y.Field,{label:"Custom URL Target",description:"Specify a custom target, typical values are: _blank|_self|_parent|_top|framename",disabled:!t.showComposite,hidden:!t.clickThroughCustomTargetEnabled},b().createElement(y.Input,{value:t.clickThroughCustomTarget,placeholder:"_self",disabled:!t.showComposite,onChange:e=>a(zo(Vo({},t),{clickThroughCustomTarget:e.currentTarget.value}))})),b().createElement(y.Field,{disabled:!t.showComposite},b().createElement(y.Button,{key:"addMetric",variant:"primary",icon:"plus",disabled:!t.showComposite,onClick:()=>{const e={seriesMatch:"",ID:N(),order:0};if(t.metrics){const o=t.metrics;e.order=o.length,o.push(e),a(zo(Vo({},t),{metrics:o}))}else{const o=[];o.push(e),a(zo(Vo({},t),{metrics:o}))}}},"Add Metric")),t.metrics&&t.metrics.map(((o,l)=>(o.ID||(o.ID=N()),b().createElement(_o,{key:`composite-metric-id-${o.ID}`,metric:o,index:l,disabled:!t.showComposite,updateMetric:c,updateMetricAlias:u,removeMetric:s,context:e.context})))))),b().createElement(y.Card.Actions,null,b().createElement(y.IconButton,{key:"moveUp",name:"arrow-up",tooltip:"Move Up",onClick:()=>{e.moveUp(t.order)}}),b().createElement(y.IconButton,{key:"moveDown",name:"arrow-down",tooltip:"Move Down",onClick:()=>{e.moveDown(t.order)}}),b().createElement(y.IconButton,{key:"showComposite",name:t.showComposite?n:i,tooltip:"Hide/Show Composite",onClick:()=>a(zo(Vo({},t),{showComposite:!t.showComposite}))}),b().createElement(y.IconButton,{key:"copyComposite",name:"copy",tooltip:"Duplicate",onClick:()=>{e.createDuplicate(t.order)}}),b().createElement(y.IconButton,{key:"deleteComposite",variant:"destructive",name:"trash-alt",tooltip:"Delete Composite",onClick:()=>{e.remover(t.order)}})))},Uo=({context:e,onChange:t})=>{const[o]=(0,f.useState)(e.options.compositeConfig),[l,r]=(0,f.useState)(e.options.compositeConfig.animationSpeed),[a,n]=(0,f.useState)(e.options.compositeConfig.enabled),[i,s]=(0,f.useState)((()=>{if(o.composites){const e=[];return o.composites.forEach(((t,o)=>{e[o]={composite:t,order:o,ID:N()}})),e}return[]})),c=e=>{s(e);const l=[];e.forEach((e=>{l.push(e.composite)}));const r={composites:l,animationSpeed:o.animationSpeed,enabled:o.enabled};t(r)},[u,d]=(0,f.useState)((()=>{if(!i)return[];let e=i.length;const t=[];for(;e--;)t[e]=!1;return t})),m=(e,t,o)=>{if(o>=e.length){let t=o-e.length+1;for(;t--;)e.push(void 0)}e.splice(o,0,e.splice(t,1)[0])},h=e=>{if(e!==i.length-1){m(i,e,e+1);for(let e=0;e<i.length;e++)i[e].order=e,i[e].composite.order=e;c([...i])}},g=e=>{if(e>0){m(i,e,e-1);for(let e=0;e<i.length;e++)i[e].order=e,i[e].composite.order=e;c([...i])}},v=e=>{const t=i[e].composite,o=i.length,l={composite:{name:`${t.name} Copy`,label:`${t.name} Copy`,order:o,isTemplated:t.isTemplated,displayMode:t.displayMode,enabled:t.enabled,showName:t.showName,showValue:t.showValue,showComposite:t.showComposite,showMembers:t.showMembers,showTimestampEnabled:!1,showTimestampFormat:p[0].value,showTimestampYOffset:0,metrics:t.metrics,clickThrough:t.clickThrough,clickThroughOpenNewTab:t.clickThroughOpenNewTab,clickThroughSanitize:t.clickThroughSanitize,clickThroughCustomTargetEnabled:t.clickThroughCustomTargetEnabled,clickThroughCustomTarget:t.clickThroughCustomTarget},order:o,ID:N()};c([...i,l]),d([...u,!0])},E=(e,t)=>{i[e].composite=t,c([...i])},w=e=>{const t=[...i];let o=0;for(let l=0;l<t.length;l++)if(t[l].order===e){o=l;break}t.splice(o,1);for(let e=0;e<t.length;e++)t[e].order=e;c([...t])};return b().createElement(b().Fragment,null,b().createElement(y.FieldSet,null,b().createElement(y.Field,{label:"Enable Composites",description:"Enable/Disable Composites Globally"},b().createElement(y.Switch,{transparent:!0,value:a,onChange:()=>{return n(e=!a),o.enabled=e,void t(o);var e}})),b().createElement(y.Field,{label:"Animation Speed (ms)",description:"Animation Speed in milliseconds",disabled:!o.enabled},b().createElement(y.Input,{value:l,placeholder:"500",onChange:e=>{return l=e.currentTarget.value,r(l),o.animationSpeed=l,void t(o);var l}}))),b().createElement(y.Button,{fill:"solid",variant:"primary",icon:"plus",disabled:!o.enabled,onClick:()=>{const e=i.length,t={composite:{name:`Composite-${e}`,label:`Composite-${e}`,showName:!0,showValue:!0,showMembers:!1,showComposite:!0,showTimestampEnabled:!1,showTimestampFormat:p[0].value,showTimestampYOffset:0,isTemplated:!1,enabled:!0,metrics:[],displayMode:$o[0].value,clickThrough:"",clickThroughOpenNewTab:!0,clickThroughSanitize:!0,clickThroughCustomTargetEnabled:!1,clickThroughCustomTarget:"",order:e},order:e,ID:N()};c([...i,t]),d([...u,!0])}},"Add Composite"),i&&i.map(((t,o)=>b().createElement(y.Collapse,{key:`collapse-item-index-${t.ID}`,label:t.composite.name,isOpen:u[o],onToggle:()=>(e=>{const t=[...u];t[e]=!t[e],d([...t])})(o),collapsible:!0},b().createElement(jo,{key:`composite-item-index-${t.ID}`,ID:t.ID,composite:t.composite,enabled:t.composite.enabled,setter:E,remover:w,moveUp:g,moveDown:h,createDuplicate:v,context:e})))))},Bo=({context:e,onChange:t})=>{const[o,l]=(0,f.useState)(e.options.globalThresholdsConfig);return b().createElement(b().Fragment,null,b().createElement(y.Field,null,b().createElement(H,{thresholds:o,setter:e=>{l(e),t(e)}})))};var Ho=c(8449);const Go=e=>{switch(e){case"avg":return"mean";case"current":return"last";case"time_step":return"step";case"total":return"sum";default:return e}},Yo=()=>{const e=(0,Ho.coerce)(Zt.config.buildInfo.version);return!(null===e||!(0,Ho.satisfies)(e,"<9.4.0"))},Xo=new t.PanelPlugin((({options:e,data:o,id:l,width:r,height:a,replaceVariables:n,fieldConfig:i,timeZone:s})=>{const c=(0,y.useStyles2)(Do),u=(0,y.useTheme)(),d=(0,y.useTheme2)();let[p,m]=(0,f.useState)();return(0,f.useEffect)((()=>{if(o.state===t.LoadingState.Done){const t=Oo(e.compositeConfig.enabled,e.compositeConfig.composites,e.overrideConfig.overrides,o,n,i,e.globalClickthrough,e.globalClickthroughNewTabEnabled,e.globalClickthroughSanitizedEnabled,e.globalClickthroughCustomTargetEnabled,e.globalClickthroughCustomTarget,e.globalOperator,e.globalDecimals,e.globalDisplayMode,e.globalRegexPattern,e.globalFillColor,e.globalThresholdsConfig,e.globalUnitFormat,!0,e.globalShowValueEnabled,e.globalShowTimestampEnabled,e.globalShowTimestampFormat,e.sortByDirection,e.sortByField,e.compositeGlobalAliasingEnabled,s,u,d);m(t)}}),[o,i,e,n,u,d,s]),void 0===p?b().createElement(b().Fragment,null,"Loading... please wait"):b().createElement("div",{className:(0,O.cx)(c.wrapper,O.css`
          width: ${r}px;
          height: ${a}px;
        `)},b().createElement("div",{className:(0,O.cx)(c.container)},b().createElement(zt,{compositeConfig:e.compositeConfig,overrideConfig:e.overrideConfig,autoSizePolygons:e.autoSizePolygons,globalAutoScaleFonts:e.globalAutoScaleFonts,globalClickthrough:e.globalClickthrough,globalClickthroughNewTabEnabled:e.globalClickthroughNewTabEnabled,globalClickthroughSanitizedEnabled:e.globalClickthroughSanitizedEnabled,globalClickthroughCustomTargetEnabled:e.globalClickthroughCustomTargetEnabled,globalClickthroughCustomTarget:e.globalClickthroughCustomTarget,globalOperator:e.globalOperator,globalDecimals:e.globalDecimals,globalDisplayMode:e.globalDisplayMode,globalDisplayTextTriggeredEmpty:e.globalDisplayTextTriggeredEmpty,globalFontSize:e.globalFontSize,globalPolygonSize:e.globalPolygonSize,ellipseCharacters:e.ellipseCharacters,ellipseEnabled:e.ellipseEnabled,globalFillColor:e.globalFillColor,globalRegexPattern:e.globalRegexPattern,globalGradientsEnabled:e.globalGradientsEnabled,globalShowTimestampEnabled:e.globalShowTimestampEnabled,globalShowTimestampFormat:e.globalShowTimestampFormat,globalShowTimestampPosition:e.globalShowTimestampPosition,globalShowTimestampFontSize:e.globalShowTimestampFontSize,globalShowTimestampYOffset:e.globalShowTimestampYOffset,globalTextFontAutoColor:e.globalTextFontAutoColorEnabled?d.colors.text.primary:"#000000",globalTextFontAutoColorEnabled:e.globalTextFontAutoColorEnabled,globalTextFontColor:e.globalTextFontColor,globalTextFontFamily:e.globalTextFontFamily,globalThresholdsConfig:e.globalThresholdsConfig,globalTooltipsEnabled:e.globalTooltipsEnabled,globalTooltipsShowTimestampEnabled:e.globalTooltipsShowTimestampEnabled,globalTooltipsShowValueEnabled:e.globalTooltipsShowValueEnabled,globalTooltipsFontFamily:e.globalTooltipsFontFamily,globalUnitFormat:e.globalUnitFormat,autoSizeColumns:e.autoSizeColumns,autoSizeRows:e.autoSizeRows,layoutDisplayLimit:e.layoutDisplayLimit,layoutNumColumns:e.layoutNumColumns,layoutNumRows:e.layoutNumRows,processedData:p,panelId:l,panelWidth:r,panelHeight:a,radius:e.radius,renderTime:new Date,globalShape:e.globalShape,sortByDirection:e.sortByDirection,sortByField:e.sortByField,globalPolygonBorderColor:e.globalPolygonBorderColor,globalPolygonBorderSize:e.globalPolygonBorderSize,globalShowValueEnabled:e.globalShowValueEnabled,globalShowTooltipColumnHeadersEnabled:e.globalShowTooltipColumnHeadersEnabled,tooltipPrimarySortDirection:e.tooltipPrimarySortDirection,tooltipPrimarySortByField:e.tooltipPrimarySortByField,tooltipSecondarySortDirection:e.tooltipSecondarySortDirection,tooltipSecondarySortByField:e.tooltipSecondarySortByField,tooltipDisplayMode:e.tooltipDisplayMode,tooltipDisplayTextTriggeredEmpty:e.tooltipDisplayTextTriggeredEmpty,compositeGlobalAliasingEnabled:e.compositeGlobalAliasingEnabled})))})).setMigrationHandler((o=>{if(!o.polystat)return o.options?o.options:{};const l=(t=>{let o={autoSizeColumns:!0,autoSizeRows:!0,autoSizePolygons:!0,ellipseCharacters:18,ellipseEnabled:!1,globalAutoScaleFonts:!0,globalClickthrough:"",globalClickthroughNewTabEnabled:!1,globalClickthroughSanitizedEnabled:!1,globalClickthroughCustomTargetEnabled:!1,globalClickthroughCustomTarget:"",globalDecimals:2,globalDisplayMode:"all",globalDisplayTextTriggeredEmpty:"",globalFillColor:"",globalFontSize:8,globalGradientsEnabled:!1,globalOperator:"mean",globalPolygonBorderSize:1,globalPolygonBorderColor:"",globalPolygonSize:50,globalRegexPattern:"",globalShape:e.HEXAGON_POINTED_TOP,globalShowValueEnabled:!0,globalShowTooltipColumnHeadersEnabled:!0,globalShowTimestampEnabled:!1,globalShowTimestampFormat:p[0].value,globalShowTimestampPosition:h[0].value,globalShowTimestampFontSize:12,globalShowTimestampYOffset:0,globalTextFontColor:"#000000",globalTextFontAutoColor:"#000000",globalTextFontAutoColorEnabled:!1,globalTextFontFamily:i.INTER,globalThresholdsConfig:[],globalTooltipsEnabled:!0,globalTooltipsShowTimestampEnabled:!0,globalTooltipsShowValueEnabled:!0,globalTooltipsFontFamily:i.INTER,globalUnitFormat:"",layoutDisplayLimit:100,layoutNumColumns:8,layoutNumRows:8,panelHeight:void 0,panelWidth:void 0,panelId:0,radius:100,renderTime:void 0,sortByField:"",sortByDirection:0,overrideConfig:{overrides:[]},compositeGlobalAliasingEnabled:!1,compositeConfig:{animationSpeed:"",composites:[],enabled:!1},tooltipPrimarySortDirection:0,tooltipPrimarySortByField:"",tooltipSecondarySortDirection:0,tooltipSecondarySortByField:"",tooltipDisplayMode:"all",tooltipDisplayTextTriggeredEmpty:""};if(t.animationSpeed&&o.compositeConfig&&(o.compositeConfig.animationSpeed=t.animationSpeed.toString()),t.columnAutoSize&&(o.autoSizeColumns=t.columnAutoSize),t.columns){let e=parseInt(t.columns,10);(isNaN(e)||e<1)&&(e=8),o.layoutNumColumns=e}if(t.defaultClickThrough&&(o.globalClickthrough=t.defaultClickThrough),t.defaultClickThroughNewTab&&(o.globalClickthroughNewTabEnabled=t.defaultClickThroughNewTab),t.defaultClickThroughSanitize&&(o.globalClickthroughSanitizedEnabled=t.defaultClickThroughSanitize),t.displayLimit&&(o.layoutDisplayLimit=t.displayLimit),t.ellipseCharacters&&(o.ellipseCharacters=t.ellipseCharacters),t.ellipseEnabled&&(o.ellipseEnabled=t.ellipseEnabled),t.fontAutoColor&&(o.globalTextFontAutoColorEnabled=t.fontAutoColor),t.fontAutoScale&&(o.globalAutoScaleFonts=t.fontAutoScale),t.fontSize&&(o.globalFontSize=t.fontSize),o.globalTextFontFamily=i.INTER,Yo()&&(o.globalTextFontFamily=i.ROBOTO),t.globalDecimals&&(o.globalDecimals=t.globalDecimals),t.globalDisplayMode&&(o.globalDisplayMode=t.globalDisplayMode),t.globalDisplayTextTriggeredEmpty&&(o.globalDisplayTextTriggeredEmpty=t.globalDisplayTextTriggeredEmpty),t.globalOperatorName&&(o.globalOperator=Go(t.globalOperatorName)),t.globalThresholds){o.globalThresholdsConfig=[];for(const e of t.globalThresholds){const t={value:e.value,state:e.state,color:e.color};o.globalThresholdsConfig.push(t)}}if(t.globalUnitFormat&&(o.globalUnitFormat=t.globalUnitFormat),t.gradientEnabled&&(o.globalGradientsEnabled=t.gradientEnabled),t.hexagonSortByDirection&&(o.sortByDirection=t.hexagonSortByDirection),t.hexagonSortByField&&(o.sortByField=t.hexagonSortByField),t.polygonBorderColor&&(o.globalPolygonBorderColor=t.polygonBorderColor),t.polygonBorderSize&&(o.globalPolygonBorderSize=t.polygonBorderSize),t.polygonGlobalFillColor&&(o.globalFillColor=t.polygonGlobalFillColor),t.radius){let e=parseFloat(t.radius);(isNaN(e)||e<0)&&(e=0),o.radius=e}if(t.radiusAutoSize&&(o.autoSizePolygons=t.radiusAutoSize),t.regexPattern&&(o.globalRegexPattern=t.regexPattern),t.rowAutoSize&&(o.autoSizeRows=t.rowAutoSize),t.rows){let e=parseInt(t.rows,10);(isNaN(e)||e<1)&&(e=8),o.layoutNumRows=e}if(t.shape)switch(t.shape){case"circle":o.globalShape=e.CIRCLE;break;case"square":o.globalShape=e.SQUARE;break;default:o.globalShape=e.HEXAGON_POINTED_TOP}return t.tooltipDisplayMode&&(o.tooltipDisplayMode=t.tooltipDisplayMode),t.tooltipDisplayTextTriggeredEmpty&&(o.tooltipDisplayTextTriggeredEmpty=t.tooltipDisplayTextTriggeredEmpty),t.tooltipEnabled&&(o.globalTooltipsEnabled=t.tooltipEnabled),t.tooltipPrimarySortDirection&&(o.tooltipPrimarySortDirection=t.tooltipPrimarySortDirection),t.tooltipPrimarySortField&&(o.tooltipPrimarySortByField=t.tooltipPrimarySortField),t.tooltipSecondarySortDirection&&(o.tooltipSecondarySortDirection=t.tooltipSecondarySortDirection),t.tooltipSecondarySortField&&(o.tooltipSecondarySortByField=t.tooltipSecondarySortField),t.tooltipTimestampEnabled&&(o.globalTooltipsShowTimestampEnabled=t.tooltipTimestampEnabled),o.globalTooltipsFontFamily=i.INTER,Yo()&&(o.globalTooltipsFontFamily=i.ROBOTO),t.valueEnabled&&(o.globalShowValueEnabled=t.valueEnabled),o})(o.polystat);let r=l;delete o.polystat;const a=(e=>{var t;let o={overrideConfig:{overrides:[]}};if(null===(t=e.savedOverrides)||void 0===t?void 0:t.length){let t=0;for(const l of e.savedOverrides){let e={label:"",metricName:"",alias:"",thresholds:[],colors:[],unitFormat:"",decimals:"",scaledDecimals:0,enabled:!0,operatorName:"avg",prefix:"",suffix:"",clickThrough:"",clickThroughSanitize:!0,clickThroughOpenNewTab:!0,clickThroughCustomTargetEnabled:!1,clickThroughCustomTarget:"",order:t,showTimestampEnabled:!1,showTimestampFormat:p[0].value,showTimestampYOffset:0};for(const t of Object.keys(l)){const o=l[t];switch(t){case"$$hashKey":break;case"clickThrough":e.clickThrough=o;break;case"colors":e.colors=o;break;case"decimals":e.decimals=o;break;case"enabled":e.enabled=o;break;case"label":e.label=o;break;case"metricName":e.metricName=o;break;case"newTabEnabled":e.clickThroughOpenNewTab=o;break;case"operatorName":e.operatorName=Go(o);break;case"prefix":e.prefix=o;break;case"sanitizeURLEnabled":e.clickThroughSanitize=o;break;case"suffix":e.suffix=o;break;case"thresholds":e.thresholds=[];for(const t of o){const o={value:t.value,state:t.state,color:t.color};e.thresholds.push(o)}break;case"unitFormat":e.unitFormat=o;break;default:console.log("Ignore override migration:",t,o)}}o.overrideConfig.overrides.push(e),t++}}return o})(o),s=((e,t)=>{var o;let l={};if(l.compositeConfig={composites:[],enabled:!0,animationSpeed:t},null===(o=e.savedComposites)||void 0===o?void 0:o.length){let t=0;for(const o of e.savedComposites){let e={name:`COMPOSITE-${t}`,label:`COMPOSITE-${t}`,order:t,isTemplated:!1,displayMode:n[0].value,enabled:!0,showName:!0,showValue:!0,showComposite:!0,showMembers:!1,showTimestampEnabled:!1,showTimestampFormat:p[0].value,showTimestampYOffset:0,metrics:[],clickThrough:"",clickThroughSanitize:!0,clickThroughOpenNewTab:!0,clickThroughCustomTargetEnabled:!1,clickThroughCustomTarget:""};t++;for(const t of Object.keys(o)){const l=o[t];switch(t){case"$$hashKey":case"displayName":case"sanitizedURL":break;case"animateMode":"all"!==l&&(e.displayMode=n[1].value);break;case"clickThrough":e.clickThrough=l;break;case"compositeName":e.name=l;break;case"enabled":e.showComposite=l;break;case"hideMembers":e.showMembers=!l;break;case"label":e.label=l;break;case"members":let o=0,r=[];for(const e of Object.keys(l)){let t={seriesMatch:l[e].seriesName,order:o};r.push(t),o++}e.metrics=r;break;case"newTabEnabled":e.clickThroughOpenNewTab=l;break;case"sanitizeURLEnabled":e.clickThroughSanitize=l;break;case"showName":e.showName=l;break;case"showValue":e.showValue=l;break;default:console.log("Ignore composite migration:",t,l)}}l.compositeConfig.composites.push(e)}}return l})(o,l.compositeConfig.animationSpeed);r.compositeConfig=s.compositeConfig,r.overrideConfig=a.overrideConfig;const c=(e=>{e.mappingType=1;let o=[];void 0!==e.valueMaps&&(o=(0,t.convertOldAngularValueMappings)(e)),e.mappingType=2;let l=[];void 0!==e.rangeMaps&&(l=(0,t.convertOldAngularValueMappings)(e));const r=o.concat(l);return[...new Map(r.map((e=>[JSON.stringify(e),e]))).values()]})(o);return o.fieldConfig={defaults:{mappings:c},overrides:[]},delete o.mappingType,delete o.rangeMaps,delete o.valueMaps,delete o.savedComposites,delete o.savedOverrides,delete o.colors,Object.keys(o).forEach((e=>void 0===o[e]?delete o[e]:{})),Object.keys(r).forEach((e=>void 0===r[e]?delete r[e]:{})),r})).useFieldConfig({disableStandardOptions:[t.FieldConfigProperty.Thresholds,t.FieldConfigProperty.Color,t.FieldConfigProperty.Decimals,t.FieldConfigProperty.DisplayName,t.FieldConfigProperty.Max,t.FieldConfigProperty.Min,t.FieldConfigProperty.Links,t.FieldConfigProperty.NoValue,t.FieldConfigProperty.Unit],standardOptions:{[t.FieldConfigProperty.Mappings]:{}}}).setPanelOptions((e=>{e.addBooleanSwitch({name:"Auto Size Columns",path:"autoSizeColumns",defaultValue:!0,category:["Layout"],description:"Automatically set columns based on panel size"}).addNumberInput({path:"layoutNumColumns",name:"Columns",description:"Use specific number of columns",defaultValue:8,settings:{placeHolder:"8",min:1,integer:!0},category:["Layout"],showIf:e=>!e.autoSizeColumns}).addBooleanSwitch({name:"Auto Size Rows",path:"autoSizeRows",defaultValue:!0,category:["Layout"],description:"Automatically set rows based on panel size"}).addNumberInput({path:"layoutNumRows",name:"Rows",description:"Use specific number of rows",defaultValue:8,settings:{placeHolder:"8",min:1,integer:!0},category:["Layout"],showIf:e=>!e.autoSizeRows}).addNumberInput({path:"layoutDisplayLimit",name:"Display Limit",description:"Maximum number of polygons to display (0 for unlimited)",defaultValue:100,settings:{min:0,integer:!0},category:["Layout"]}).addBooleanSwitch({name:"Auto Size Polygons",path:"autoSizePolygons",defaultValue:!0,category:["Sizing"],description:"Automatically sets size of polygon for best fit"}).addNumberInput({name:"Polygon Size in pixels",path:"globalPolygonSize",description:"Use specific size for polygons",defaultValue:25,settings:{placeHolder:"Auto",min:1},category:["Sizing"],showIf:e=>!e.autoSizePolygons}).addNumberInput({name:"Border Size",path:"globalPolygonBorderSize",description:"Border size for each polygon",defaultValue:2,settings:{min:0},category:["Sizing"]}).addSelect({path:"globalTextFontFamily",name:"Font Family",description:"Font used for rendered text",category:["Text"],defaultValue:z,settings:{options:s},showIf:()=>!Yo()}).addSelect({path:"globalTextFontFamily",name:"Font Family",description:"Font used for rendered text",category:["Text"],defaultValue:U,settings:{options:d},showIf:()=>Yo()}).addBooleanSwitch({name:"Auto Scale Fonts",path:"globalAutoScaleFonts",defaultValue:!0,category:["Text"],description:"Automatically sets label and value font size based on size of polygon"}).addNumberInput({name:"Font Size",path:"globalFontSize",defaultValue:12,settings:{min:0},category:["Text"],description:"Default font size to use when Auto is disabled",showIf:e=>!e.globalAutoScaleFonts}).addBooleanSwitch({name:"Automate Font Color",path:"globalTextFontAutoColorEnabled",defaultValue:!0,category:["Text"],description:"Sets font color to match theme"}).addColorPicker({name:"Font Color",path:"globalTextFontColor",category:["Text"],defaultValue:"#000000",description:"Font color to use for all text on polygon",showIf:e=>!e.globalTextFontAutoColorEnabled}).addBooleanSwitch({name:"Use Ellipses",path:"ellipseEnabled",defaultValue:!1,category:["Text"],description:"Use Ellipses when character count is exceeded",showIf:e=>!e.globalAutoScaleFonts}).addNumberInput({name:"Ellipse Characters",path:"ellipseCharacters",defaultValue:18,settings:{min:0,integer:!0},category:["Text"],description:"Default number of characters to display before showing ellipses",showIf:e=>e.ellipseEnabled&&!e.globalAutoScaleFonts}).addSelect({path:"sortByDirection",name:"Sort By Direction",description:"Direction of sorting by the specified field",category:["Sorting"],defaultValue:1,settings:{options:r}}).addSelect({path:"sortByField",name:"Sort By Field",description:"Which field should be used for sorting",defaultValue:"name",category:["Sorting"],settings:{options:a}}).addBooleanSwitch({name:"Enable Tooltips",path:"globalTooltipsEnabled",defaultValue:!0,category:["Tooltips"],description:"Provides tooltips for each polygon"}).addSelect({path:"globalTooltipsFontFamily",name:"Font Family",description:"Font used for tooltip text",category:["Tooltips"],defaultValue:j,settings:{options:s},showIf:()=>!Yo()}).addSelect({path:"globalTooltipsFontFamily",name:"Font Family",description:"Font used for tooltip text",category:["Tooltips"],defaultValue:B,settings:{options:d},showIf:()=>Yo()}).addBooleanSwitch({name:"Show Timestamp",path:"globalTooltipsShowTimestampEnabled",defaultValue:!0,category:["Tooltips"],description:"Show timestamp at bottom of tooltip"}).addBooleanSwitch({name:"Show Value",path:"globalTooltipsShowValueEnabled",defaultValue:!0,category:["Tooltips"],description:"Show values in tooltip"}).addBooleanSwitch({name:"Show Column Headers",path:"globalShowTooltipColumnHeadersEnabled",defaultValue:!0,category:["Tooltips"],description:"Show Column headers on tooltip"}).addSelect({path:"tooltipDisplayMode",name:"Display Mode",description:"Show either all metrics/composites or only triggered",defaultValue:"all",category:["Tooltips"],settings:{options:n}}).addTextInput({path:"tooltipDisplayTextTriggeredEmpty",name:"Non Triggered State Text",description:"Text to be displayed by tooltip when there are no triggered thresholds and tooltip display mode is set to triggered",defaultValue:"OK",category:["Tooltips"]}).addSelect({path:"tooltipPrimarySortDirection",name:"Primary Sort Direction",description:"Direction of sorting by the specified field",category:["Tooltips"],defaultValue:r[1].value,settings:{options:r}}).addSelect({path:"tooltipPrimarySortByField",name:"Primary Sort By Field",description:"Which field should be used for sorting",defaultValue:"thresholdLevel",category:["Tooltips"],settings:{options:a}}).addSelect({path:"tooltipSecondarySortDirection",name:"Secondary Sort Direction",description:"Direction of sorting by the specified field",category:["Tooltips"],defaultValue:r[1].value,settings:{options:r}}).addSelect({path:"tooltipSecondarySortByField",name:"Secondary Sort By Field",description:"Which field should be used for sorting",defaultValue:"value",category:["Tooltips"],settings:{options:a}}).addSelect({path:"globalDisplayMode",name:"Display Mode",description:"Show either all metrics/composites or only triggered",defaultValue:"all",category:["Global"],settings:{options:n}}).addTextInput({path:"globalDisplayTextTriggeredEmpty",name:"Non Triggered State Text",description:"Text to be displayed in polygon when there are no triggered thresholds and global display mode is set to triggered",defaultValue:"OK",category:["Global"]}).addBooleanSwitch({name:"Show Value",path:"globalShowValueEnabled",defaultValue:!0,category:["Global"],description:"Show value on the polygon"}).addBooleanSwitch({name:"Show Timestamp",path:"globalShowTimestampEnabled",defaultValue:!1,category:["Global"],description:"Show timestamp of metric on the polygon"}).addSelect({name:"Timestamp Format",path:"globalShowTimestampFormat",description:"Format of timestamp to display",category:["Global"],defaultValue:p[2].value,settings:{options:p,allowCustomValue:!0},showIf:e=>e.globalShowTimestampEnabled}).addNumberInput({name:"Font Size",path:"globalShowTimestampFontSize",defaultValue:12,settings:{min:0},category:["Global"],description:"Default font size to use when Global Auto Scale Fonts is disabled",showIf:e=>!e.globalAutoScaleFonts}).addSelect({name:"Timestamp Position",path:"globalShowTimestampPosition",description:"Position of Timestamp",category:["Global"],defaultValue:h[1].value,settings:{options:h,allowCustomValue:!1},showIf:e=>e.globalShowTimestampEnabled}).addNumberInput({name:"Timestamp Y-Offset",path:"globalShowTimestampYOffset",description:"Adjust the displayed timestamp up or down the Y-Axis, use negative value to move up, positive for down",defaultValue:0,settings:{integer:!0},category:["Global"],showIf:e=>e.globalShowTimestampEnabled}).addSelect({name:"Shape",path:"globalShape",description:"Shape of polygon",category:["Global"],defaultValue:o[0].value,settings:{options:o}}).addBooleanSwitch({name:"Use Color Gradients",path:"globalGradientsEnabled",defaultValue:!0,category:["Global"],description:"Applies gradient color effect to all polygons"}).addColorPicker({name:"Global Fill Color",path:"globalFillColor",category:["Global"],defaultValue:L,description:"Color to use when no overrides or thresholds apply to polygon"}).addColorPicker({name:"Global Border Color",path:"globalPolygonBorderColor",category:["Global"],defaultValue:"rgba(0, 0, 0, 0)",description:"Color of polygon border"}).addUnitPicker({name:"Unit",path:"globalUnitFormat",defaultValue:"short",category:["Global"],description:"Use this unit format when it is not specified in overrides or detected in data"}).addSelect({name:"Stat",path:"globalOperator",description:"Statistic to display",category:["Global"],defaultValue:l[0].value,settings:{options:l}}).addNumberInput({name:"Decimals",path:"globalDecimals",description:"Display specified number of decimals",defaultValue:2,settings:{min:0,integer:!0},category:["Global"]}).addCustomEditor({name:"Global Thresholds",id:"globalThresholdsConfig",path:"globalThresholdsConfig",description:"Default thresholds to be applied to all metrics that do not have an override",editor:Bo,defaultValue:[],category:["Global"]}).addTextInput({name:"Default Clickthrough",path:"globalClickthrough",description:"URL to use when none are defined by overrides or composites",category:["Global"],defaultValue:""}).addBooleanSwitch({name:"Sanitize URL",path:"globalClickthroughSanitizedEnabled",defaultValue:!0,category:["Global"],description:"Sanitizes clickthrough url"}).addBooleanSwitch({name:"Open URL In New Tab",path:"globalClickthroughNewTabEnabled",defaultValue:!0,category:["Global"],description:"Opens clickthrough in a new tab"}).addBooleanSwitch({name:"Enable Custom URL Target",path:"globalClickthroughCustomTargetEnabled",defaultValue:!1,category:["Global"],description:"Use custom target for global clickthrough (this overrides the new tab setting above). Typical values are: _blank|_self|_parent|_top|framename",showIf:e=>!e.globalClickthroughNewTabEnabled}).addTextInput({name:"Custom URL Target",path:"globalClickthroughCustomTarget",description:"Provide a different target to be set in the target attribute of the clickthrough. Typical values are: _blank|_self|_parent|_top|framename",category:["Global"],defaultValue:"",showIf:e=>e.globalClickthroughCustomTargetEnabled}).addTextInput({name:"Global Regex",path:"globalRegexPattern",description:"The values in the specified column are filtered and displayed according to this regular expression. Ex: String: Url|broadcom.com|mirror|location-1 regex: /Url&#92;|(.*?)&#92;|/ Output: broadcom.com",category:["Global Aliasing"],defaultValue:""}).addCustomEditor({name:"Overrides",id:"overrideConfig",path:"overrideConfig",description:"Overrides for multiple metrics",editor:Q,defaultValue:{overrides:[]},category:["Overrides"]}).addBooleanSwitch({name:"Composite Global Aliasing",path:"compositeGlobalAliasingEnabled",defaultValue:!1,description:"Enable / Disable composite global aliasing",category:["Composites"]}).addCustomEditor({name:"Composites",id:"compositeConfig",path:"compositeConfig",description:"Composites allow you to roll up multiple metrics into a single polygon",editor:Uo,defaultValue:{composites:[],enabled:!0,animationSpeed:"1500"},category:["Composites"]})})).setSuggestionsSupplier(new class{getSuggestionsForData(e){const{dataSummary:t}=e;t.hasData&&t.hasNumberField&&e.getListAppender({name:"Polystat",pluginId:"grafana-polystat-panel",options:{}}).append({name:"Polystat"})}})})(),u})()));
//# sourceMappingURL=module.js.map