{"version":3,"file":"module.js","mappings":"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","sources":["webpack://briangann-gauge-panel/../node_modules/.pnpm/lru-cache@6.0.0/node_modules/lru-cache/index.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/classes/comparator.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/classes/range.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/classes/semver.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/clean.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/cmp.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/coerce.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/compare-build.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/compare-loose.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/compare.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/diff.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/eq.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/gt.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/gte.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/inc.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/lt.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/lte.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/major.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/minor.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/neq.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/parse.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/patch.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/prerelease.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/rcompare.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/rsort.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/satisfies.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/sort.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/valid.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/index.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/internal/constants.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/internal/debug.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/internal/identifiers.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/internal/parse-options.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/internal/re.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/ranges/gtr.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/ranges/intersects.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/ranges/ltr.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/ranges/max-satisfying.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/ranges/min-satisfying.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/ranges/min-version.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/ranges/outside.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/ranges/simplify.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/ranges/subset.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/ranges/to-comparators.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/semver@7.5.4/node_modules/semver/ranges/valid.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/yallist@4.0.0/node_modules/yallist/iterator.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/yallist@4.0.0/node_modules/yallist/yallist.js","webpack://briangann-gauge-panel/external amd \"@emotion/css\"","webpack://briangann-gauge-panel/external amd \"@grafana/data\"","webpack://briangann-gauge-panel/external amd \"@grafana/runtime\"","webpack://briangann-gauge-panel/external amd \"@grafana/ui\"","webpack://briangann-gauge-panel/external amd \"d3\"","webpack://briangann-gauge-panel/external amd \"react\"","webpack://briangann-gauge-panel/webpack/bootstrap","webpack://briangann-gauge-panel/webpack/runtime/compat get default export","webpack://briangann-gauge-panel/webpack/runtime/define property getters","webpack://briangann-gauge-panel/webpack/runtime/hasOwnProperty shorthand","webpack://briangann-gauge-panel/webpack/runtime/make namespace object","webpack://briangann-gauge-panel/./components/types.ts","webpack://briangann-gauge-panel/../node_modules/.pnpm/d3-ease@3.0.1/node_modules/d3-ease/src/quad.js","webpack://briangann-gauge-panel/./components/utils.tsx","webpack://briangann-gauge-panel/./components/Gauge.tsx","webpack://briangann-gauge-panel/./components/needle_utils.tsx","webpack://briangann-gauge-panel/./components/GaugePanel.tsx","webpack://briangann-gauge-panel/./components/TickMaps/TickMapItem.tsx","webpack://briangann-gauge-panel/../node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/native.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/rng.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/stringify.js","webpack://briangann-gauge-panel/../node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/v4.js","webpack://briangann-gauge-panel/./components/TickMaps/TickMapEditor.tsx","webpack://briangann-gauge-panel/./module.ts","webpack://briangann-gauge-panel/./migrations.ts","webpack://briangann-gauge-panel/./components/suggestions.ts"],"sourcesContent":["'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n","const ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    comp = comp.trim().split(/\\s+/).join(' ')\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    options = parseOptions(options)\n\n    // Special cases where nothing can possibly be lower\n    if (options.includePrerelease &&\n      (this.value === '<0.0.0-0' || comp.value === '<0.0.0-0')) {\n      return false\n    }\n    if (!options.includePrerelease &&\n      (this.value.startsWith('<0.0.0') || comp.value.startsWith('<0.0.0'))) {\n      return false\n    }\n\n    // Same direction increasing (> or >=)\n    if (this.operator.startsWith('>') && comp.operator.startsWith('>')) {\n      return true\n    }\n    // Same direction decreasing (< or <=)\n    if (this.operator.startsWith('<') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // same SemVer and both sides are inclusive (<= or >=)\n    if (\n      (this.semver.version === comp.semver.version) &&\n      this.operator.includes('=') && comp.operator.includes('=')) {\n      return true\n    }\n    // opposite directions less than\n    if (cmp(this.semver, '<', comp.semver, options) &&\n      this.operator.startsWith('>') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // opposite directions greater than\n    if (cmp(this.semver, '>', comp.semver, options) &&\n      this.operator.startsWith('<') && comp.operator.startsWith('>')) {\n      return true\n    }\n    return false\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst { safeRe: re, t } = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n","// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.format()\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First reduce all whitespace as much as possible so we do not have to rely\n    // on potentially slow regexes like \\s*. This is then stored and used for\n    // future error messages as well.\n    this.raw = range\n      .trim()\n      .split(/\\s+/)\n      .join(' ')\n\n    // First, split on ||\n    this.set = this.raw\n      .split('||')\n      // map the range to a 2d array of comparators\n      .map(r => this.parseRange(r.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${this.raw}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0) {\n        this.set = [first]\n      } else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.format()\n  }\n\n  format () {\n    this.range = this.set\n      .map((comps) => comps.join(' ').trim())\n      .join('||')\n      .trim()\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts =\n      (this.options.includePrerelease && FLAG_INCLUDE_PRERELEASE) |\n      (this.options.loose && FLAG_LOOSE)\n    const memoKey = memoOpts + ':' + range\n    const cached = cache.get(memoKey)\n    if (cached) {\n      return cached\n    }\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range)\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n    debug('tilde trim', range)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n    debug('caret trim', range)\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    let rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n\n    if (loose) {\n      // in loose mode, throw out any that are not valid comparators\n      rangeList = rangeList.filter(comp => {\n        debug('loose invalid filter', comp, this.options)\n        return !!comp.match(re[t.COMPARATORLOOSE])\n      })\n    }\n    debug('range list', rangeList)\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const rangeMap = new Map()\n    const comparators = rangeList.map(comp => new Comparator(comp, this.options))\n    for (const comp of comparators) {\n      if (isNullSet(comp)) {\n        return [comp]\n      }\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has('')) {\n      rangeMap.delete('')\n    }\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\n\nmodule.exports = Range\n\nconst LRU = require('lru-cache')\nconst cache = new LRU({ max: 1000 })\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  safeRe: re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace,\n} = require('../internal/re')\nconst { FLAG_INCLUDE_PRERELEASE, FLAG_LOOSE } = require('../internal/constants')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n// ~0.0.1 --> >=0.0.1 <0.1.0-0\nconst replaceTildes = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceTilde(c, options))\n    .join(' ')\n}\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\n// ^0.0.1 --> >=0.0.1 <0.0.2-0\n// ^0.1.0 --> >=0.1.0 <0.2.0-0\nconst replaceCarets = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceCaret(c, options))\n    .join(' ')\n}\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp\n    .split(/\\s+/)\n    .map((c) => replaceXRange(c, options))\n    .join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<') {\n        pr = '-0'\n      }\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp\n    .trim()\n    .replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp\n    .trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return `${from} ${to}`.trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier, identifierBase) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier, identifierBase)\n        this.inc('pre', identifier, identifierBase)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier, identifierBase)\n        }\n        this.inc('pre', identifier, identifierBase)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre': {\n        const base = Number(identifierBase) ? 1 : 0\n\n        if (!identifier && identifierBase === false) {\n          throw new Error('invalid increment argument: identifier is empty')\n        }\n\n        if (this.prerelease.length === 0) {\n          this.prerelease = [base]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            if (identifier === this.prerelease.join('.') && identifierBase === false) {\n              throw new Error('invalid increment argument: identifier already exists')\n            }\n            this.prerelease.push(base)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          let prerelease = [identifier, base]\n          if (identifierBase === false) {\n            prerelease = [identifier]\n          }\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = prerelease\n            }\n          } else {\n            this.prerelease = prerelease\n          }\n        }\n        break\n      }\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.raw = this.format()\n    if (this.build.length) {\n      this.raw += `+${this.build.join('.')}`\n    }\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","const parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n","const eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n","const SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    let next\n    while ((next = re[t.COERCERTL].exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    re[t.COERCERTL].lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  return parse(`${match[2]}.${match[3] || '0'}.${match[4] || '0'}`, options)\n}\nmodule.exports = coerce\n","const SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n","const compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","const parse = require('./parse.js')\n\nconst diff = (version1, version2) => {\n  const v1 = parse(version1, null, true)\n  const v2 = parse(version2, null, true)\n  const comparison = v1.compare(v2)\n\n  if (comparison === 0) {\n    return null\n  }\n\n  const v1Higher = comparison > 0\n  const highVersion = v1Higher ? v1 : v2\n  const lowVersion = v1Higher ? v2 : v1\n  const highHasPre = !!highVersion.prerelease.length\n  const lowHasPre = !!lowVersion.prerelease.length\n\n  if (lowHasPre && !highHasPre) {\n    // Going from prerelease -> no prerelease requires some special casing\n\n    // If the low version has only a major, then it will always be a major\n    // Some examples:\n    // 1.0.0-1 -> 1.0.0\n    // 1.0.0-1 -> 1.1.1\n    // 1.0.0-1 -> 2.0.0\n    if (!lowVersion.patch && !lowVersion.minor) {\n      return 'major'\n    }\n\n    // Otherwise it can be determined by checking the high version\n\n    if (highVersion.patch) {\n      // anything higher than a patch bump would result in the wrong version\n      return 'patch'\n    }\n\n    if (highVersion.minor) {\n      // anything higher than a minor bump would result in the wrong version\n      return 'minor'\n    }\n\n    // bumping major/minor/patch all have same result\n    return 'major'\n  }\n\n  // add the `pre` prefix if we are going to a prerelease version\n  const prefix = highHasPre ? 'pre' : ''\n\n  if (v1.major !== v2.major) {\n    return prefix + 'major'\n  }\n\n  if (v1.minor !== v2.minor) {\n    return prefix + 'minor'\n  }\n\n  if (v1.patch !== v2.patch) {\n    return prefix + 'patch'\n  }\n\n  // high and low are preleases\n  return 'prerelease'\n}\n\nmodule.exports = diff\n","const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","const SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier, identifierBase) => {\n  if (typeof (options) === 'string') {\n    identifierBase = identifier\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(\n      version instanceof SemVer ? version.version : version,\n      options\n    ).inc(release, identifier, identifierBase).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n","const compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n","const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","const SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n","const SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n","const compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n","const SemVer = require('../classes/semver')\nconst parse = (version, options, throwErrors = false) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    if (!throwErrors) {\n      return null\n    }\n    throw er\n  }\n}\n\nmodule.exports = parse\n","const SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n","const parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n","const compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n","const compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n","const Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n","const compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n","const parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n","// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nconst constants = require('./internal/constants')\nconst SemVer = require('./classes/semver')\nconst identifiers = require('./internal/identifiers')\nconst parse = require('./functions/parse')\nconst valid = require('./functions/valid')\nconst clean = require('./functions/clean')\nconst inc = require('./functions/inc')\nconst diff = require('./functions/diff')\nconst major = require('./functions/major')\nconst minor = require('./functions/minor')\nconst patch = require('./functions/patch')\nconst prerelease = require('./functions/prerelease')\nconst compare = require('./functions/compare')\nconst rcompare = require('./functions/rcompare')\nconst compareLoose = require('./functions/compare-loose')\nconst compareBuild = require('./functions/compare-build')\nconst sort = require('./functions/sort')\nconst rsort = require('./functions/rsort')\nconst gt = require('./functions/gt')\nconst lt = require('./functions/lt')\nconst eq = require('./functions/eq')\nconst neq = require('./functions/neq')\nconst gte = require('./functions/gte')\nconst lte = require('./functions/lte')\nconst cmp = require('./functions/cmp')\nconst coerce = require('./functions/coerce')\nconst Comparator = require('./classes/comparator')\nconst Range = require('./classes/range')\nconst satisfies = require('./functions/satisfies')\nconst toComparators = require('./ranges/to-comparators')\nconst maxSatisfying = require('./ranges/max-satisfying')\nconst minSatisfying = require('./ranges/min-satisfying')\nconst minVersion = require('./ranges/min-version')\nconst validRange = require('./ranges/valid')\nconst outside = require('./ranges/outside')\nconst gtr = require('./ranges/gtr')\nconst ltr = require('./ranges/ltr')\nconst intersects = require('./ranges/intersects')\nconst simplifyRange = require('./ranges/simplify')\nconst subset = require('./ranges/subset')\nmodule.exports = {\n  parse,\n  valid,\n  clean,\n  inc,\n  diff,\n  major,\n  minor,\n  patch,\n  prerelease,\n  compare,\n  rcompare,\n  compareLoose,\n  compareBuild,\n  sort,\n  rsort,\n  gt,\n  lt,\n  eq,\n  neq,\n  gte,\n  lte,\n  cmp,\n  coerce,\n  Comparator,\n  Range,\n  satisfies,\n  toComparators,\n  maxSatisfying,\n  minSatisfying,\n  minVersion,\n  validRange,\n  outside,\n  gtr,\n  ltr,\n  intersects,\n  simplifyRange,\n  subset,\n  SemVer,\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: constants.SEMVER_SPEC_VERSION,\n  RELEASE_TYPES: constants.RELEASE_TYPES,\n  compareIdentifiers: identifiers.compareIdentifiers,\n  rcompareIdentifiers: identifiers.rcompareIdentifiers,\n}\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\n// Max safe length for a build identifier. The max length minus 6 characters for\n// the shortest version with a build 0.0.0+BUILD.\nconst MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\nconst RELEASE_TYPES = [\n  'major',\n  'premajor',\n  'minor',\n  'preminor',\n  'patch',\n  'prepatch',\n  'prerelease',\n]\n\nmodule.exports = {\n  MAX_LENGTH,\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_SAFE_INTEGER,\n  RELEASE_TYPES,\n  SEMVER_SPEC_VERSION,\n  FLAG_INCLUDE_PRERELEASE: 0b001,\n  FLAG_LOOSE: 0b010,\n}\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n","// parse out just the options we care about\nconst looseOption = Object.freeze({ loose: true })\nconst emptyOpts = Object.freeze({ })\nconst parseOptions = options => {\n  if (!options) {\n    return emptyOpts\n  }\n\n  if (typeof options !== 'object') {\n    return looseOption\n  }\n\n  return options\n}\nmodule.exports = parseOptions\n","const {\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_LENGTH,\n} = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst safeRe = exports.safeRe = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nconst safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nconst makeSafeRegex = (value) => {\n  for (const [token, max] of safeRegexReplacements) {\n    value = value\n      .split(`${token}*`).join(`${token}{0,${max}}`)\n      .split(`${token}+`).join(`${token}{1,${max}}`)\n  }\n  return value\n}\n\nconst createToken = (name, value, isGlobal) => {\n  const safe = makeSafeRegex(value)\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n  safeRe[index] = new RegExp(safe, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '\\\\d+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`)\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', `${LETTERDASHNUMBER}+`)\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n","// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n","const Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2, options)\n}\nmodule.exports = intersects\n","const outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin))) {\n      minver = setMin\n    }\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n","const SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst { ANY } = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n","// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let first = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!first) {\n        first = version\n      }\n    } else {\n      if (prev) {\n        set.push([first, prev])\n      }\n      prev = null\n      first = null\n    }\n  }\n  if (first) {\n    set.push([first, null])\n  }\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max) {\n      ranges.push(min)\n    } else if (!max && min === v[0]) {\n      ranges.push('*')\n    } else if (!max) {\n      ranges.push(`>=${min}`)\n    } else if (min === v[0]) {\n      ranges.push(`<=${max}`)\n    } else {\n      ranges.push(`${min} - ${max}`)\n    }\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n","const Range = require('../classes/range.js')\nconst Comparator = require('../classes/comparator.js')\nconst { ANY } = Comparator\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a null set, OR\n// - Every simple range `r1, r2, ...` which is not a null set is a subset of\n//   some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else if in prerelease mode, return false\n//   - else replace c with `[>=0.0.0]`\n// - If C is only the ANY comparator\n//   - if in prerelease mode, return true\n//   - else replace C with `[>=0.0.0]`\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If any C is a = range, and GT or LT are set, return false\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the GT.semver tuple, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the LT.semver tuple, return false\n// - Else return true\n\nconst subset = (sub, dom, options = {}) => {\n  if (sub === dom) {\n    return true\n  }\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub) {\n        continue OUTER\n      }\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull) {\n      return false\n    }\n  }\n  return true\n}\n\nconst minimumVersionWithPreRelease = [new Comparator('>=0.0.0-0')]\nconst minimumVersion = [new Comparator('>=0.0.0')]\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom) {\n    return true\n  }\n\n  if (sub.length === 1 && sub[0].semver === ANY) {\n    if (dom.length === 1 && dom[0].semver === ANY) {\n      return true\n    } else if (options.includePrerelease) {\n      sub = minimumVersionWithPreRelease\n    } else {\n      sub = minimumVersion\n    }\n  }\n\n  if (dom.length === 1 && dom[0].semver === ANY) {\n    if (options.includePrerelease) {\n      return true\n    } else {\n      dom = minimumVersion\n    }\n  }\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=') {\n      gt = higherGT(gt, c, options)\n    } else if (c.operator === '<' || c.operator === '<=') {\n      lt = lowerLT(lt, c, options)\n    } else {\n      eqSet.add(c.semver)\n    }\n  }\n\n  if (eqSet.size > 1) {\n    return null\n  }\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0) {\n      return null\n    } else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<=')) {\n      return null\n    }\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options)) {\n      return null\n    }\n\n    if (lt && !satisfies(eq, String(lt), options)) {\n      return null\n    }\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options)) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  // if the subset has a prerelease, we need a comparator in the superset\n  // with the same tuple and a prerelease, or it's not a subset\n  let needDomLTPre = lt &&\n    !options.includePrerelease &&\n    lt.semver.prerelease.length ? lt.semver : false\n  let needDomGTPre = gt &&\n    !options.includePrerelease &&\n    gt.semver.prerelease.length ? gt.semver : false\n  // exception: <1.2.3-0 is the same as <1.2.3\n  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&\n      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {\n    needDomLTPre = false\n  }\n\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (needDomGTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomGTPre.major &&\n            c.semver.minor === needDomGTPre.minor &&\n            c.semver.patch === needDomGTPre.patch) {\n          needDomGTPre = false\n        }\n      }\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt) {\n          return false\n        }\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (lt) {\n      if (needDomLTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomLTPre.major &&\n            c.semver.minor === needDomLTPre.minor &&\n            c.semver.patch === needDomLTPre.patch) {\n          needDomLTPre = false\n        }\n      }\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt) {\n          return false\n        }\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0) {\n      return false\n    }\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0) {\n    return false\n  }\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0) {\n    return false\n  }\n\n  // we needed a prerelease range in a specific tuple, but didn't get one\n  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,\n  // because it includes prereleases in the 1.2.3 tuple\n  if (needDomGTPre || needDomLTPre) {\n    return false\n  }\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n","const Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n","const Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n","'use strict'\nmodule.exports = function (Yallist) {\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n}\n","'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount, ...nodes) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 0; i < nodes.length; i++) {\n    walker = insert(this, walker, nodes[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  require('./iterator.js')(Yallist)\n} catch (er) {}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__7644__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3305__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3545__;","module.exports = __WEBPACK_EXTERNAL_MODULE__7388__;","module.exports = __WEBPACK_EXTERNAL_MODULE__8200__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2650__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { SelectableValue, ThresholdsConfig } from '@grafana/data';\nimport { TickMapItemType } from './TickMaps/types';\n\nexport interface GaugeOptions {\n  // data: PanelData | undefined;\n  displayFormatted: string;\n  displayValue: number | null;\n  // General\n  operatorName: string;\n  valueYOffset: number;\n\n  // Font Settings\n  valueFont: string;\n  valueFontSize: number;\n  tickLabelFontSize: number;\n  tickFont: string;\n\n  // preset index\n  // presetIndex: number;\n  // Needle Options\n  animateNeedleValueTransition: boolean;\n  animateNeedleValueTransitionSpeed: number;\n  allowNeedleCrossLimits: boolean;\n  needleCrossLimitDegrees: number;\n  markerEndEnabled: boolean;\n  markerEndShape: string;\n  markerStartEnabled: boolean;\n  markerStartShape: string;\n  // limits\n  minValue: number;\n  maxValue: number;\n  // coloring\n  outerEdgeColor: string;\n  innerColor: string;\n  pivotColor: string;\n  needleColor: string;\n  unitsLabelColor: string;\n  tickLabelColor: string;\n  tickMajorColor: string;\n  tickMinorColor: string;\n  // Gauge Radial\n  gaugeRadius: number;\n  pivotRadius: number;\n  padding: number;\n  edgeWidth: number;\n  tickEdgeGap: number;\n  tickLengthMaj: number;\n  tickLengthMin: number;\n  ticknessGaugeBasis: number;\n  tickWidthMajor: number;\n  tickWidthMinor: number;\n  needleWidth: number;\n  needleTickGap: number;\n  needleLengthNeg: number;\n  // Gauge Degrees\n  zeroTickAngle: number;\n  maxTickAngle: number;\n  zeroNeedleAngle: number;\n  maxNeedleAngle: number;\n  // radial\n  tickSpacingMajor: number;\n  tickSpacingMinor: number;\n  // passed in by grafana\n  panelHeight?: any;\n  panelWidth?: any;\n  panelId?: number;\n\n  // tickmaps\n  tickMapConfig: {\n    tickMaps: TickMapItemType[];\n    enabled: boolean;\n  };\n\n  // thresholds\n  showThresholdBandOnGauge: boolean;\n  showThresholdBandLowerRange: boolean;\n  showThresholdBandMiddleRange: boolean;\n  showThresholdBandUpperRange: boolean;\n  //\n  showThresholdStateOnValue: boolean;\n  showThresholdStateOnBackground: boolean;\n  //\n  thresholds: ThresholdsConfig | undefined;\n}\n\n// tslint:disable-next-line\nexport interface GaugeModel {}\n\n\n\nexport enum FontFamilies {\n  ARIAL = 'Arial',\n  HELVETICA = 'Helvetica',\n  HELVETICA_NEUE = 'Helvetica Neue',\n  INTER = 'Inter',\n  ROBOTO = 'Roboto',\n  ROBOTO_MONO = 'Roboto Mono',\n}\n\nexport const FontFamilyOptions: SelectableValue[] = [\n  { value: FontFamilies.ARIAL, label: 'Arial' },\n  { value: FontFamilies.HELVETICA, label: 'Helvetica' },\n  { value: FontFamilies.HELVETICA_NEUE, label: 'Helvetica Neue' },\n  { value: FontFamilies.INTER, label: 'Inter' },\n  { value: FontFamilies.ROBOTO_MONO, label: 'Roboto Mono' },\n];\n\nexport const FontSizes: SelectableValue[] = [\n  { value: 4, label: '4' },\n  { value: 5, label: '5' },\n  { value: 6, label: '6' },\n  { value: 7, label: '7' },\n  { value: 8, label: '8' },\n  { value: 9, label: '9' },\n  { value: 10, label: '10' },\n  { value: 11, label: '11' },\n  { value: 12, label: '12' },\n  { value: 13, label: '13' },\n  { value: 14, label: '14' },\n  { value: 15, label: '15' },\n  { value: 16, label: '16' },\n  { value: 17, label: '17' },\n  { value: 18, label: '18' },\n  { value: 19, label: '19' },\n  { value: 20, label: '20' },\n  { value: 22, label: '22' },\n  { value: 24, label: '24' },\n  { value: 26, label: '26' },\n  { value: 28, label: '28' },\n  { value: 30, label: '30' },\n  { value: 32, label: '32' },\n  { value: 34, label: '34' },\n  { value: 36, label: '36' },\n  { value: 38, label: '38' },\n  { value: 40, label: '40' },\n  { value: 42, label: '42' },\n  { value: 44, label: '44' },\n  { value: 46, label: '46' },\n  { value: 48, label: '48' },\n  { value: 50, label: '50' },\n  { value: 52, label: '52' },\n  { value: 54, label: '54' },\n  { value: 56, label: '56' },\n  { value: 58, label: '58' },\n  { value: 60, label: '60' },\n  { value: 62, label: '62' },\n  { value: 64, label: '64' },\n  { value: 66, label: '66' },\n  { value: 68, label: '68' },\n  { value: 70, label: '70' },\n];\n\nexport const OperatorOptions: SelectableValue[] = [\n  { value: 'mean', label: 'Mean (avg)' },\n  { value: 'sum', label: 'Sum' },\n  { value: 'min', label: 'Min' },\n  { value: 'max', label: 'Max' },\n  { value: 'last', label: 'Last' },\n  { value: 'lastNotNull', label: 'Last Not Null' },\n  { value: 'first', label: 'First' },\n  { value: 'firstNotNull', label: 'First Not Null' },\n  { value: 'count', label: 'Count' },\n  { value: 'allIsNull', label: 'All Is Null (boolean)' },\n  { value: 'allIsZero', label: 'All Is Zero (boolean)' },\n  { value: 'delta', label: 'Delta' },\n  { value: 'diff', label: 'Difference' },\n  { value: 'diffperc', label: 'Difference (Percent)' },\n  { value: 'last_time', label: 'Time of Last Point' },\n  { value: 'logmin', label: 'Log Min' },\n  { value: 'name', label: 'Name' },\n  { value: 'nonNullCount', label: 'Non Null Count' },\n  { value: 'previousDeltaUp', label: 'Previous Delta Up' },\n  { value: 'range', label: 'Range' },\n  { value: 'step', label: 'Step' },\n];\n\n\nexport interface MarkerType {\n  id: number;\n  name: string;\n  path: string;\n  viewBox: string;\n}\nexport const Markers: MarkerType[] = [\n  { id: 0, name: 'arrow', path: 'M 0,0 m -5,-5 L 5,0 L -5,5 Z', viewBox: '-5 -5 10 10' },\n  { id: 1, name: 'circle', path: 'M 0, 0  m -5, 0  a 5,5 0 1,0 10,0  a 5,5 0 1,0 -10,0', viewBox: '-6 -6 12 12' },\n  { id: 2, name: 'square', path: 'M 0,0 m -5,-5 L 5,-5 L 5,5 L -5,5 Z', viewBox: '-5 -5 10 10' },\n  { id: 3, name: 'stub', path: 'M 0,0 m -1,-5 L 1,-5 L 1,5 L -1,5 Z', viewBox: '-1 -5 2 10' },\n  { id: 4, name: 'arrow-inverse', path: 'M 0,0 m 5,5 L -5,0 L 5,-5 Z', viewBox: '-5 -5 10 10' },\n];\n\n/*\nexport const MarkerStartShapes = [\n  { id: 0, name: 'circle' },\n  { id: 1, name: 'square' },\n  { id: 2, name: 'stub' },\n];\n\nexport const MarkerEndShapes = [\n  { id: 0, name: 'arrow' }\n];\n*/\n\nexport const MarkerOptions: SelectableValue[] = [\n  { value: 'arrow', label: 'arrow' },\n  { value: 'circle', label: 'circle' },\n  { value: 'square', label: 'square' },\n  { value: 'stub', label: 'stub' },\n  { value: 'arrow-inverse', label: 'arrow-inverse' },\n];\n\nexport interface ExpandedThresholdBand {\n  index: number;\n  min: number;\n  max: number;\n  color: string;\n}\n\nexport interface GaugePresetType {\n  id: number;\n  name: string;\n  faceColor: string;\n}\n\nexport const GaugePresetOptions: GaugePresetType[] = [\n  { id: 0, name: 'Default', faceColor: '#FFFFFF' },\n  { id: 1, name: 'Red', faceColor: '#FF0000' },\n  { id: 2, name: 'Compass', faceColor: '#00F0FF' },\n];\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","\nimport React from 'react';\nimport { arc, line } from 'd3';\nimport { GaugeOptions, MarkerType, Markers } from './types';\nimport { GrafanaTheme2 } from '@grafana/data';\n\n\nexport const dToR = (angleDeg: any) => {\n  // Turns an angle in degrees to radians\n  const angleRad = angleDeg * (Math.PI / 180);\n  return angleRad;\n};\n\nexport interface ValueToDegreesOptions {\n  minValue: number;\n  maxValue: number;\n  zeroTickAngle: number;\n  maxTickAngle: number;\n}\n\nexport interface ValueToRadiansOptions {\n  minValue: number;\n  maxValue: number;\n  zeroTickAngle: number;\n  maxTickAngle: number;\n}\n\nexport const valueToDegrees = (value: number, options: ValueToDegreesOptions) => {\n  // example: degree range is from 60 to 300 (240)  maxTickAngle - zeroTickAngle\n  const degreeRange = options.maxTickAngle - options.zeroTickAngle;\n  const range = options.maxValue - options.minValue;\n  const min = options.minValue;\n  return (value / range) * degreeRange - ((min / range) * degreeRange + options.zeroTickAngle);\n};\n\nexport const valueToRadians = (value: number, options: ValueToRadiansOptions) => {\n  const opts: ValueToDegreesOptions = {\n    minValue: options.minValue,\n    maxValue: options.maxValue,\n    zeroTickAngle: options.zeroTickAngle,\n    maxTickAngle: options.maxTickAngle\n  };\n  return (valueToDegrees(value, opts) * Math.PI) / 180;\n};\n\n// Define functions to calculate the positions of the labels for the tick marks\nexport const labelXCalc = (position: number, maxLabelLength: number, labelText: string, labelFontSize: number, labelStart: number, originX: number) => {\n  const tickAngle = position + 90;\n  const tickAngleRad = dToR(tickAngle);\n  // the max length of digits needs to be used for proper alignment\n  const labelW = labelFontSize / (labelText.length + maxLabelLength / 2);\n  const x1 = originX + (labelStart - labelW) * Math.cos(tickAngleRad);\n  return x1;\n};\n\nexport const labelYCalc = (position: number, labelFontSize: number, labelStart: number, originY: number) => {\n  const tickAngle = position + 90;\n  const tickAngleRad = dToR(tickAngle);\n  const y1 = originY + labelStart * Math.sin(tickAngleRad) + labelFontSize / 2;\n  return y1;\n};\n\nexport const drawBand = (start: number, end: number, color: string, originX: number, originY: number, options: GaugeOptions, theme2: GrafanaTheme2) => {\n  if (0 >= end - start) {\n    return;\n  }\n  const anArc = arc();\n  const vToROptions: ValueToRadiansOptions = {\n    minValue: options.minValue,\n    maxValue: options.maxValue,\n    zeroTickAngle: options.zeroTickAngle,\n    maxTickAngle: options.maxTickAngle\n  };\n  const xc = anArc({\n    innerRadius: 0.7 * options.gaugeRadius,\n    outerRadius: 0.85 * options.gaugeRadius,\n    startAngle: valueToRadians(start, vToROptions),\n    endAngle: valueToRadians(end, vToROptions),\n  });\n\n  return (\n    <>\n      {xc &&\n        <path\n          fill={theme2.visualization.getColorByName(color)}\n          d={xc || ''}\n          transform={`translate(${originX},${originY}) rotate(${options.maxTickAngle})`}\n        />\n      }\n    </>\n  );\n};\n\nexport const needleCalc = (degree: number, originX: number, originY: number, needlePathStart: number, needlePathLength: number) => {\n  let path = '';\n  const nAngleRad = dToR(degree + 90);\n  const y1 = originY + needlePathStart * Math.sin(nAngleRad);\n  const y2 = originY + (needlePathStart + needlePathLength) * Math.sin(nAngleRad);\n  const x1 = originX + needlePathStart * Math.cos(nAngleRad);\n  const x2 = originX + (needlePathStart + needlePathLength) * Math.cos(nAngleRad);\n  const lineSVG = line()([\n    [x1, y1],\n    [x2, y2],\n  ]);\n  if (lineSVG) {\n    path = lineSVG;\n  }\n  return path;\n};\n\nexport const createNeedleMarkers = (needleColor: string, theme2: GrafanaTheme2) => {\n  return (\n    <defs>\n      {Markers.map((item: MarkerType) => {\n        return (\n          <marker\n            key={item.name}\n            id={`marker_${item.name}`}\n            viewBox={item.viewBox}\n            refX={0}\n            refY={0}\n            markerWidth={3}\n            markerHeight={3}\n            markerUnits={'strokeWidth'}\n            orient={'auto'} >\n            <path d={item.path} fill={theme2.visualization.getColorByName(needleColor)} />\n          </marker>\n        );\n      })}\n    </defs>\n  );\n};\n","import React, { useEffect, useRef, useState } from 'react';\n\nimport { useStyles2, useTheme2 } from '@grafana/ui';\nimport { css } from '@emotion/css';\nimport { getActiveThreshold, GrafanaTheme2, Threshold, sortThresholds } from '@grafana/data';\n\nimport { ExpandedThresholdBand, GaugeOptions, Markers } from './types';\nimport { scaleLinear, line, interpolateString, select } from 'd3';\nimport { easeQuadIn } from 'd3-ease';\n\nimport { createNeedleMarkers, dToR, drawBand, labelXCalc, labelYCalc, needleCalc } from './utils';\nimport { getNeedleAngleMaximum, getNeedleAngleMinimum } from './needle_utils';\n\nexport const Gauge: React.FC<GaugeOptions> = (options) => {\n  // pull in styles\n  const divStyles = useStyles2(getWrapperStyles);\n  const svgStyles = useStyles2(getSVGStyles);\n  // need a Ref to the needle to update it\n  const needleRef = useRef<SVGPathElement>(null);\n  // keeps the previous value, initially it is the same, this is used for animation\n  const [previousNeedleValue, setPreviousNeedleValue] = useState(options.displayValue);\n  const [currentNeedleValue, setCurrentNeedleValue] = useState(options.displayValue);\n  // pull in theme reference\n  const theme2 = useTheme2();\n\n  // if (options.processedData && options.processedData.length === 0) {\n  //   return <div className={noTriggerTextStyles}>{options.globalDisplayTextTriggeredEmpty}</div>;\n  // }\n  const [needlePathLength, setNeedlePathLength] = useState(0);\n  const [needlePathStart, setNeedlePathStart] = useState(0);\n  const [tickStartMaj, setTickStartMaj] = useState(0);\n  const [tickStartMin, setTickStartMin] = useState(0);\n  const [labelStart, setLabelStart] = useState(0);\n  const [tickAnglesMaj, setTickAnglesMaj] = useState<number[]>([]);\n  const [tickAnglesMin, setTickAnglesMin] = useState<number[]>([]);\n  const [margin, setMargin] = useState({ top: 0, right: 0, bottom: 0, left: 0 });\n  const [tickMajorLabels, setTickMajorLabels] = useState<string[]>([]);\n  //\n  const SVGSize = options.gaugeRadius * 2;\n  // needle calc\n  const needleWidth = options.needleWidth * (options.gaugeRadius / options.ticknessGaugeBasis);\n  const needleLengthNegCalc = options.gaugeRadius * options.needleLengthNeg;\n  // tick calc\n  const tickWidthMajorCalc = options.tickWidthMajor * (options.gaugeRadius / options.ticknessGaugeBasis);\n  const tickWidthMinorCalc = options.tickWidthMinor * (options.gaugeRadius / options.ticknessGaugeBasis);\n  // edge calc\n  const outerEdgeRadius = options.gaugeRadius - options.padding;\n  const innerEdgeRadius = options.gaugeRadius - options.padding - options.edgeWidth;\n  // center of gauge\n  const originX = options.gaugeRadius;\n  const originY = options.gaugeRadius;\n  let needleElement: React.JSX.Element | null = null;\n\n  /*\n  useEffect(() => {\n    console.log(`presetIndex set to ${options.presetIndex}`);\n    options.innerColor = GaugePresetOptions[options.presetIndex].faceColor;\n  }, [options]);\n  */\n\n  useEffect(() => {\n\n    const generateTickMajorLabels = (majorDegree: number) => {\n      //\n      // Calculate major tick mark label text\n      let counter = 0;\n      const tickLabelText: string[] = [];\n      for (let k = options.zeroTickAngle; k <= options.maxTickAngle; k = k + majorDegree) {\n        const tickValue = options.minValue + options.tickSpacingMajor * counter;\n        const parts = options.tickSpacingMajor.toString().split('.');\n        let tickText = tickValue.toString();\n        if (parts.length > 1) {\n          tickText = Number(tickValue).toFixed(parts[1].length).toString();\n        }\n        // check if there are tickMaps that apply\n        const tickTextFloat = parseFloat(tickText);\n        for (const aTickMap of options.tickMapConfig.tickMaps) {\n          if (parseFloat(aTickMap.value) === tickTextFloat) {\n            tickText = aTickMap.text;\n            break;\n          }\n        }\n        tickLabelText.push(tickText);\n        counter++;\n      }\n      return ({ genTickMajorLabels: tickLabelText });\n    };\n\n    const generateTickAngles = (majorDegree: number, minorDegree: number) => {\n      const majorAngles = [];\n      let counter = 0;\n      for (let i = options.zeroTickAngle; i <= options.maxTickAngle; i = i + majorDegree) {\n        const tickAngle = options.zeroTickAngle + majorDegree * counter;\n        // check if this is the \"end\" of a full circle, and skip the last tick marker\n        if (tickAngle - options.zeroTickAngle < 360) {\n          majorAngles.push(options.zeroTickAngle + majorDegree * counter);\n        }\n        counter++;\n      }\n      const minorAngles = [];\n      counter = 0;\n      for (let j = options.zeroTickAngle; j <= options.maxTickAngle; j = j + minorDegree) {\n        // Check for an existing major tick angle\n        let exists = 0;\n        majorAngles.forEach((d: any) => {\n          if (options.zeroTickAngle + minorDegree * counter === d) {\n            exists = 1;\n          }\n        });\n        if (exists === 0) {\n          minorAngles.push(options.zeroTickAngle + minorDegree * counter);\n        }\n        counter++;\n      }\n      return ({ tickMaj: majorAngles, tickMin: minorAngles });\n    };\n\n    const needleLenPosCalc =\n      options.gaugeRadius - options.padding -\n      options.edgeWidth - options.tickEdgeGap -\n      options.tickLengthMaj - (options.needleTickGap * options.gaugeRadius);\n    setNeedlePathLength(needleLengthNegCalc + needleLenPosCalc);\n    setNeedlePathStart(needleLengthNegCalc * -1);\n    const tickStartMajor = options.gaugeRadius - options.padding -\n      options.edgeWidth - options.tickEdgeGap - options.tickLengthMaj;\n    setTickStartMaj(tickStartMajor);\n    const tickStartMinor = options.gaugeRadius - options.padding -\n      options.edgeWidth - options.tickEdgeGap - options.tickLengthMin;\n    setTickStartMin(tickStartMinor);\n    const tmpTickLabelFontSize = scaleLabelFontSize(\n      options.tickLabelFontSize,\n      options.gaugeRadius,\n      options.ticknessGaugeBasis);\n\n    setLabelStart(tickStartMajor - tmpTickLabelFontSize);\n\n    if (options.tickSpacingMajor === undefined) {\n      options.tickSpacingMajor = 10;\n    }\n    if (options.tickSpacingMinor === undefined) {\n      options.tickSpacingMinor = 1;\n    }\n    const valueScale = scaleLinear()\n      .domain([options.minValue, options.maxValue])\n      .range([options.zeroTickAngle, options.maxTickAngle]);\n\n    const scaleZero = valueScale(0) || 0;\n    const majorA = valueScale(options.tickSpacingMajor) || 10;\n    const tickSpacingMajDeg = majorA - scaleZero;\n\n    const minorA = valueScale(options.tickSpacingMinor) || 1;\n    const tickSpacingMinDeg = minorA - scaleZero;\n\n    // tick angles\n    const { tickMaj, tickMin } = generateTickAngles(tickSpacingMajDeg, tickSpacingMinDeg);\n    if (JSON.stringify(tickAnglesMaj) !== JSON.stringify(tickMaj)) {\n      setTickAnglesMaj(tickMaj);\n    }\n    if (JSON.stringify(tickAnglesMin) !== JSON.stringify(tickMin)) {\n      setTickAnglesMin(tickMin);\n    }\n\n    // labels for major ticks\n    const { genTickMajorLabels } = generateTickMajorLabels(tickSpacingMajDeg);\n    if (JSON.stringify(tickMajorLabels) !== JSON.stringify(genTickMajorLabels)) {\n      setTickMajorLabels(genTickMajorLabels);\n    }\n\n  }, [tickAnglesMaj, tickAnglesMin, options, tickMajorLabels, needleLengthNegCalc]);\n\n  const scaleLabelFontSize = (fontSize: number, radius: number, ticknessGaugeBasis: number) => {\n    let scaledFontSize = fontSize * (radius / ticknessGaugeBasis);\n    if (scaledFontSize < 4) {\n      scaledFontSize = 0;\n    }\n    return scaledFontSize;\n  };\n\n  const createCircleGroup = () => {\n    let gaugeFaceColor = options.innerColor;\n    // the innerColor gets change to the state if the user has selected this option\n    if (options.showThresholdStateOnBackground) {\n      if (options.displayValue && options.thresholds) {\n        const aThreshold = getActiveThreshold(options.displayValue, options.thresholds.steps);\n        gaugeFaceColor = aThreshold.color;\n      }\n    }\n    return (\n      <g id='circles'>\n        <circle cx={originX} cy={originY} r={outerEdgeRadius} fill={theme2.visualization.getColorByName(options.outerEdgeColor)} stroke='none'></circle>\n        <circle cx={originX} cy={originY} r={innerEdgeRadius} fill={theme2.visualization.getColorByName(gaugeFaceColor)} stroke='none'></circle>\n        <circle cx={originX} cy={originY} r={options.pivotRadius} fill={theme2.visualization.getColorByName(options.pivotColor)} stroke='none'></circle>\n      </g>\n    );\n  };\n\n\n  const createMajorTickLabels = () => {\n    let maxLabelLength = 0;\n    for (const item in tickMajorLabels) {\n      if (item.length > maxLabelLength) {\n        maxLabelLength = item.length;\n      }\n    }\n    const tmpTickLabelFontSize = scaleLabelFontSize(\n      options.tickLabelFontSize,\n      options.gaugeRadius,\n      options.ticknessGaugeBasis);\n\n    return (\n      <g id='majorTickLabels'>\n        {tickAnglesMaj.length > 0 && tickAnglesMaj.map((item: number, index: number) => {\n          const labelText = tickMajorLabels[index];\n          return (\n            <text\n              key={`mtl_${index}`}\n              x={labelXCalc(item, maxLabelLength, labelText, tmpTickLabelFontSize, labelStart, originX) || 0}\n              y={labelYCalc(item, tmpTickLabelFontSize, labelStart, originY) || 0}\n              fontSize={tmpTickLabelFontSize || 12}\n              textAnchor='middle'\n              fill={theme2.visualization.getColorByName(options.tickLabelColor) || '#000000'}\n              fontWeight={'bold'}\n              fontFamily={options.tickFont || 'Inter'}>\n              {labelText}\n            </text>\n          );\n        })}\n      </g>\n    );\n  };\n\n  const createNeedle = () => {\n    const pathNeedle = needleCalc(options.zeroNeedleAngle, originX, originY, needlePathStart, needlePathLength);\n    const markerEndShape = Markers.find(e => e.name === options.markerEndShape) || Markers[0];\n    const markerStartShape = Markers.find(e => e.name === options.markerStartShape) || Markers[1];\n    return (\n      <g id='needle'>\n        {pathNeedle.length > 0 && (\n          <>\n            <path\n              ref={needleRef}\n              d={pathNeedle}\n              markerEnd={options.markerEndEnabled ? 'url(#marker_' + markerEndShape.name + ')' : undefined}\n              markerStart={options.markerStartEnabled ? 'url(#marker_' + markerStartShape.name + ')' : undefined}\n              markerHeight={6}\n              markerWidth={6}\n              strokeLinecap='round'\n              stroke={theme2.visualization.getColorByName(options.needleColor)}\n              strokeWidth={needleWidth + 'px'}\n            />\n          </>\n        )}\n      </g>\n    );\n  };\n\n\n  const createTicks = () => {\n    const pathTicksMajor = tickCalcMaj(tickAnglesMaj);\n    const pathTicksMinor = tickCalcMin(tickAnglesMin);\n    return (\n      <g id='ticks'>\n        <g id='minorTickMarks'>\n          {pathTicksMinor.length > 0 && pathTicksMinor.map((d: string) => {\n            return (\n              <>\n                <path d={d} stroke={theme2.visualization.getColorByName(options.tickMinorColor)} strokeWidth={tickWidthMinorCalc + 'px'} />\n              </>\n            );\n          })}\n        </g>\n        <g id='majorTickMarks'>\n          {pathTicksMajor.length > 0 && pathTicksMajor.map((d: string) => {\n            return (\n              <>\n                <path d={d} stroke={theme2.visualization.getColorByName(options.tickMajorColor)} strokeWidth={tickWidthMajorCalc + 'px'} />\n              </>\n            );\n          })}\n        </g>\n      </g>\n    );\n  };\n\n  const tickCalcMin = (degrees: number[]) => {\n    const paths: string[] = [];\n    for (const degree of degrees) {\n      // Offset the tick mark angle so zero is vertically down, then convert to radians\n      const tickAngle = degree + 90;\n      const tickAngleRad = dToR(tickAngle);\n      const y1 = originY + tickStartMin * Math.sin(tickAngleRad);\n      const y2 = originY + (tickStartMin + options.tickLengthMin) * Math.sin(tickAngleRad);\n      const x1 = originX + tickStartMin * Math.cos(tickAngleRad);\n      const x2 = originX + (tickStartMin + options.tickLengthMin) * Math.cos(tickAngleRad);\n      const lineSVG = line()([\n        [x1, y1],\n        [x2, y2],\n      ]);\n      if (lineSVG) {\n        paths.push(lineSVG);\n      }\n    }\n    return paths;\n  };\n\n  const tickCalcMaj = (degrees: number[]) => {\n    const paths: string[] = [];\n    for (const degree of degrees) {\n      // Offset the tick mark angle so zero is vertically down, then convert to radians\n      const tickAngle = degree + 90;\n      const tickAngleRad = dToR(tickAngle);\n      const y1 = originY + tickStartMaj * Math.sin(tickAngleRad);\n      const y2 = originY + (tickStartMaj + options.tickLengthMaj) * Math.sin(tickAngleRad);\n      const x1 = originX + tickStartMaj * Math.cos(tickAngleRad);\n      const x2 = originX + (tickStartMaj + options.tickLengthMaj) * Math.cos(tickAngleRad);\n      // Use a D3.JS path generator\n      const lineSVG = line()([\n        [x1, y1],\n        [x2, y2],\n      ]);\n      if (lineSVG) {\n        paths.push(lineSVG);\n      }\n    }\n    return paths;\n  };\n\n  const createValueLabel = (color: string) => {\n    const position = 0;\n    const valueFontSize = scaleLabelFontSize(options.valueFontSize, options.gaugeRadius, options.ticknessGaugeBasis);\n    return (\n      <g id='valueLabels'>\n        <text\n          x={labelXCalc(position, 0, options.displayFormatted, valueFontSize, labelStart, originX)}\n          y={labelYCalc(position, valueFontSize, labelStart, originY) + options.valueYOffset}\n          fontSize={valueFontSize}\n          textAnchor='middle'\n          fill={theme2.visualization.getColorByName(color)}\n          fontWeight={'bold'}\n          fontFamily={options.valueFont}\n        >\n          {options.displayFormatted}\n        </text>\n      </g>\n    );\n  };\n\n  const getLowerBand = (sorted: Threshold[]) => {\n    const numBands = sorted.length;\n    if (numBands === 0) {\n      return undefined;\n    }\n    // if there is just one threshold\n    let nextThresholdValue = options.maxValue;\n    if (numBands > 1) {\n      nextThresholdValue = sorted[1].value;\n    }\n    if (nextThresholdValue === Infinity) {\n      nextThresholdValue = options.maxValue;\n    }\n    let min = sorted[0].value;\n    if (min === -Infinity) {\n      min = options.minValue;\n    }\n    // get the lower band\n    return {\n      index: 0,\n      min,\n      max: nextThresholdValue,\n      color: sorted[0].color,\n    };\n  };\n\n  const getUpperBand = (sorted: Threshold[]) => {\n    const index = sorted.length - 1;\n    // upper band always has an index greater than zero\n    if (index === 0) {\n      return undefined;\n    }\n    return {\n      index,\n      min: sorted[index].value,\n      max: options.maxValue,\n      color: sorted[index].color,\n    };\n  };\n\n  const getInnerBands = (\n    sorted: Threshold[],\n    lower: ExpandedThresholdBand | undefined,\n    upper: ExpandedThresholdBand | undefined) => {\n    const innerBands: ExpandedThresholdBand[] = [];\n\n    // inner bands only exist if there are valid lower and upper bands\n    if ((lower === undefined) || upper === undefined) {\n      return undefined;\n    }\n    for (let index = lower.index + 1; index < upper.index; index++) {\n      innerBands.push({\n        index,\n        min: sorted[index].value,\n        max: sorted[index + 1].value,\n        color: sorted[index].color,\n      });\n    }\n    return innerBands;\n  };\n\n  const expandThresholdBands = () => {\n    // check if there are no thresholds\n    if (options.thresholds && options.thresholds!.steps.length === 0) {\n      return ({ lowerBand: undefined, innerBands: undefined, upperBand: undefined });\n    }\n    const sorted = sortThresholds(options.thresholds!.steps);\n    // get the lower band\n    const lowerBand = getLowerBand(sorted);\n    // get the upper band\n    const upperBand = getUpperBand(sorted);\n    // get the inner bands\n    const innerBands = getInnerBands(sorted, lowerBand, upperBand);\n    return ({ lowerBand, innerBands, upperBand });\n  };\n\n  const createThresholdBands = () => {\n    // do not show thresholds if this is false\n    if (!options.showThresholdBandOnGauge) {\n      return;\n    }\n    const { lowerBand, innerBands, upperBand } = expandThresholdBands();\n\n    return (\n      <>\n        {options.showThresholdBandLowerRange && lowerBand &&\n          drawBand(lowerBand.min, lowerBand.max, lowerBand.color, originX, originY, options, theme2)}\n        {options.showThresholdBandMiddleRange && innerBands &&\n          innerBands.map((aBand: ExpandedThresholdBand) => {\n            return drawBand(aBand.min, aBand.max, aBand.color, originX, originY, options, theme2);\n          })\n        }\n        {options.showThresholdBandUpperRange && upperBand &&\n          drawBand(upperBand.min, upperBand.max, upperBand.color, originX, originY, options, theme2)}\n      </>\n    );\n  };\n\n  if (needleElement === null) {\n    needleElement = createNeedle();\n  }\n\n  useEffect(() => {\n\n    const updateGauge = (needleGroup: React.JSX.Element | null, newVal: number, newValFormatted: string) => {\n      // Animate the transition of the needle to its new value\n      const oldVal = previousNeedleValue;\n      // Set default values if necessary\n      if (newVal === undefined) {\n        newVal = options.minValue;\n      }\n      // snap to new location by default\n      let transitionSpeed = 0;\n\n      if (options.animateNeedleValueTransition) {\n        transitionSpeed = options.animateNeedleValueTransitionSpeed;\n        // no transition when previous value is NaN\n        if (Number.isNaN(oldVal)) {\n          transitionSpeed = 0;\n        }\n      }\n\n      if (!options.allowNeedleCrossLimits) {\n        if (newVal < options.minValue) {\n          newVal = options.minValue;\n          transitionSpeed = 0;\n        }\n        if (newVal > options.maxValue) {\n          newVal = options.maxValue;\n          transitionSpeed = 0;\n        }\n      }\n\n      const needlePath = select(needleRef.current);\n      const valueScale = scaleLinear()\n        .domain([options.minValue, options.maxValue])\n        .range([options.zeroTickAngle, options.maxTickAngle]);\n      let needleAngleOld = options.zeroNeedleAngle;\n\n      const newScaleVal = valueScale(newVal);\n\n      let needleAngleNew = options.zeroNeedleAngle;\n      if (newScaleVal !== undefined) {\n        needleAngleNew = newScaleVal - options.zeroNeedleAngle;\n      }\n\n      if (valueScale !== undefined && !isNaN(Number(oldVal)) && !isNaN(newVal)) {\n        const oldScaleVal = valueScale(Number(oldVal));\n        if (oldScaleVal !== undefined) {\n          needleAngleOld = oldScaleVal - options.zeroNeedleAngle;\n        }\n        if (newScaleVal !== undefined) {\n          needleAngleNew = newScaleVal - options.zeroNeedleAngle;\n        }\n      }\n\n      needlePath\n        .transition()\n        .duration(transitionSpeed)\n        .ease(easeQuadIn)\n        .attrTween('transform', () => {\n          //\n          // Allow burying the needle if there is space, otherwise lock to min/max\n          //\n          // Check for min/max ends of the needle\n          if (needleAngleOld + options.zeroNeedleAngle > options.maxTickAngle) {\n            needleAngleOld = options.maxNeedleAngle - options.zeroNeedleAngle;\n          }\n          if (needleAngleOld + options.zeroNeedleAngle < options.zeroTickAngle) {\n            needleAngleOld = 0;\n          }\n          if (needleAngleNew + options.zeroNeedleAngle > options.maxTickAngle) {\n            needleAngleNew = getNeedleAngleMaximum(options.allowNeedleCrossLimits, needleAngleNew, options.zeroTickAngle, options.zeroNeedleAngle, options.maxTickAngle, options.needleCrossLimitDegrees);\n          }\n          if (needleAngleNew + options.zeroNeedleAngle < options.zeroTickAngle) {\n            needleAngleNew = getNeedleAngleMinimum(options.allowNeedleCrossLimits, needleAngleNew, options.zeroTickAngle, options.zeroNeedleAngle, options.needleCrossLimitDegrees);\n          }\n          const needleCentre = originX + ',' + originY;\n          return interpolateString(\n            'rotate(' + needleAngleOld + ',' + needleCentre + ')',\n            'rotate(' + needleAngleNew + ',' + needleCentre + ')'\n          );\n        });\n    };\n\n    if (currentNeedleValue !== null && !isNaN(currentNeedleValue)) {\n      updateGauge(needleElement, currentNeedleValue, options.displayFormatted);\n    }\n  }, [options, tickAnglesMaj, tickAnglesMin, tickMajorLabels, needleLengthNegCalc, previousNeedleValue, currentNeedleValue, originX, originY, needleElement]);\n\n  useEffect(() => {\n    // this will trigger updating the gauge\n    if (currentNeedleValue !== options.displayValue) {\n      setPreviousNeedleValue(currentNeedleValue);\n      setCurrentNeedleValue(options.displayValue);\n    }\n  }, [currentNeedleValue, options.displayValue, previousNeedleValue]);\n\n  let valueColor = options.unitsLabelColor;\n  if (options.showThresholdStateOnValue) {\n    if (options.displayValue && options.thresholds) {\n      const aThreshold = getActiveThreshold(options.displayValue, options.thresholds.steps);\n      valueColor = aThreshold.color;\n    }\n  }\n\n\n  return (\n    <div className={divStyles}>\n      <svg\n        className={svgStyles}\n        width={options.panelWidth}\n        height={options.panelHeight}\n        xmlns='http://www.w3.org/2000/svg'\n        xmlnsXlink='http://www.w3.org/1999/xlink'\n        viewBox={`0,0,${SVGSize},${SVGSize}`}\n      >\n        <g>\n          {createCircleGroup()}\n          {createThresholdBands()}\n          {createTicks()}\n          {createMajorTickLabels()}\n          {createNeedleMarkers(options.needleColor, theme2)}\n          {needleElement}\n          {createValueLabel(valueColor)}\n        </g>\n      </svg>\n    </div>\n  );\n};\n\nconst getWrapperStyles = (theme: GrafanaTheme2) => css`\n  fill: transparent;\n  display: flex;\n  align-items: center;\n  text-align: center;\n  justify-content: center;\n`;\n\nconst getSVGStyles = (theme: GrafanaTheme2) => css`\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n  fill: transparent;\n`;\n","\nimport React from 'react';\n\n/**\n * getNeedleAngleMinimum\n *\n * Needle Angle passed in is relative to the \"zeroNeedleAngle\"\n *\n * To get the actual angle to be used this value is added to the zeroNeedleAngle\n *\n * If the value is \"below\" the zeroNeedleAngle, the returned value is just the zeroNeedleAngle\n * If \"burying the needle\" is allowed, then the angle returned will be the zeroNeedleAngle minus 5 degrees.\\\n *  - if the value is less than zero, just the zeroNeedleAngle is returned\n *\n * @param allowNeedleCrossLimits boolean\n * @param needleAngle angle to test\n * @param zeroTickAngle angle where the tick label starts\n * @param zeroNeedleAngle angle where the needle starts\n * @param crossLimitDegree how far to cross limits\n * @returns angle to be used (absolute angle, no longer relative)\n */\nexport const getNeedleAngleMinimum =\n  (allowNeedleCrossLimits: boolean, needleAngle: number, zeroTickAngle: number, zeroNeedleAngle: number, crossLimitDegree: number) => {\n    // check if the needleAngle is below the zeroTickAngle\n    if (needleAngle + zeroNeedleAngle < zeroTickAngle) {\n      // check if burying the needle is enabled\n      if (allowNeedleCrossLimits) {\n        if (needleAngle < zeroTickAngle) {\n          return (-crossLimitDegree);\n        } else {\n          return (zeroNeedleAngle);\n        }\n      } else {\n        return (zeroNeedleAngle);\n      }\n    }\n    return needleAngle;\n  };\n\nexport const getNeedleAngleMaximum = (allowNeedleCrossLimits: boolean, needleAngle: number, zeroTickAngle: number, zeroNeedleAngle: number, maxTickAngle: number, crossLimitDegree: number) => {\n  // angle passed in is relative to zeroTickAngle\n  if (needleAngle + zeroTickAngle > maxTickAngle) {\n    if (allowNeedleCrossLimits) {\n      // check if the needle can be extended beyond max (it is less than 360)\n      const testMaxAngle = needleAngle + zeroTickAngle;\n      // console.log(`testMaxAngle = ${testMaxAngle}`);\n      if (testMaxAngle > maxTickAngle) {\n        // make sure it is not above 360 minus cross limit\n        if (maxTickAngle < (360 - crossLimitDegree)) {\n          // allow it to be set to maxTickAngle plus 5 degrees, without going below zero\n          return (maxTickAngle + crossLimitDegree - zeroNeedleAngle);\n        } else {\n          // console.log(`needle cannot be buried beyond maxNeedleAngle ${testMaxAngle}`);\n          return (maxTickAngle - zeroNeedleAngle);\n        }\n      }\n    } else {\n      return (maxTickAngle - zeroNeedleAngle);\n    }\n  }\n  return (needleAngle - zeroNeedleAngle);\n};\n","import React from 'react';\nimport { PanelProps, GrafanaTheme2, FieldDisplay, getDisplayProcessor, getFieldDisplayValues, formattedValueToString, FieldColorModeId, ThresholdsConfig, ThresholdsMode, getActiveThreshold, Threshold, FieldConfig, DisplayValue } from '@grafana/data';\nimport { GaugeOptions } from './types';\nimport { Gauge } from './Gauge';\nimport { css, cx } from '@emotion/css';\nimport { useStyles2, useTheme2 } from '@grafana/ui';\n\ninterface Props extends PanelProps<GaugeOptions> { }\n\nconst getComponentStyles = (theme: GrafanaTheme2) => {\n  return {\n    wrapper: css`\n      position: relative;\n    `,\n    container: css`\n      align-items: center;\n      justify-content: center;\n      display: flex;\n      height: 100%;\n      width: 100%;\n      & svg > g > polygon {\n        fill: transparent;\n      }\n    `,\n  };\n};\n\nexport const GaugePanel: React.FC<Props> = ({ options, data, id, width, height, replaceVariables, fieldConfig, timeZone }) => {\n  const styles = useStyles2(getComponentStyles);\n  const theme2 = useTheme2();\n  let gaugeRadiusCalc = options.gaugeRadius;\n  // autosize if radius is set to zero\n  if (options.gaugeRadius === 0) {\n    gaugeRadiusCalc = height / 2;\n    if (width < height) {\n      gaugeRadiusCalc = width / 2;\n    }\n  }\n  // calculate the value to be displayed\n  //\n  // code from https://github.com/grafana/grafana/blob/main/public/app/plugins/panel/gauge/GaugePanel.tsx\n  const getValues = (): FieldDisplay[] => {\n\n    for (const frame of data.series) {\n      for (const field of frame.fields) {\n        // Set the Min/Max value automatically for percent and percentunit\n        if (field.config.unit === 'percent' || field.config.unit === 'percentunit') {\n          const min = field.config.min ?? 0;\n          const max = field.config.max ?? (field.config.unit === 'percent' ? 100 : 1);\n          field.state = field.state ?? {};\n          field.state.range = { min, max, delta: max - min };\n          field.display = getDisplayProcessor({ field, theme: theme2 });\n        }\n      }\n    }\n    return getFieldDisplayValues({\n      fieldConfig,\n      reduceOptions: {\n        calcs: [options.operatorName],\n        values: false\n      },\n      replaceVariables,\n      theme: theme2,\n      data: data.series,\n      timeZone,\n    });\n  };\n\n  const DEFAULT_THRESHOLDS: ThresholdsConfig = {\n    mode: ThresholdsMode.Absolute,\n    steps: [\n      { value: -Infinity, color: 'green' },\n      { value: 80, color: 'red' },\n    ],\n  };\n\n  const getThresholdForValue = (\n    field: FieldConfig,\n    value: number,\n    theme: GrafanaTheme2) => {\n\n    if (fieldConfig.defaults.thresholds) {\n      const result = getActiveThreshold(value, field.thresholds?.steps);\n      return result;\n    }\n    return null;\n  };\n\n  const getFormattedValue = (index: number) => {\n    const singleMetric =  metrics[index];\n    return formattedValueToString(singleMetric.display);\n  };\n\n  const getDisplayValue = (index: number) => {\n    const singleMetric = metrics[index];\n    if (!isNaN(singleMetric.display.numeric)) {\n      return singleMetric.display.numeric;\n    }\n    return NaN;\n  };\n\n  // get the formatted metrics\n  const metrics = getValues();\n  const thresholdResult = getThresholdForValue(fieldConfig.defaults, getDisplayValue(0), theme2);\n\n  return (\n    <div\n      className={cx(\n        styles.wrapper,\n        css`\n          width: ${width}px;\n          height: ${height}px;\n        `\n      )}\n    >\n      <div className={cx(styles.container)}>\n        <Gauge\n          displayFormatted={getFormattedValue(0)}\n          displayValue={getDisplayValue(0)}\n          panelId={id}\n          panelWidth={width}\n          panelHeight={height}\n          operatorName={options.operatorName}\n          valueYOffset={options.valueYOffset}\n          valueFontSize={options.valueFontSize}\n          valueFont={options.valueFont}\n          tickLabelFontSize={options.tickLabelFontSize}\n          tickFont={options.tickFont}\n          animateNeedleValueTransition={options.animateNeedleValueTransition}\n          animateNeedleValueTransitionSpeed={options.animateNeedleValueTransitionSpeed}\n          allowNeedleCrossLimits={options.allowNeedleCrossLimits}\n          needleCrossLimitDegrees={options.needleCrossLimitDegrees}\n          markerEndEnabled={options.markerEndEnabled}\n          markerEndShape={options.markerEndShape}\n          markerStartEnabled={options.markerStartEnabled}\n          markerStartShape={options.markerStartShape}\n          minValue={options.minValue}\n          maxValue={options.maxValue}\n          gaugeRadius={gaugeRadiusCalc}\n          pivotRadius={options.pivotRadius * gaugeRadiusCalc}\n          padding={options.padding * gaugeRadiusCalc}\n          edgeWidth={options.edgeWidth * gaugeRadiusCalc}\n          tickEdgeGap={options.tickEdgeGap * gaugeRadiusCalc}\n          tickLengthMaj={options.tickLengthMaj * gaugeRadiusCalc}\n          tickLengthMin={options.tickLengthMin * gaugeRadiusCalc}\n          needleTickGap={options.needleTickGap}\n          needleLengthNeg={options.needleLengthNeg}\n          zeroTickAngle={options.zeroTickAngle}\n          maxTickAngle={options.maxTickAngle}\n          zeroNeedleAngle={options.zeroNeedleAngle}\n          maxNeedleAngle={options.maxNeedleAngle}\n          tickSpacingMajor={options.tickSpacingMajor}\n          tickSpacingMinor={options.tickSpacingMinor}\n          outerEdgeColor={options.outerEdgeColor}\n          innerColor={options.innerColor}\n          pivotColor={options.pivotColor}\n          needleColor={options.needleColor}\n          unitsLabelColor={options.unitsLabelColor}\n          tickLabelColor={options.tickLabelColor}\n          tickMajorColor={options.tickMajorColor}\n          tickMinorColor={options.tickMinorColor}\n          ticknessGaugeBasis={options.ticknessGaugeBasis}\n          tickWidthMajor={options.tickWidthMajor}\n          tickWidthMinor={options.tickWidthMinor}\n          tickMapConfig={options.tickMapConfig}\n          showThresholdBandOnGauge={options.showThresholdBandOnGauge}\n          showThresholdBandLowerRange={options.showThresholdBandLowerRange}\n          showThresholdBandMiddleRange={options.showThresholdBandMiddleRange}\n          showThresholdBandUpperRange={options.showThresholdBandUpperRange}\n          showThresholdStateOnValue={options.showThresholdStateOnValue}\n          showThresholdStateOnBackground={options.showThresholdStateOnBackground}\n          needleWidth={options.needleWidth}\n          thresholds={fieldConfig.defaults.thresholds}\n        />\n      </div>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\n\nimport {\n  IconName,\n  Input,\n  Field,\n  FieldSet,\n  Card,\n  IconButton,\n} from '@grafana/ui';\nimport { TickMapItemProps, TickMapItemType } from './types';\n\nexport const TickMapItem: React.FC<TickMapItemProps> = (props) => {\n  const [tickMap, _setTickMap] = useState(props.tickMap);\n\n  const setTickMap = (value: TickMapItemType) => {\n    _setTickMap(value);\n    props.setter(tickMap.order, value);\n  };\n  const [visibleIcon] = useState<IconName>('eye');\n  const [hiddenIcon] = useState<IconName>('eye-slash');\n\n  const removeItem = () => {\n    props.remover(tickMap.order);\n  };\n\n  const moveUp = () => {\n    props.moveUp(tickMap.order);\n  };\n  const moveDown = () => {\n    props.moveDown(tickMap.order);\n  };\n  const createDuplicate = () => {\n    props.createDuplicate(tickMap.order);\n  };\n\n  return (\n    <Card heading='' key={`tickmap-card-${props.ID}`}>\n      <Card.Meta>\n        <FieldSet>\n          <Field\n            label='Label'\n            description='Sets the name of the Tick Map in the configuration editor'\n            disabled={!tickMap.enabled}\n          >\n            <Input\n              value={tickMap.label}\n              placeholder=''\n              onChange={(e) => setTickMap({ ...tickMap, label: e.currentTarget.value })}\n            />\n          </Field>\n          <Field\n            label='Value'\n            description='Tick Value where the text will be placed'\n            disabled={!tickMap.enabled}\n          >\n            <Input\n              value={tickMap.value}\n              placeholder=''\n              onChange={(e) => setTickMap({ ...tickMap, value: e.currentTarget.value })}\n            />\n          </Field>\n          <Field\n            label='Text'\n            description='Text to be displayed for tick value'\n            disabled={!tickMap.enabled}\n          >\n            <Input\n              value={tickMap.text}\n              placeholder=''\n              onChange={(e) => setTickMap({ ...tickMap, text: e.currentTarget.value })}\n            />\n          </Field>\n        </FieldSet>\n      </Card.Meta>\n\n      <Card.Actions>\n        <IconButton key='moveUp' name='arrow-up' tooltip='Move Up' onClick={moveUp} />\n        <IconButton key='moveDown' name='arrow-down' tooltip='Move Down' onClick={moveDown} />\n        <IconButton\n          key='tickMapEnabled'\n          name={tickMap.enabled ? visibleIcon : hiddenIcon}\n          tooltip='Hide/Show Override'\n          onClick={() => setTickMap({ ...tickMap, enabled: !tickMap.enabled })}\n        />\n        <IconButton key='copyOverride' name='copy' tooltip='Duplicate' onClick={createDuplicate} />\n        <IconButton\n          key='deleteTickMap'\n          variant='destructive'\n          name='trash-alt'\n          tooltip='Delete Tick Map'\n          onClick={removeItem}\n        />\n      </Card.Actions>\n    </Card>\n  );\n};\n","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","import React, { useState } from 'react';\nimport { StandardEditorProps } from '@grafana/data';\nimport { TickMapItem } from './TickMapItem';\nimport { TickMapItemType, TickMapItemTracker } from './types';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Button, Collapse } from '@grafana/ui';\n\nexport interface TickMapEditorSettings {\n  tickMaps: TickMapItemType[];\n  enabled: boolean;\n}\n\ninterface Props extends StandardEditorProps<string | string[] | null, TickMapEditorSettings> { }\n\nexport const TickMapEditor: React.FC<Props> = ({ item, context, onChange }) => {\n  const [settings] = useState(context.options.tickMapConfig || { tickMaps: [] as TickMapItemType[] });\n  const [tracker, _setTracker] = useState((): TickMapItemTracker[] => {\n    if (!settings.tickMaps) {\n      const empty: TickMapItemTracker[] = [];\n      return empty;\n    }\n    const items: TickMapItemTracker[] = [];\n    settings.tickMaps.forEach((value: TickMapItemType, index: number) => {\n      items[index] = {\n        tickMap: value,\n        order: index,\n        ID: uuidv4(),\n      };\n    });\n    return items;\n  });\n\n  const setTracker = (v: TickMapItemTracker[]) => {\n    _setTracker(v);\n    const allTickMaps: TickMapItemType[] = [];\n    v.forEach((element) => {\n      allTickMaps.push(element.tickMap);\n    });\n    const tickMapConfig = {\n      tickMaps: allTickMaps,\n      enabled: settings.enabled,\n    };\n    onChange(tickMapConfig as any);\n  };\n\n  const [isOpen, setIsOpen] = useState((): boolean[] => {\n    if (!tracker) {\n      const empty: boolean[] = [];\n      return empty;\n    }\n    let size = tracker.length;\n    const openStates: boolean[] = [];\n    while (size--) {\n      openStates[size] = false;\n    }\n    return openStates;\n  });\n\n  const updateTickMap = (index: number, value: TickMapItemType) => {\n    tracker[index].tickMap = value;\n    setTracker([...tracker]);\n  };\n\n  const createDuplicate = (index: number) => {\n    const original = tracker[index].tickMap;\n    const order = tracker.length;\n    const aTickMap: TickMapItemType = {\n      label: `${original.label} Copy`,\n      enabled: original.enabled,\n      order,\n      value: original.value,\n      text: original.text\n    };\n    const aTracker: TickMapItemTracker = {\n      tickMap: aTickMap,\n      order,\n      ID: uuidv4(),\n    };\n    setTracker([...tracker, aTracker]);\n    setIsOpen([...isOpen, true]);\n  };\n\n  // generic move\n  const arrayMove = (arr: any, oldIndex: number, newIndex: number) => {\n    if (newIndex >= arr.length) {\n      let k = newIndex - arr.length + 1;\n      while (k--) {\n        arr.push(undefined);\n      }\n    }\n    arr.splice(newIndex, 0, arr.splice(oldIndex, 1)[0]);\n  };\n\n  const moveDown = (index: number) => {\n    if (index !== tracker.length - 1) {\n      arrayMove(tracker, index, index + 1);\n      // reorder\n      for (let i = 0; i < tracker.length; i++) {\n        tracker[i].order = i;\n        tracker[i].tickMap.order = i;\n      }\n      setTracker([...tracker]);\n    }\n  };\n\n  const moveUp = (index: number) => {\n    if (index > 0) {\n      arrayMove(tracker, index, index - 1);\n      // reorder\n      for (let i = 0; i < tracker.length; i++) {\n        tracker[i].order = i;\n        tracker[i].tickMap.order = i;\n      }\n      setTracker([...tracker]);\n    }\n  };\n\n  const removeTickMap = (index: number) => {\n    const allTickMaps = [...tracker];\n    let removeIndex = 0;\n    for (let i = 0; i < allTickMaps.length; i++) {\n      if (allTickMaps[i].order === index) {\n        removeIndex = i;\n        break;\n      }\n    }\n    allTickMaps.splice(removeIndex, 1);\n    // reorder\n    for (let i = 0; i < allTickMaps.length; i++) {\n      allTickMaps[i].order = i;\n      allTickMaps[i].tickMap.order = i;\n    }\n    setTracker([...allTickMaps]);\n  };\n\n  const toggleOpener = (index: number) => {\n    const currentState = [...isOpen];\n    currentState[index] = !currentState[index];\n    setIsOpen([...currentState]);\n  };\n\n  const addItem = () => {\n    const order = tracker.length;\n    const aTickMap: TickMapItemType = {\n      label: `TickMap-${order}`,\n      enabled: true,\n      order,\n      value: '',\n      text: ''\n    };\n    const aTracker: TickMapItemTracker = {\n      tickMap: aTickMap,\n      order,\n      ID: uuidv4(),\n    };\n    setTracker([...tracker, aTracker]);\n    // add an opener also\n    setIsOpen([...isOpen, true]);\n  };\n\n  return (\n    <>\n      <Button fill='solid' variant='primary' icon='plus' onClick={addItem}>\n        Add Tick Map\n      </Button>\n      {tracker &&\n        tracker.map((trackerItem: TickMapItemTracker, index: number) => {\n          return (\n            <Collapse\n              key={`tickmap-collapse-item-index-${trackerItem.ID}`}\n              label={trackerItem.tickMap.label}\n              isOpen={isOpen[index]}\n              onToggle={() => toggleOpener(index)}\n              collapsible\n            >\n              <TickMapItem\n                key={`tickmap-item-index-${trackerItem.ID}`}\n                ID={trackerItem.ID}\n                tickMap={trackerItem.tickMap}\n                enabled={trackerItem.tickMap.enabled}\n                setter={updateTickMap}\n                remover={removeTickMap}\n                moveDown={moveDown}\n                moveUp={moveUp}\n                createDuplicate={createDuplicate}\n                context={context}\n              />\n            </Collapse>\n          );\n        })}\n    </>\n  );\n};\n","import { FieldConfigProperty, PanelPlugin } from '@grafana/data';\nimport { GaugePanel } from './components/GaugePanel';\nimport { FontFamilyOptions, FontSizes, GaugeOptions, GaugePresetOptions, MarkerOptions, OperatorOptions } from 'components/types';\nimport { DataSuggestionsSupplier } from './components/suggestions';\nimport { PanelMigrationHandler } from './migrations';\nimport { TickMapEditor } from 'components/TickMaps/TickMapEditor';\nimport { TickMapItemType } from 'components/TickMaps/types';\n\n\nexport const plugin = new PanelPlugin<GaugeOptions>(GaugePanel)\n  .setMigrationHandler(PanelMigrationHandler)\n  .useFieldConfig({\n    disableStandardOptions: [\n      FieldConfigProperty.Color,\n      FieldConfigProperty.DisplayName,\n      FieldConfigProperty.Links,\n      FieldConfigProperty.Max,\n      FieldConfigProperty.Min,\n      FieldConfigProperty.NoValue,\n    ],\n    standardOptions: {\n      [FieldConfigProperty.Unit]: {\n        defaultValue: 'short'\n      },\n      [FieldConfigProperty.Decimals]: {\n        defaultValue: 2\n      },\n      [FieldConfigProperty.Mappings]: {},\n    },\n  })\n  .setPanelOptions((builder) => {\n    builder\n      // General Settings\n      // stat (operator)\n      .addSelect({\n        name: 'Stat',\n        path: 'operatorName',\n        description: 'Statistic to display',\n        category: ['Standard options'],\n        defaultValue: OperatorOptions[0].value,\n        settings: {\n          options: OperatorOptions,\n        },\n      })\n\n      // Font Settings\n      // Value Font\n      .addSelect({\n        name: 'Value Font',\n        path: 'valueFont',\n        description: 'The font of the value text, at the bottom of the gauge',\n        category: ['Font Settings'],\n        defaultValue: FontFamilyOptions[3].value,\n        settings: {\n          options: FontFamilyOptions,\n        },\n      })\n      // unitsLabelFontSize\n      .addSelect({\n        name: 'Value Font Size',\n        path: 'valueFontSize',\n        description: 'Font Size of Value',\n        category: ['Font Settings'],\n        defaultValue: FontSizes[17].value,\n        settings: {\n          options: FontSizes,\n        },\n      })\n      // tickFont\n      .addSelect({\n        name: 'Tick Label Font',\n        path: 'tickFont',\n        description: 'The font of the tick labels',\n        category: ['Font Settings'],\n        defaultValue: FontFamilyOptions[3].value,\n        settings: {\n          options: FontFamilyOptions,\n        },\n      })\n      // tickLabelFontSize\n      .addSelect({\n        name: 'Tick Label Font Size',\n        path: 'tickLabelFontSize',\n        description: 'Font Size of Value Displayed',\n        category: ['Font Settings'],\n        defaultValue: FontSizes[14].value,\n        settings: {\n          options: FontSizes,\n        },\n      })\n\n      // Presets\n      /*\n      .addSelect({\n        name: 'Preset',\n        path: 'presetIndex',\n        description: 'Modify current gauge with preset values',\n        settings: {\n          options: [\n            { value: GaugePresetOptions[0].id, label: GaugePresetOptions[0].name },\n            { value: GaugePresetOptions[1].id, label: GaugePresetOptions[1].name },\n            { value: GaugePresetOptions[2].id, label: GaugePresetOptions[2].name },\n          ],\n        },\n        defaultValue: GaugePresetOptions[0].id,\n        category: ['Presets'],\n      })\n      */\n      // animateNeedleValueTransition\n      .addBooleanSwitch({\n        name: 'Animate Needle Transition',\n        path: 'animateNeedleValueTransition',\n        defaultValue: true,\n        category: ['Needle Options'],\n        description: 'Animate needle when value changes',\n      })\n      // animateNeedleValueTransitionSpeed\n      .addNumberInput({\n        name: 'Transition Speed (MS)',\n        path: 'animateNeedleValueTransitionSpeed',\n        description: 'How fast to move the needle when value changes in milliseconds, default is 500',\n        defaultValue: 100,\n        settings: {\n          placeHolder: '100',\n          min: 50,\n          integer: true,\n        },\n        category: ['Needle Options'],\n        showIf: (c) => c.animateNeedleValueTransition === true,\n      })\n      // toggle ability to bury the needle (below min, beyond max)\n      .addBooleanSwitch({\n        name: 'Allow Crossing Limits',\n        path: 'allowNeedleCrossLimits',\n        defaultValue: true,\n        category: ['Needle Options'],\n        description: 'Allow needle to render below and above limits',\n      })\n      .addNumberInput({\n        name: 'Needle Cross Limit Degrees',\n        path: 'needleCrossLimitDegrees',\n        description: 'How many degrees to cross below and above minimum and maximum limit, default is 5 degrees',\n        defaultValue: 10,\n        settings: {\n          placeHolder: '10',\n          min: 0,\n          integer: true,\n        },\n        category: ['Needle Options'],\n        showIf: (c) => c.allowNeedleCrossLimits === true,\n      })\n\n      .addNumberInput({\n        name: 'Needle Width',\n        path: 'needleWidth',\n        description: 'Width of Needle, default is 5',\n        defaultValue: 5,\n        settings: {\n          placeHolder: '5',\n          min: 1,\n          integer: true,\n        },\n        category: ['Needle Options'],\n      })\n      // markerEndEnabled\n      .addBooleanSwitch({\n        name: 'Show End Marker',\n        path: 'markerEndEnabled',\n        defaultValue: false,\n        category: ['Needle Options'],\n        description: 'Display a marker at end of needle',\n      })\n      // markerEndShape\n      .addSelect({\n        name: 'End Marker Shape',\n        path: 'markerEndShape',\n        description: 'Shape used at the end of the needle',\n        category: ['Needle Options'],\n        defaultValue: MarkerOptions[0].value,\n        settings: {\n          options: MarkerOptions,\n        },\n        showIf: (c) => c.markerEndEnabled === true,\n      })\n      // markerStartEnabled\n      .addBooleanSwitch({\n        name: 'Show Start Marker',\n        path: 'markerStartEnabled',\n        defaultValue: false,\n        category: ['Needle Options'],\n        description: 'Display a marker at beginning of needle',\n      })\n      // markerStartShape\n      .addSelect({\n        name: 'Start Marker Shape',\n        path: 'markerStartShape',\n        description: 'Shape used at the end of the needle',\n        category: ['Needle Options'],\n        defaultValue: MarkerOptions[1].value,\n        settings: {\n          options: MarkerOptions,\n        },\n        showIf: (c) => c.markerStartEnabled === true,\n      })\n      // Limits\n      .addNumberInput({\n        name: 'Minimum Value',\n        path: 'minValue',\n        description: 'Minimum value displayed by the gauge (left side)',\n        defaultValue: 0,\n        settings: {\n          placeHolder: '0',\n          integer: false,\n        },\n        category: ['Limits'],\n      })\n      .addNumberInput({\n        name: 'Maximum Value',\n        path: 'maxValue',\n        description: 'Maximum value displayed by the gauge (right side)',\n        defaultValue: 100,\n        settings: {\n          placeHolder: '100',\n          integer: false,\n        },\n        category: ['Limits'],\n      })\n\n      // Coloring\n      .addColorPicker({\n        name: 'Outer Edge',\n        path: 'outerEdgeColor',\n        category: ['Coloring'],\n        defaultValue: '#0099cc',\n        description: 'Color of the outer circle',\n      })\n      .addColorPicker({\n        name: 'Inner (Face)',\n        path: 'innerColor',\n        category: ['Coloring'],\n        defaultValue: '#ffffff',\n        description: 'Color of the gauge face',\n      })\n      .addColorPicker({\n        name: 'Pivot',\n        path: 'pivotColor',\n        category: ['Coloring'],\n        defaultValue: '#999999',\n        description: 'Color of the central pivot circle',\n      })\n      .addColorPicker({\n        name: 'Needle',\n        path: 'needleColor',\n        category: ['Coloring'],\n        defaultValue: '#0099cc',\n        description: 'Color of the needle',\n      })\n      .addColorPicker({\n        name: 'Units Label',\n        path: 'unitsLabelColor',\n        category: ['Coloring'],\n        defaultValue: '#000000',\n        description: 'The color of the units text, at the bottom of the gauge',\n      })\n      .addColorPicker({\n        name: 'Tick Label',\n        path: 'tickLabelColor',\n        category: ['Coloring'],\n        defaultValue: '#000000',\n        description: 'The color of the tick labels',\n      })\n      .addColorPicker({\n        name: 'Tick Major',\n        path: 'tickMajorColor',\n        category: ['Coloring'],\n        defaultValue: '#0099CC',\n        description: 'Color of the major ticks',\n      })\n      .addColorPicker({\n        name: 'Tick Minor',\n        path: 'tickMinorColor',\n        category: ['Coloring'],\n        defaultValue: '#000000',\n        description: 'Color of the minor ticks',\n      })\n\n      // Radial Customization\n      .addNumberInput({\n        name: 'Radius',\n        path: 'gaugeRadius',\n        description: 'The radius of the gauge in pixels (0 for autoscaling)',\n        defaultValue: 0,\n        settings: {\n          placeHolder: '0',\n          min: 0,\n          integer: true,\n        },\n        category: ['Radial Customization'],\n      })\n      .addNumberInput({\n        name: 'Tickness Gauge Basis',\n        path: 'ticknessGaugeBasis',\n        description: 'Scaling factor for ticks',\n        defaultValue: 200,\n        settings: {\n          placeHolder: '200',\n          min: 1,\n          integer: true,\n        },\n        category: ['Radial Customization'],\n      })\n      .addNumberInput({\n        name: 'Pivot Radius',\n        path: 'pivotRadius',\n        description: 'Size of the central \\'pivot\\' circle, on which the needle sits, as a percentage of the gauge radius',\n        defaultValue: 0.1,\n        settings: {\n          placeHolder: '0.1',\n          min: 0,\n          integer: false,\n        },\n        category: ['Radial Customization'],\n      })\n      // valueYOffset\n      .addNumberInput({\n        name: 'Value Y-Offset',\n        path: 'valueYOffset',\n        description: 'Adjust the displayed value up or down the Y-Axis, use negative value to move up, positive for down',\n        defaultValue: 0,\n        settings: {\n          integer: true,\n        },\n        category: ['Radial Customization'],\n      })\n      .addNumberInput({\n        name: 'Padding',\n        path: 'padding',\n        description: 'Padding between gauge radius and the outer circle of the gauge, as a percentage of the gauge radius',\n        defaultValue: 0.05,\n        settings: {\n          placeHolder: '0.05',\n          min: 0,\n          integer: false,\n        },\n        category: ['Radial Customization'],\n      })\n      .addNumberInput({\n        name: 'Edge Width',\n        path: 'edgeWidth',\n        description: 'The thickness of the circle around the edge of the gauge, as a percentage of the gauge radius',\n        defaultValue: 0.05,\n        settings: {\n          placeHolder: '0.05',\n          min: 0,\n          step: 0.05,\n          integer: false\n        },\n        category: ['Radial Customization'],\n      })\n      .addNumberInput({\n        name: 'Tick Edge Gap',\n        path: 'tickEdgeGap',\n        description: 'Spacing between ticks and the outer circle, as a percentage of the gauge radius',\n        defaultValue: 0.05,\n        settings: {\n          placeHolder: '0.05',\n          min: 0,\n          integer: false,\n        },\n        category: ['Radial Customization'],\n      })\n      .addNumberInput({\n        name: 'Tick Length Major',\n        path: 'tickLengthMaj',\n        description: 'Length of the major ticks, as a percentage of the gauge radius',\n        defaultValue: 0.15,\n        settings: {\n          placeHolder: '0.15',\n          min: 0,\n          integer: false,\n        },\n        category: ['Radial Customization'],\n      })\n      .addNumberInput({\n        name: 'Tick Width Major',\n        path: 'tickWidthMajor',\n        description: 'Width of the major ticks in pixels',\n        defaultValue: 5,\n        settings: {\n          placeHolder: '5',\n          min: 0,\n          integer: true,\n        },\n        category: ['Radial Customization'],\n      })\n      .addNumberInput({\n        name: 'Tick Length Minor',\n        path: 'tickLengthMin',\n        description: 'Length of the minor ticks, as a percentage of the gauge radius',\n        defaultValue: 0.05,\n        settings: {\n          placeHolder: '0.05',\n          min: 0,\n          integer: false,\n        },\n        category: ['Radial Customization'],\n      })\n      .addNumberInput({\n        name: 'Tick Width Minor',\n        path: 'tickWidthMinor',\n        description: 'Width of the minor ticks in pixels',\n        defaultValue: 1,\n        settings: {\n          placeHolder: '1',\n          min: 0,\n          integer: true,\n        },\n        category: ['Radial Customization'],\n      })\n      .addNumberInput({\n        name: 'Needle Tick Gap',\n        path: 'needleTickGap',\n        description: 'Spacing between ticks the needle end, as a percentage of the gauge radius',\n        defaultValue: 0.05,\n        settings: {\n          placeHolder: '0.05',\n          min: 0,\n          integer: false,\n        },\n        category: ['Radial Customization'],\n      })\n      .addNumberInput({\n        name: 'Needle Length Stem',\n        path: 'needleLengthNeg',\n        description: 'Length of the needle section extending beyond the centre of the gauge, as a percentage of the gauge radius',\n        defaultValue: 0,\n        settings: {\n          placeHolder: '0',\n          min: 0,\n          integer: true,\n        },\n        category: ['Radial Customization'],\n      })\n      // Gauge Degrees\n      .addNumberInput({\n        name: 'Zero Tick Angle',\n        path: 'zeroTickAngle',\n        description: 'Angle where the tick value (0) starts (default 60)',\n        defaultValue: 60,\n        settings: {\n          placeHolder: '60',\n          min: 0,\n          integer: false,\n        },\n        category: ['Gauge Degrees'],\n      })\n      .addNumberInput({\n        name: 'Max Tick Angle',\n        path: 'maxTickAngle',\n        description: 'Angle where the tick value ends (default 300)',\n        defaultValue: 300,\n        settings: {\n          placeHolder: '300',\n          min: 0,\n          integer: false,\n        },\n        category: ['Gauge Degrees'],\n      })\n      .addNumberInput({\n        name: 'Zero Needle Angle',\n        path: 'zeroNeedleAngle',\n        description: 'Angle where needle is at minimum value (default 40)',\n        defaultValue: 40,\n        settings: {\n          placeHolder: '40',\n          min: 0,\n          integer: false,\n        },\n        category: ['Gauge Degrees'],\n      })\n      .addNumberInput({\n        name: 'Max Needle Angle',\n        path: 'maxNeedleAngle',\n        description: 'Angle where needle is at maximum value (default 320)',\n        defaultValue: 320,\n        settings: {\n          placeHolder: '320',\n          min: 0,\n          integer: false,\n        },\n        category: ['Gauge Degrees'],\n      })\n      // Gauge Readings\n      .addNumberInput({\n        name: 'Tick Spacing Minor',\n        path: 'tickSpacingMinor',\n        description: 'The numeric spacing of the minor increment ticks',\n        defaultValue: 1,\n        settings: {\n          placeHolder: '1',\n          min: 1,\n          integer: true,\n        },\n        category: ['Gauge Readings'],\n      })\n      .addNumberInput({\n        name: 'Tick Spacing Major',\n        path: 'tickSpacingMajor',\n        description: 'The numeric spacing of the major increment ticks',\n        defaultValue: 10,\n        settings: {\n          placeHolder: '10',\n          min: 1,\n          integer: true,\n        },\n        category: ['Gauge Readings'],\n      })\n      // tick maps (value to text mapping)\n      .addCustomEditor({\n        name: 'Tick Maps',\n        id: 'tickMapConfig',\n        path: 'tickMapConfig',\n        description: 'Tick Maps',\n        editor: TickMapEditor,\n        defaultValue: {\n          tickMaps: [] as TickMapItemType[],\n        },\n        category: ['Tick Maps'],\n      })\n      // threshold options\n      .addBooleanSwitch({\n        name: 'Show Threshold Band On Gauge',\n        path: 'showThresholdBandOnGauge',\n        defaultValue: false,\n        category: ['Thresholds'],\n        description: 'Thresholds are displayed as a band on face of gauge along the needle arc',\n      })\n      .addBooleanSwitch({\n        name: 'Show Lower Range',\n        path: 'showThresholdBandLowerRange',\n        defaultValue: true,\n        category: ['Thresholds'],\n        description: 'Lower threshold is displayed on band',\n        showIf: (c) => c.showThresholdBandOnGauge === true,\n      })\n      .addBooleanSwitch({\n        name: 'Show Middle Range',\n        path: 'showThresholdBandMiddleRange',\n        defaultValue: true,\n        category: ['Thresholds'],\n        description: 'Middle thresholds are displayed on band',\n        showIf: (c) => c.showThresholdBandOnGauge === true,\n      })\n      .addBooleanSwitch({\n        name: 'Show Upper Range',\n        path: 'showThresholdBandUpperRange',\n        defaultValue: true,\n        category: ['Thresholds'],\n        description: 'Upper threshold is displayed on band',\n        showIf: (c) => c.showThresholdBandOnGauge === true,\n      })\n      .addBooleanSwitch({\n        name: 'Show Threshold State on Background',\n        path: 'showThresholdStateOnBackground',\n        defaultValue: false,\n        category: ['Thresholds'],\n        description: 'Gauge face color changes to state of threshold',\n      })\n      .addBooleanSwitch({\n        name: 'Show Threshold State on Value',\n        path: 'showThresholdStateOnValue',\n        defaultValue: false,\n        category: ['Thresholds'],\n        description: 'Displayed value color changes to state of threshold',\n      });\n\n  })\n  .setSuggestionsSupplier(new DataSuggestionsSupplier());\n","import { FieldConfigSource, PanelModel, ThresholdsConfig, ThresholdsMode, ValueMapping, convertOldAngularValueMappings } from '@grafana/data';\nimport { config } from '@grafana/runtime';\nimport { satisfies, coerce } from 'semver';\n\nimport { FontFamilies, GaugeOptions, GaugePresetOptions, Markers } from './components/types';\nimport { TickMapItemType } from 'components/TickMaps/types';\n\ninterface AngularTickMap {\n  value: string;\n  text: string;\n}\n\ninterface AngularOptions {\n  // limits\n  minValue: number;\n  maxValue: number;\n  // tick spacing\n  tickSpaceMinVal: number;\n  tickSpaceMajVal: number;\n  // units\n  gaugeUnits: string;\n  // radius\n  gaugeRadius: number;\n  pivotRadius: number;\n  // padding\n  padding: number;\n  // edgeWidth\n  edgeWidth: number;\n  // tickEdgeGap\n  tickEdgeGap: number;\n  // tickLengths\n  tickLengthMaj: number;\n  tickLengthMin: number;\n  // needleTickGap\n  needleTickGap: number;\n  // needleLengthNeg\n  needleLengthNeg: number;\n  // ticknessGaugeBasis (scaling)\n  ticknessGaugeBasis: number;\n  // needleWidth\n  needleWidth: number;\n  // colors\n  outerEdgeCol: string;\n  innerCol: string;\n  pivotCol: string;\n  tickColMaj: string;\n  tickColMin: string;\n  tickLabelCol: string;\n  unitsLabelCol: string;\n  // thresholds\n  show: boolean;\n  showLowerThresholdRange: boolean;\n  showMiddleThresholdRange: boolean;\n  showUpperThresholdRange: boolean;\n  showThresholdColorOnBackground: boolean;\n  showThresholdColorOnValue: boolean;\n  showThresholdOnGauge: boolean;\n  thresholdColors: string[];\n  // fonts\n  tickFont: string;\n  unitsFont: string;\n  // font sizes\n  unitsLabelFontSize: number;\n  labelFontSize: number;\n  // ticks\n  tickWidthMaj: number;\n  tickWidthMin: number;\n  // needle\n  zeroNeedleAngle: number;\n  zeroTickAngle: number;\n  //\n  decimals: number;\n  format: string;\n  operatorName: string;\n}\n\n/**\n * This is called when the panel is imported or reloaded\n */\nexport const PanelMigrationHandler = (panel: PanelModel<GaugeOptions>): Partial<GaugeOptions> => {\n  // @ts-ignore\n  if (!panel.gauge) {\n    // not angular, just return the options if currently set\n    if (!panel.options) {\n      // This happens on the first load or when migrating from angular\n      return {} as any;\n    }\n    // have settings, return them unchanged\n    return panel.options;\n  }\n  // @ts-ignore\n  const newDefaults = migrateDefaults(panel.gauge);\n  const options = newDefaults;\n  // using fieldConfig\n  // @ts-ignore\n  panel.fieldConfig = migrateFieldConfig(panel, panel.fieldConfig);\n  // @ts-ignore\n  if (panel.format) {\n    // @ts-ignore\n    options.unitFormat = panel.format;\n    // @ts-ignore\n    delete panel.format;\n  }\n  // @ts-ignore\n  if (panel.decimals) {\n    // @ts-ignore\n    options.decimals = panel.decimals;\n    // @ts-ignore\n    delete panel.decimals;\n  }\n  // @ts-ignore\n  if (panel.thresholds) {\n    // @ts-ignore\n    const migratedThresholds = migrateThresholds(panel.thresholds, panel.colors);\n    panel.fieldConfig.defaults.thresholds = migratedThresholds;\n  }\n  // @ts-ignore\n  delete panel.colors;\n  // @ts-ignore\n  delete panel.thresholds;\n  // @ts-ignore\n  options.tickMapConfig = migrateTickMaps(panel.tickMaps) || [];\n  // @ts-ignore\n  delete panel.tickMaps;\n  // migrate mappingTypes/Value/RangeMaps\n  const newMaps = migrateValueAndRangeMaps(panel);\n  panel.fieldConfig.defaults.mappings = newMaps;\n  // @ts-ignore\n  delete panel.mappingType;\n  // @ts-ignore\n  delete panel.mappingTypes;\n  // @ts-ignore\n  delete panel.rangeMaps;\n  // @ts-ignore\n  delete panel.valueMaps;\n  // operator conversion\n  // @ts-ignore\n  options.operatorName = convertOperators(panel.operatorName);\n  // @ts-ignore\n  delete panel.operatorName;\n  // @ts-ignore\n  delete panel.operatorNameOptions;\n  // general clean up\n  // @ts-ignore\n  delete panel.fontSizes;\n  // @ts-ignore\n  delete panel.fontTypes;\n  // @ts-ignore\n  delete panel.gaugeDivId;\n  // @ts-ignore\n  options.markerEndEnabled = panel.markerEndEnabled;\n  // @ts-ignore\n  options.markerEndShape = Markers.find(e => e.name === panel.markerEndShape) || Markers[0];\n  // @ts-ignore\n  delete panel.markerEndShapes;\n  // @ts-ignore\n  options.markerStartEnabled = panel.markerStartEnabled;\n  // @ts-ignore\n  options.markerStartShape = Markers.find(e => e.name === panel.markerStartShape) || Markers[1];\n  // @ts-ignore\n  delete panel.markerStartShapes;\n  // @ts-ignore\n  delete panel.operatorNameOptions;\n  // @ts-ignore\n  delete panel.svgContainer;\n  // @ts-ignore\n  delete panel.unitFormats;\n  // @ts-ignore\n  delete panel.gauge;\n  // clean up undefined\n  // @ts-ignore\n  Object.keys(panel).forEach((key) => (panel[key] === undefined ? delete panel[key] : {}));\n  // @ts-ignore\n  Object.keys(options).forEach((key) => (options[key] === undefined ? delete options[key] : {}));\n\n  return options;\n};\n\nexport const convertOperators = (operator: string) => {\n  switch (operator) {\n    case 'avg':\n      return 'mean';\n    case 'current':\n      return 'last'; // lastNotNull?\n    case 'time_step':\n      return 'step';\n    case 'total':\n      return 'sum';\n    default:\n      return operator;\n  }\n};\n\nexport const migrateTickMaps = (tickMaps: AngularTickMap[]) => {\n  const newTickMaps: TickMapItemType[] = [];\n  if (!tickMaps || tickMaps.length === 0) {\n    return {\n      tickMaps: newTickMaps\n    };\n  }\n  let count = 0;\n  for (const item of tickMaps) {\n    const aTickMap: TickMapItemType = {\n      label: `Label-${count}`,\n      value: item.value,\n      text: item.text,\n      enabled: true,\n      order: count\n    };\n    newTickMaps.push(aTickMap);\n    count++;\n  }\n  return {\n    tickMaps: newTickMaps\n  };\n};\n\nexport const migrateFieldConfig = (panel: PanelModel<GaugeOptions, any>, fieldConfig: FieldConfigSource<any>) => {\n  // @ts-ignore\n  if (panel.decimals) {\n    // @ts-ignore\n    fieldConfig.decimals = panel.decimals;\n    // @ts-ignore\n    delete panel.decimals;\n  }\n  // units\n  // @ts-ignore\n  if (panel.gauge) {\n    // @ts-ignore\n    if (panel.gauge.gaugeUnits) {\n      // @ts-ignore\n      fieldConfig.unit = panel.gauge.gaugeUnits;\n    }\n  }\n  return fieldConfig;\n};\n\nexport const migrateValueAndRangeMaps = (panel: any) => {\n  // value maps first\n  panel.mappingType = 1;\n  let newValueMappings: ValueMapping[] = [];\n  if (panel.valueMaps !== undefined) {\n    newValueMappings = convertOldAngularValueMappings(panel);\n  }\n  // range maps second\n  panel.mappingType = 2;\n  let newRangeMappings: ValueMapping[] = [];\n  if (panel.rangeMaps !== undefined) {\n    newRangeMappings = convertOldAngularValueMappings(panel);\n  }\n  // append together\n  const newMappings = newValueMappings.concat(newRangeMappings);\n  // get uniques only\n  const uniques = [...new Map(newMappings.map((v) => [JSON.stringify(v), v])).values()];\n  return uniques;\n};\n\n\nexport const migrateDefaults = (angular: AngularOptions) => {\n  // set default values first\n  const options: GaugeOptions = {\n    operatorName: 'mean',\n    valueYOffset: 0,\n    valueFontSize: 22,\n    valueFont: FontFamilies.INTER,\n    tickLabelFontSize: 18,\n    tickFont: FontFamilies.INTER,\n    animateNeedleValueTransition: true,\n    animateNeedleValueTransitionSpeed: 100,\n    allowNeedleCrossLimits: true,\n    needleCrossLimitDegrees: 10,\n    markerEndEnabled: false,\n    markerEndShape: 'arrow',\n    markerStartEnabled: false,\n    markerStartShape: 'circle',\n    // limits\n    minValue: 0,\n    maxValue: 100,\n    //\n    outerEdgeColor: '#0099cc',\n    innerColor: '#ffffff',\n    pivotColor: '#999999',\n    needleColor: '#0099cc',\n    unitsLabelColor: '#000000',\n    tickLabelColor: '#000000',\n    tickMajorColor: '#0099cc',\n    tickMinorColor: '#000000',\n    gaugeRadius: 0,\n    pivotRadius: 0.1,\n    padding: 0.05,\n    edgeWidth: 0.05,\n    tickEdgeGap: 0.05,\n    tickLengthMaj: 0.15,\n    tickLengthMin: 0.05,\n    ticknessGaugeBasis: 200,\n    tickWidthMajor: 5,\n    tickWidthMinor: 1,\n    needleWidth: 5,\n    needleTickGap: 0.05,\n    needleLengthNeg: 0.2,\n    zeroTickAngle: 60,\n    maxTickAngle: 300,\n    zeroNeedleAngle: 40,\n    maxNeedleAngle: 320,\n    // tick spacing\n    tickSpacingMajor: 10,\n    tickSpacingMinor: 1,\n    tickMapConfig: {\n      tickMaps: [],\n      enabled: true,\n    },\n    showThresholdBandOnGauge: false,\n    showThresholdBandLowerRange: false,\n    showThresholdBandMiddleRange: false,\n    showThresholdBandUpperRange: false,\n    displayFormatted: '',\n    displayValue: null,\n    thresholds: undefined,\n    showThresholdStateOnValue: false,\n    showThresholdStateOnBackground: false\n  };\n  // next migrate the angular settings\n\n  // migrate limits\n  if (angular.maxValue) {\n    options.maxValue = angular.maxValue;\n  }\n  if (angular.minValue) {\n    options.minValue = angular.minValue;\n  }\n  // migrate tick spacing\n  if (angular.tickSpaceMajVal) {\n    options.tickSpacingMajor = angular.tickSpaceMajVal;\n  }\n  if (angular.tickSpaceMinVal) {\n    options.tickSpacingMinor = angular.tickSpaceMinVal;\n  }\n  // radius settings\n  if (angular.gaugeRadius) {\n    options.gaugeRadius = angular.gaugeRadius;\n  }\n  if (angular.pivotRadius) {\n    options.pivotRadius = angular.pivotRadius;\n  }\n  // padding\n  if (angular.padding) {\n    options.padding = angular.padding;\n  }\n  // edgeWidth\n  if (angular.edgeWidth) {\n    options.edgeWidth = angular.edgeWidth;\n  }\n  // tickEdgeGap\n  if (angular.tickEdgeGap) {\n    options.tickEdgeGap = angular.tickEdgeGap;\n  }\n  // tickLengthMaj/Min\n  if (angular.tickLengthMaj) {\n    options.tickLengthMaj = angular.tickLengthMaj;\n  }\n  if (angular.tickLengthMin) {\n    options.tickLengthMin = angular.tickLengthMin;\n  }\n  // needleTickGap\n  if (angular.needleTickGap) {\n    options.needleTickGap = angular.needleTickGap;\n  }\n  // needleLengthNeg\n  if (angular.needleLengthNeg) {\n    options.needleLengthNeg = angular.needleLengthNeg;\n  }\n  // ticknessGaugeBasis\n  if (angular.ticknessGaugeBasis) {\n    options.ticknessGaugeBasis = angular.ticknessGaugeBasis;\n  }\n  // needleWidth\n  if (angular.needleWidth) {\n    options.needleWidth = angular.needleWidth;\n  }\n  // color\n  if (angular.outerEdgeCol) {\n    options.outerEdgeColor = angular.outerEdgeCol;\n  }\n  if (angular.innerCol) {\n    options.innerColor = angular.innerCol;\n  }\n  if (angular.pivotCol) {\n    options.pivotColor = angular.pivotCol;\n  }\n  if (angular.tickColMaj) {\n    options.tickMajorColor = angular.tickColMaj;\n  }\n  if (angular.tickColMin) {\n    options.tickMinorColor = angular.tickColMin;\n  }\n  if (angular.tickLabelCol) {\n    options.tickLabelColor = angular.tickLabelCol;\n  }\n  //\n  if (angular.showLowerThresholdRange) {\n    options.showThresholdBandLowerRange = angular.showLowerThresholdRange;\n  }\n  if (angular.showMiddleThresholdRange) {\n    options.showThresholdBandMiddleRange = angular.showMiddleThresholdRange;\n  }\n  if (angular.showUpperThresholdRange) {\n    options.showThresholdBandUpperRange = angular.showUpperThresholdRange;\n  }\n  if (angular.showThresholdColorOnBackground) {\n    options.showThresholdStateOnBackground = angular.showThresholdColorOnBackground;\n  }\n  if (angular.showThresholdColorOnValue) {\n    options.showThresholdStateOnValue = angular.showThresholdColorOnValue;\n  }\n  if (angular.showThresholdOnGauge) {\n    options.showThresholdBandOnGauge = angular.showThresholdOnGauge;\n  }\n  // font\n  if (angular.tickFont) {\n    options.tickFont = angular.tickFont;\n  }\n  if (angular.unitsFont) {\n    options.valueFont = angular.unitsFont;\n  }\n  //\n  if (angular.tickWidthMaj) {\n    options.tickWidthMajor = angular.tickWidthMaj;\n  }\n  if (angular.tickWidthMin) {\n    options.tickWidthMinor = angular.tickWidthMin;\n  }\n  if (angular.unitsLabelCol) {\n    options.unitsLabelColor = angular.unitsLabelCol;\n  }\n  if (angular.unitsLabelFontSize) {\n    options.valueFontSize = angular.unitsLabelFontSize;\n  }\n  if (angular.labelFontSize) {\n    options.tickLabelFontSize = angular.labelFontSize;\n  }\n  if (angular.zeroNeedleAngle) {\n    options.zeroNeedleAngle = angular.zeroNeedleAngle;\n  }\n  if (angular.zeroTickAngle) {\n    options.zeroTickAngle = angular.zeroTickAngle;\n  }\n  return options;\n};\n\nconst migrateThresholds = (thresholds: string, thresholdColors: string[]) => {\n  // default colors are used in case the array passed in is empty\n  const defaultColors = [\n    'rgba(50, 172, 45, 0.97)',\n    'rgba(237, 129, 40, 0.89)',\n    'rgba(245, 54, 54, 0.9)'\n  ];\n\n  const defaultThresholds: ThresholdsConfig = {\n      mode: ThresholdsMode.Absolute,\n      steps: [\n        {\n          color: 'green',\n          value: -Infinity,\n        }\n      ]\n  };\n  if (thresholds.length === 0) {\n    return defaultThresholds;\n  }\n  // convert existing thresholds to new format, the only option is \"absolute\" in the old panel\n  // there should be colors defined, but if there are none, use the defaults\n  const migratedThresholds: ThresholdsConfig = {\n      mode: ThresholdsMode.Absolute,\n      steps: [],\n  };\n  const allThresholds = thresholds.split(',');\n  let useColors = thresholdColors;\n  if (thresholdColors.length === 0) {\n    useColors = defaultColors;\n  }\n  // there should only be two values for thresholds\n  // the values up to the first is implied -Infinity to first value\n  migratedThresholds.steps.push(\n    {\n      color: useColors[0],\n      value: -Infinity,\n    },\n    {\n      color: useColors[1],\n      value: Number(allThresholds[0]),\n    },\n    {\n      color: useColors[2],\n      value: Number(allThresholds[1]),\n    }\n  );\n  return migratedThresholds;\n};\n\n/**\n * This is called when the panel changes from another panel\n *\n * not currently used\n */\nexport const PanelChangedHandler = (\n  panel: PanelModel<Partial<GaugeOptions>> | any,\n  prevPluginId: string,\n  prevOptions: any\n) => {\n  // Changing from angular d3gauge panel\n  if (prevPluginId === 'd3gauge' && prevOptions.angular) {\n    // console.log('detected old panel');\n    const oldOpts = prevOptions.angular;\n    // console.log(JSON.stringify(oldOpts));\n  }\n  return {};\n};\n\n// Roboto font was removed Dec 1, 2022, and releases after that date should not attempt to use it\nexport const hasRobotoFont = () => {\n  const version = coerce(config.buildInfo.version);\n  if (version !== null) {\n    if (satisfies(version, '<9.4.0')) {\n      return true;\n    }\n  }\n  return false;\n};\n","import { VisualizationSuggestionsBuilder } from '@grafana/data';\nimport { GaugeOptions } from './types';\n\nexport class DataSuggestionsSupplier {\n  getSuggestionsForData(builder: VisualizationSuggestionsBuilder) {\n    const { dataSummary: ds } = builder;\n\n    if (!ds.hasData) {\n      return;\n    }\n    if (!ds.hasNumberField) {\n      return;\n    }\n\n    const list = builder.getListAppender<GaugeOptions, {}>({\n      name: 'D3Gauge',\n      pluginId: 'briangann-gauge-panel',\n      options: {},\n    });\n\n    list.append({\n      name: 'D3Gauge',\n    });\n  }\n}\n"],"names":["Yallist","MAX","Symbol","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","UPDATE_AGE_ON_GET","naiveLength","get","self","key","doUse","node","hit","value","isStale","del","now","Date","unshiftNode","maxAge","diff","trim","walker","tail","prev","length","delete","removeNode","Entry","constructor","this","forEachStep","fn","thisp","undefined","call","module","exports","options","max","TypeError","Infinity","lc","stale","dispose","noDisposeOnSet","updateAgeOnGet","reset","mL","allowStale","mA","lengthCalculator","lC","forEach","itemCount","rforEach","head","next","keys","toArray","map","k","values","Map","dump","v","e","filter","h","dumpLru","set","len","has","item","unshift","peek","pop","load","arr","l","expiresAt","prune","ANY","Comparator","comp","parseOptions","loose","split","join","debug","parse","semver","operator","version","r","re","t","COMPARATORLOOSE","COMPARATOR","m","match","SemVer","toString","test","er","cmp","intersects","Range","includePrerelease","startsWith","includes","safeRe","range","raw","format","parseRange","c","first","isNullSet","isAny","comps","memoKey","FLAG_INCLUDE_PRERELEASE","FLAG_LOOSE","cached","cache","hr","HYPHENRANGELOOSE","HYPHENRANGE","replace","hyphenReplace","COMPARATORTRIM","comparatorTrimReplace","TILDETRIM","tildeTrimReplace","CARETTRIM","caretTrimReplace","rangeList","parseComparator","replaceGTE0","rangeMap","comparators","size","result","some","thisComparators","isSatisfiable","rangeComparators","every","thisComparator","rangeComparator","i","testSet","remainingComparators","slice","testComparator","otherComparator","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","id","toLowerCase","replaceTilde","TILDELOOSE","TILDE","_","M","p","pr","ret","replaceCaret","CARETLOOSE","CARET","z","replaceXRange","XRANGELOOSE","XRANGE","gtlt","xM","xm","xp","anyX","STAR","GTE0PRE","GTE0","incPr","$0","from","fM","fm","fp","fpr","fb","to","tM","tm","tp","tpr","tb","prerelease","allowed","major","minor","patch","MAX_LENGTH","MAX_SAFE_INTEGER","compareIdentifiers","LOOSE","FULL","num","build","compare","other","compareMain","comparePre","a","b","compareBuild","inc","release","identifier","identifierBase","base","Number","Error","push","isNaN","s","eq","neq","gt","gte","lt","lte","op","String","rtl","COERCERTL","exec","index","lastIndex","COERCE","versionA","versionB","version1","version2","v1","v2","comparison","v1Higher","highVersion","lowVersion","highHasPre","prefix","throwErrors","parsed","list","sort","internalRe","constants","identifiers","valid","clean","rcompare","compareLoose","rsort","coerce","satisfies","toComparators","maxSatisfying","minSatisfying","minVersion","validRange","outside","gtr","ltr","simplifyRange","subset","src","tokens","SEMVER_SPEC_VERSION","RELEASE_TYPES","rcompareIdentifiers","MAX_SAFE_COMPONENT_LENGTH","MAX_SAFE_BUILD_LENGTH","process","env","NODE_DEBUG","args","console","error","numeric","anum","bnum","looseOption","Object","freeze","emptyOpts","R","LETTERDASHNUMBER","safeRegexReplacements","createToken","name","isGlobal","safe","token","makeSafeRegex","RegExp","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","LONETILDE","LONECARET","r1","r2","versions","maxSV","rangeObj","min","minSV","minver","setMin","comparator","compver","hilo","gtfn","ltefn","ltfn","ecomp","high","low","ranges","simplified","original","minimumVersionWithPreRelease","minimumVersion","simpleSubset","sub","dom","eqSet","Set","gtltComp","higher","lower","hasDomLT","hasDomGT","higherGT","lowerLT","add","needDomLTPre","needDomGTPre","sawNonNull","OUTER","simpleSub","simpleDom","isSub","prototype","iterator","arguments","Node","create","pushNode","res","shift","forEachReverse","n","getReverse","mapReverse","reduce","initial","acc","reduceReverse","Array","toArrayReverse","sliceReverse","splice","start","deleteCount","nodes","inserted","reverse","__WEBPACK_EXTERNAL_MODULE__7644__","__WEBPACK_EXTERNAL_MODULE__3305__","__WEBPACK_EXTERNAL_MODULE__3545__","__WEBPACK_EXTERNAL_MODULE__7388__","__WEBPACK_EXTERNAL_MODULE__8200__","__WEBPACK_EXTERNAL_MODULE__2650__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","d","definition","o","defineProperty","enumerable","obj","prop","hasOwnProperty","toStringTag","FontFamilies","FontFamilyOptions","label","FontSizes","OperatorOptions","Markers","path","viewBox","MarkerOptions","quadIn","dToR","angleDeg","Math","PI","valueToRadians","degreeRange","maxTickAngle","zeroTickAngle","maxValue","minValue","labelXCalc","position","maxLabelLength","labelText","labelFontSize","labelStart","originX","tickAngleRad","cos","labelYCalc","originY","sin","drawBand","end","color","theme2","anArc","arc","vToROptions","xc","innerRadius","gaugeRadius","outerRadius","startAngle","endAngle","fill","visualization","getColorByName","transform","Gauge","divStyles","useStyles2","getWrapperStyles","svgStyles","getSVGStyles","needleRef","useRef","previousNeedleValue","setPreviousNeedleValue","useState","displayValue","currentNeedleValue","setCurrentNeedleValue","useTheme2","needlePathLength","setNeedlePathLength","needlePathStart","setNeedlePathStart","tickStartMaj","setTickStartMaj","tickStartMin","setTickStartMin","setLabelStart","tickAnglesMaj","setTickAnglesMaj","tickAnglesMin","setTickAnglesMin","margin","setMargin","top","right","bottom","left","tickMajorLabels","setTickMajorLabels","SVGSize","needleWidth","ticknessGaugeBasis","needleLengthNegCalc","needleLengthNeg","tickWidthMajorCalc","tickWidthMajor","tickWidthMinorCalc","tickWidthMinor","outerEdgeRadius","padding","innerEdgeRadius","edgeWidth","needleElement","useEffect","needleLenPosCalc","tickEdgeGap","tickLengthMaj","needleTickGap","tickStartMajor","tickStartMinor","tickLengthMin","tmpTickLabelFontSize","scaleLabelFontSize","tickLabelFontSize","tickSpacingMajor","tickSpacingMinor","valueScale","scaleLinear","domain","scaleZero","tickSpacingMajDeg","tickSpacingMinDeg","tickMaj","tickMin","majorDegree","minorDegree","majorAngles","counter","minorAngles","j","exists","generateTickAngles","JSON","stringify","genTickMajorLabels","tickLabelText","tickValue","parts","tickText","toFixed","tickTextFloat","parseFloat","aTickMap","tickMapConfig","tickMaps","text","generateTickMajorLabels","fontSize","radius","scaledFontSize","pathNeedle","degree","nAngleRad","y1","y2","x1","x2","lineSVG","line","needleCalc","zeroNeedleAngle","markerEndShape","find","markerStartShape","g","ref","markerEnd","markerEndEnabled","markerStart","markerStartEnabled","markerHeight","markerWidth","strokeLinecap","stroke","needleColor","strokeWidth","createNeedle","needleGroup","newVal","newValFormatted","oldVal","transitionSpeed","animateNeedleValueTransition","animateNeedleValueTransitionSpeed","allowNeedleCrossLimits","needlePath","select","current","needleAngleOld","newScaleVal","needleAngleNew","oldScaleVal","transition","duration","ease","easeQuadIn","attrTween","needleAngle","crossLimitDegree","maxNeedleAngle","getNeedleAngleMaximum","needleCrossLimitDegrees","needleCentre","interpolateString","updateGauge","displayFormatted","valueColor","unitsLabelColor","showThresholdStateOnValue","thresholds","getActiveThreshold","steps","div","className","svg","width","panelWidth","height","panelHeight","xmlns","xmlnsXlink","gaugeFaceColor","innerColor","showThresholdStateOnBackground","circle","cx","cy","outerEdgeColor","pivotRadius","pivotColor","createCircleGroup","showThresholdBandOnGauge","lowerBand","innerBands","upperBand","sorted","sortThresholds","numBands","nextThresholdValue","getLowerBand","getUpperBand","upper","getInnerBands","expandThresholdBands","showThresholdBandLowerRange","showThresholdBandMiddleRange","aBand","showThresholdBandUpperRange","createThresholdBands","pathTicksMajor","degrees","paths","tickCalcMaj","pathTicksMinor","tickCalcMin","tickMinorColor","tickMajorColor","createTicks","x","y","textAnchor","tickLabelColor","fontWeight","fontFamily","tickFont","createMajorTickLabels","defs","marker","refX","refY","markerUnits","orient","createNeedleMarkers","valueFontSize","valueYOffset","valueFont","createValueLabel","theme","css","getComponentStyles","wrapper","container","TickMapItem","props","tickMap","_setTickMap","setTickMap","setter","order","visibleIcon","hiddenIcon","Card","heading","ID","Meta","FieldSet","Field","description","disabled","enabled","Input","placeholder","onChange","currentTarget","Actions","IconButton","tooltip","onClick","moveUp","moveDown","createDuplicate","variant","remover","randomUUID","crypto","bind","getRandomValues","rnds8","Uint8Array","rng","byteToHex","buf","offset","rnds","random","unsafeStringify","TickMapEditor","context","settings","tracker","_setTracker","items","uuidv4","setTracker","allTickMaps","element","isOpen","setIsOpen","openStates","updateTickMap","aTracker","arrayMove","oldIndex","newIndex","removeTickMap","removeIndex","Button","icon","trackerItem","Collapse","onToggle","currentState","toggleOpener","collapsible","plugin","PanelPlugin","data","replaceVariables","fieldConfig","timeZone","styles","gaugeRadiusCalc","ThresholdsMode","Absolute","getDisplayValue","singleMetric","metrics","display","NaN","frame","series","field","fields","config","unit","state","delta","getDisplayProcessor","getFieldDisplayValues","reduceOptions","calcs","operatorName","getValues","defaults","getThresholdForValue","formattedValueToString","getFormattedValue","panelId","setMigrationHandler","panel","gauge","angular","INTER","tickSpaceMajVal","tickSpaceMinVal","outerEdgeCol","innerCol","pivotCol","tickColMaj","tickColMin","tickLabelCol","showLowerThresholdRange","showMiddleThresholdRange","showUpperThresholdRange","showThresholdColorOnBackground","showThresholdColorOnValue","showThresholdOnGauge","unitsFont","tickWidthMaj","tickWidthMin","unitsLabelCol","unitsLabelFontSize","migrateDefaults","decimals","gaugeUnits","migrateFieldConfig","unitFormat","migratedThresholds","thresholdColors","defaultThresholds","mode","allThresholds","useColors","migrateThresholds","colors","newTickMaps","count","migrateTickMaps","newMaps","mappingType","newValueMappings","valueMaps","convertOldAngularValueMappings","newRangeMappings","rangeMaps","newMappings","concat","migrateValueAndRangeMaps","mappings","mappingTypes","convertOperators","operatorNameOptions","fontSizes","fontTypes","gaugeDivId","markerEndShapes","markerStartShapes","svgContainer","unitFormats","useFieldConfig","disableStandardOptions","FieldConfigProperty","Color","DisplayName","Links","Max","Min","NoValue","standardOptions","Unit","defaultValue","Decimals","Mappings","setPanelOptions","builder","addSelect","category","addBooleanSwitch","addNumberInput","placeHolder","integer","showIf","addColorPicker","step","addCustomEditor","editor","setSuggestionsSupplier","getSuggestionsForData","dataSummary","ds","hasData","hasNumberField","getListAppender","pluginId","append"],"sourceRoot":""}